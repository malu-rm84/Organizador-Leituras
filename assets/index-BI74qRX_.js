function IP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function aE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lE={exports:{}},Pd={},cE={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),bP=Symbol.for("react.portal"),AP=Symbol.for("react.fragment"),RP=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),NP=Symbol.for("react.provider"),kP=Symbol.for("react.context"),OP=Symbol.for("react.forward_ref"),DP=Symbol.for("react.suspense"),LP=Symbol.for("react.memo"),MP=Symbol.for("react.lazy"),$0=Symbol.iterator;function jP(t){return t===null||typeof t!="object"?null:(t=$0&&t[$0]||t["@@iterator"],typeof t=="function"?t:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dE=Object.assign,hE={};function $o(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fE(){}fE.prototype=$o.prototype;function Um(t,e,n){this.props=t,this.context=e,this.refs=hE,this.updater=n||uE}var $m=Um.prototype=new fE;$m.constructor=Um;dE($m,$o.prototype);$m.isPureReactComponent=!0;var B0=Array.isArray,pE=Object.prototype.hasOwnProperty,Bm={current:null},mE={key:!0,ref:!0,__self:!0,__source:!0};function gE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)pE.call(e,r)&&!mE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ll,type:t,key:i,ref:o,props:s,_owner:Bm.current}}function VP(t,e){return{$$typeof:Ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ll}function FP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z0=/\/+/g;function Yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FP(""+t.key):e.toString(36)}function nu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ll:case bP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Yh(o,0):r,B0(s)?(n="",t!=null&&(n=t.replace(z0,"$&/")+"/"),nu(s,e,n,"",function(u){return u})):s!=null&&(zm(s)&&(s=VP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(z0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",B0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Yh(i,a);o+=nu(i,e,n,l,s)}else if(l=jP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Yh(i,a++),o+=nu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ec(t,e,n){if(t==null)return t;var r=[],s=0;return nu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function UP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},ru={transition:null},$P={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:ru,ReactCurrentOwner:Bm};function vE(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Ec,forEach:function(t,e,n){Ec(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=$o;_e.Fragment=AP;_e.Profiler=PP;_e.PureComponent=Um;_e.StrictMode=RP;_e.Suspense=DP;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$P;_e.act=vE;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Bm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pE.call(e,l)&&!mE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ll,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:kP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NP,_context:t},t.Consumer=t};_e.createElement=gE;_e.createFactory=function(t){var e=gE.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:OP,render:t}};_e.isValidElement=zm;_e.lazy=function(t){return{$$typeof:MP,_payload:{_status:-1,_result:t},_init:UP}};_e.memo=function(t,e){return{$$typeof:LP,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=ru.transition;ru.transition={};try{t()}finally{ru.transition=e}};_e.unstable_act=vE;_e.useCallback=function(t,e){return Wt.current.useCallback(t,e)};_e.useContext=function(t){return Wt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Wt.current.useEffect(t,e)};_e.useId=function(){return Wt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Wt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};_e.useRef=function(t){return Wt.current.useRef(t)};_e.useState=function(t){return Wt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Wt.current.useTransition()};_e.version="18.3.1";cE.exports=_e;var g=cE.exports;const W=aE(g),yE=IP({__proto__:null,default:W},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=g,zP=Symbol.for("react.element"),HP=Symbol.for("react.fragment"),WP=Object.prototype.hasOwnProperty,qP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function _E(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WP.call(e,r)&&!KP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:zP,type:t,key:i,ref:o,props:s,_owner:qP.current}}Pd.Fragment=HP;Pd.jsx=_E;Pd.jsxs=_E;lE.exports=Pd;var d=lE.exports,Jf={},wE={exports:{}},fn={},xE={exports:{}},EE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,z){var X=j.length;j.push(z);e:for(;0<X;){var Q=X-1>>>1,Y=j[Q];if(0<s(Y,z))j[Q]=z,j[X]=Y,X=Q;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var z=j[0],X=j.pop();if(X!==z){j[0]=X;e:for(var Q=0,Y=j.length,se=Y>>>1;Q<se;){var Te=2*(Q+1)-1,F=j[Te],ee=Te+1,K=j[ee];if(0>s(F,X))ee<Y&&0>s(K,F)?(j[Q]=K,j[ee]=X,Q=ee):(j[Q]=F,j[Te]=X,Q=Te);else if(ee<Y&&0>s(K,X))j[Q]=K,j[ee]=X,Q=ee;else break e}}return z}function s(j,z){var X=j.sortIndex-z.sortIndex;return X!==0?X:j.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,f=3,y=!1,T=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=j)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function P(j){if(v=!1,S(j),!T)if(n(l)!==null)T=!0,G(D);else{var z=n(u);z!==null&&ie(P,z.startTime-j)}}function D(j,z){T=!1,v&&(v=!1,_(C),C=-1),y=!0;var X=f;try{for(S(z),p=n(l);p!==null&&(!(p.expirationTime>z)||j&&!k());){var Q=p.callback;if(typeof Q=="function"){p.callback=null,f=p.priorityLevel;var Y=Q(p.expirationTime<=z);z=t.unstable_now(),typeof Y=="function"?p.callback=Y:p===n(l)&&r(l),S(z)}else r(l);p=n(l)}if(p!==null)var se=!0;else{var Te=n(u);Te!==null&&ie(P,Te.startTime-z),se=!1}return se}finally{p=null,f=X,y=!1}}var L=!1,I=null,C=-1,R=5,N=-1;function k(){return!(t.unstable_now()-N<R)}function O(){if(I!==null){var j=t.unstable_now();N=j;var z=!0;try{z=I(!0,j)}finally{z?b():(L=!1,I=null)}}else L=!1}var b;if(typeof x=="function")b=function(){x(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=O,b=function(){ne.postMessage(null)}}else b=function(){E(O,0)};function G(j){I=j,L||(L=!0,b())}function ie(j,z){C=E(function(){j(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,G(D))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var X=f;f=z;try{return j()}finally{f=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var X=f;f=j;try{return z()}finally{f=X}},t.unstable_scheduleCallback=function(j,z,X){var Q=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Q+X:Q):X=Q,j){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,j={id:h++,callback:z,priorityLevel:j,startTime:X,expirationTime:Y,sortIndex:-1},X>Q?(j.sortIndex=X,e(u,j),n(l)===null&&j===n(u)&&(v?(_(C),C=-1):v=!0,ie(P,X-Q))):(j.sortIndex=Y,e(l,j),T||y||(T=!0,G(D))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var z=f;return function(){var X=f;f=z;try{return j.apply(this,arguments)}finally{f=X}}}})(EE);xE.exports=EE;var GP=xE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QP=g,hn=GP;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TE=new Set,nl={};function Ti(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(nl[t]=e,t=0;t<e.length;t++)TE.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H0={},W0={};function XP(t){return Zf.call(W0,t)?!0:Zf.call(H0,t)?!1:YP.test(t)?W0[t]=!0:(H0[t]=!0,!1)}function JP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZP(t,e,n,r){if(e===null||typeof e>"u"||JP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hm=/[\-:]([a-z])/g;function Wm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);Tt[e]=new qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hm,Wm);Tt[e]=new qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hm,Wm);Tt[e]=new qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function qm(t,e,n,r){var s=Tt.hasOwnProperty(e)?Tt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZP(e,n,s,r)&&(n=null),r||s===null?XP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Dr=QP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),Hi=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),SE=Symbol.for("react.provider"),CE=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),q0=Symbol.iterator;function _a(t){return t===null||typeof t!="object"?null:(t=q0&&t[q0]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,Xh;function Na(t){if(Xh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xh=e&&e[1]||""}return`
`+Xh+t}var Jh=!1;function Zh(t,e){if(!t||Jh)return"";Jh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Jh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function eN(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Zh(t.type,!1),t;case 11:return t=Zh(t.type.render,!1),t;case 1:return t=Zh(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wi:return"Fragment";case Hi:return"Portal";case ep:return"Profiler";case Km:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CE:return(t.displayName||"Context")+".Consumer";case SE:return(t._context.displayName||"Context")+".Provider";case Gm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qm:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function tN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===Km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ws(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nN(t){var e=bE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sc(t){t._valueTracker||(t._valueTracker=nN(t))}function AE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sp(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function K0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ws(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RE(t,e){e=e.checked,e!=null&&qm(t,"checked",e,!1)}function ip(t,e){RE(t,e);var n=ws(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?op(t,e.type,n):e.hasOwnProperty("defaultValue")&&op(t,e.type,ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function op(t,e,n){(e!=="number"||Ru(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ka=Array.isArray;function no(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ws(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(ka(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ws(n)}}function PE(t,e){var n=ws(e.value),r=ws(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Y0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,kE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rN=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){rN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ua[e]=Ua[t]})});function OE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+e).trim():e+"px"}function DE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=OE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sN=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(sN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function up(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hp=null,ro=null,so=null;function X0(t){if(t=Vl(t)){if(typeof hp!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Ld(e),hp(t.stateNode,t.type,e))}}function LE(t){ro?so?so.push(t):so=[t]:ro=t}function ME(){if(ro){var t=ro,e=so;if(so=ro=null,X0(t),e)for(t=0;t<e.length;t++)X0(e[t])}}function jE(t,e){return t(e)}function VE(){}var ef=!1;function FE(t,e,n){if(ef)return t(e,n);ef=!0;try{return jE(t,e,n)}finally{ef=!1,(ro!==null||so!==null)&&(VE(),ME())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ld(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var fp=!1;if(Tr)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){fp=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{fp=!1}function iN(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var $a=!1,Pu=null,Nu=!1,pp=null,oN={onError:function(t){$a=!0,Pu=t}};function aN(t,e,n,r,s,i,o,a,l){$a=!1,Pu=null,iN.apply(oN,arguments)}function lN(t,e,n,r,s,i,o,a,l){if(aN.apply(this,arguments),$a){if($a){var u=Pu;$a=!1,Pu=null}else throw Error(H(198));Nu||(Nu=!0,pp=u)}}function Si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function J0(t){if(Si(t)!==t)throw Error(H(188))}function cN(t){var e=t.alternate;if(!e){if(e=Si(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return J0(s),t;if(i===r)return J0(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function $E(t){return t=cN(t),t!==null?BE(t):null}function BE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BE(t);if(e!==null)return e;t=t.sibling}return null}var zE=hn.unstable_scheduleCallback,Z0=hn.unstable_cancelCallback,uN=hn.unstable_shouldYield,dN=hn.unstable_requestPaint,et=hn.unstable_now,hN=hn.unstable_getCurrentPriorityLevel,Xm=hn.unstable_ImmediatePriority,HE=hn.unstable_UserBlockingPriority,ku=hn.unstable_NormalPriority,fN=hn.unstable_LowPriority,WE=hn.unstable_IdlePriority,Nd=null,Kn=null;function pN(t){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Nd,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:vN,mN=Math.log,gN=Math.LN2;function vN(t){return t>>>=0,t===0?32:31-(mN(t)/gN|0)|0}var Ic=64,bc=4194304;function Oa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ou(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Oa(a):(i&=o,i!==0&&(r=Oa(i)))}else o=n&~s,o!==0?r=Oa(o):i!==0&&(r=Oa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),s=1<<n,r|=t[n],e&=~s;return r}function yN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _N(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Rn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=yN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function mp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qE(){var t=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),t}function tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function wN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Rn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function KE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GE,Zm,QE,YE,XE,gp=!1,Ac=[],as=null,ls=null,cs=null,il=new Map,ol=new Map,Xr=[],xN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e_(t,e){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function xa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vl(e),e!==null&&Zm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function EN(t,e,n,r,s){switch(e){case"focusin":return as=xa(as,t,e,n,r,s),!0;case"dragenter":return ls=xa(ls,t,e,n,r,s),!0;case"mouseover":return cs=xa(cs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return il.set(i,xa(il.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ol.set(i,xa(ol.get(i)||null,t,e,n,r,s)),!0}return!1}function JE(t){var e=Qs(t.target);if(e!==null){var n=Si(e);if(n!==null){if(e=n.tag,e===13){if(e=UE(n),e!==null){t.blockedOn=e,XE(t.priority,function(){QE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function su(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dp=r,n.target.dispatchEvent(r),dp=null}else return e=Vl(n),e!==null&&Zm(e),t.blockedOn=n,!1;e.shift()}return!0}function t_(t,e,n){su(t)&&n.delete(e)}function TN(){gp=!1,as!==null&&su(as)&&(as=null),ls!==null&&su(ls)&&(ls=null),cs!==null&&su(cs)&&(cs=null),il.forEach(t_),ol.forEach(t_)}function Ea(t,e){t.blockedOn===e&&(t.blockedOn=null,gp||(gp=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,TN)))}function al(t){function e(s){return Ea(s,t)}if(0<Ac.length){Ea(Ac[0],t);for(var n=1;n<Ac.length;n++){var r=Ac[n];r.blockedOn===t&&(r.blockedOn=null)}}for(as!==null&&Ea(as,t),ls!==null&&Ea(ls,t),cs!==null&&Ea(cs,t),il.forEach(e),ol.forEach(e),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)JE(n),n.blockedOn===null&&Xr.shift()}var io=Dr.ReactCurrentBatchConfig,Du=!0;function SN(t,e,n,r){var s=Ne,i=io.transition;io.transition=null;try{Ne=1,eg(t,e,n,r)}finally{Ne=s,io.transition=i}}function CN(t,e,n,r){var s=Ne,i=io.transition;io.transition=null;try{Ne=4,eg(t,e,n,r)}finally{Ne=s,io.transition=i}}function eg(t,e,n,r){if(Du){var s=vp(t,e,n,r);if(s===null)hf(t,e,r,Lu,n),e_(t,r);else if(EN(s,t,e,n,r))r.stopPropagation();else if(e_(t,r),e&4&&-1<xN.indexOf(t)){for(;s!==null;){var i=Vl(s);if(i!==null&&GE(i),i=vp(t,e,n,r),i===null&&hf(t,e,r,Lu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hf(t,e,r,null,n)}}var Lu=null;function vp(t,e,n,r){if(Lu=null,t=Ym(r),t=Qs(t),t!==null)if(e=Si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lu=t,null}function ZE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hN()){case Xm:return 1;case HE:return 4;case ku:case fN:return 16;case WE:return 536870912;default:return 16}default:return 16}}var rs=null,tg=null,iu=null;function eT(){if(iu)return iu;var t,e=tg,n=e.length,r,s="value"in rs?rs.value:rs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return iu=s.slice(t,1<r?1-r:void 0)}function ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rc(){return!0}function n_(){return!1}function pn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rc:n_,this.isPropagationStopped=n_,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),e}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ng=pn(Bo),jl=He({},Bo,{view:0,detail:0}),IN=pn(jl),nf,rf,Ta,kd=He({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ta&&(Ta&&t.type==="mousemove"?(nf=t.screenX-Ta.screenX,rf=t.screenY-Ta.screenY):rf=nf=0,Ta=t),nf)},movementY:function(t){return"movementY"in t?t.movementY:rf}}),r_=pn(kd),bN=He({},kd,{dataTransfer:0}),AN=pn(bN),RN=He({},jl,{relatedTarget:0}),sf=pn(RN),PN=He({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),NN=pn(PN),kN=He({},Bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ON=pn(kN),DN=He({},Bo,{data:0}),s_=pn(DN),LN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jN[t])?!!e[t]:!1}function rg(){return VN}var FN=He({},jl,{key:function(t){if(t.key){var e=LN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rg,charCode:function(t){return t.type==="keypress"?ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UN=pn(FN),$N=He({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i_=pn($N),BN=He({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rg}),zN=pn(BN),HN=He({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),WN=pn(HN),qN=He({},kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KN=pn(qN),GN=[9,13,27,32],sg=Tr&&"CompositionEvent"in window,Ba=null;Tr&&"documentMode"in document&&(Ba=document.documentMode);var QN=Tr&&"TextEvent"in window&&!Ba,tT=Tr&&(!sg||Ba&&8<Ba&&11>=Ba),o_=" ",a_=!1;function nT(t,e){switch(t){case"keyup":return GN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qi=!1;function YN(t,e){switch(t){case"compositionend":return rT(e);case"keypress":return e.which!==32?null:(a_=!0,o_);case"textInput":return t=e.data,t===o_&&a_?null:t;default:return null}}function XN(t,e){if(qi)return t==="compositionend"||!sg&&nT(t,e)?(t=eT(),iu=tg=rs=null,qi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tT&&e.locale!=="ko"?null:e.data;default:return null}}var JN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JN[t.type]:e==="textarea"}function sT(t,e,n,r){LE(r),e=Mu(e,"onChange"),0<e.length&&(n=new ng("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var za=null,ll=null;function ZN(t){mT(t,0)}function Od(t){var e=Qi(t);if(AE(e))return t}function ek(t,e){if(t==="change")return e}var iT=!1;if(Tr){var of;if(Tr){var af="oninput"in document;if(!af){var c_=document.createElement("div");c_.setAttribute("oninput","return;"),af=typeof c_.oninput=="function"}of=af}else of=!1;iT=of&&(!document.documentMode||9<document.documentMode)}function u_(){za&&(za.detachEvent("onpropertychange",oT),ll=za=null)}function oT(t){if(t.propertyName==="value"&&Od(ll)){var e=[];sT(e,ll,t,Ym(t)),FE(ZN,e)}}function tk(t,e,n){t==="focusin"?(u_(),za=e,ll=n,za.attachEvent("onpropertychange",oT)):t==="focusout"&&u_()}function nk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Od(ll)}function rk(t,e){if(t==="click")return Od(e)}function sk(t,e){if(t==="input"||t==="change")return Od(e)}function ik(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:ik;function cl(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zf.call(e,s)||!On(t[s],e[s]))return!1}return!0}function d_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h_(t,e){var n=d_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d_(n)}}function aT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lT(){for(var t=window,e=Ru();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ru(t.document)}return e}function ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ok(t){var e=lT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aT(n.ownerDocument.documentElement,n)){if(r!==null&&ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=h_(n,i);var o=h_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ak=Tr&&"documentMode"in document&&11>=document.documentMode,Ki=null,yp=null,Ha=null,_p=!1;function f_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||Ki==null||Ki!==Ru(r)||(r=Ki,"selectionStart"in r&&ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ha&&cl(Ha,r)||(Ha=r,r=Mu(yp,"onSelect"),0<r.length&&(e=new ng("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ki)))}function Pc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gi={animationend:Pc("Animation","AnimationEnd"),animationiteration:Pc("Animation","AnimationIteration"),animationstart:Pc("Animation","AnimationStart"),transitionend:Pc("Transition","TransitionEnd")},lf={},cT={};Tr&&(cT=document.createElement("div").style,"AnimationEvent"in window||(delete Gi.animationend.animation,delete Gi.animationiteration.animation,delete Gi.animationstart.animation),"TransitionEvent"in window||delete Gi.transitionend.transition);function Dd(t){if(lf[t])return lf[t];if(!Gi[t])return t;var e=Gi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cT)return lf[t]=e[n];return t}var uT=Dd("animationend"),dT=Dd("animationiteration"),hT=Dd("animationstart"),fT=Dd("transitionend"),pT=new Map,p_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){pT.set(t,e),Ti(e,[t])}for(var cf=0;cf<p_.length;cf++){var uf=p_[cf],lk=uf.toLowerCase(),ck=uf[0].toUpperCase()+uf.slice(1);Ps(lk,"on"+ck)}Ps(uT,"onAnimationEnd");Ps(dT,"onAnimationIteration");Ps(hT,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(fT,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Da));function m_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lN(r,e,void 0,t),t.currentTarget=null}function mT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;m_(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;m_(s,a,u),i=l}}}if(Nu)throw t=pp,Nu=!1,pp=null,t}function Ve(t,e){var n=e[Sp];n===void 0&&(n=e[Sp]=new Set);var r=t+"__bubble";n.has(r)||(gT(e,t,2,!1),n.add(r))}function df(t,e,n){var r=0;e&&(r|=4),gT(n,t,r,e)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[Nc]){t[Nc]=!0,TE.forEach(function(n){n!=="selectionchange"&&(uk.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nc]||(e[Nc]=!0,df("selectionchange",!1,e))}}function gT(t,e,n,r){switch(ZE(e)){case 1:var s=SN;break;case 4:s=CN;break;default:s=eg}n=s.bind(null,e,n,t),s=void 0,!fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Qs(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}FE(function(){var u=i,h=Ym(n),p=[];e:{var f=pT.get(t);if(f!==void 0){var y=ng,T=t;switch(t){case"keypress":if(ou(n)===0)break e;case"keydown":case"keyup":y=UN;break;case"focusin":T="focus",y=sf;break;case"focusout":T="blur",y=sf;break;case"beforeblur":case"afterblur":y=sf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=r_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=AN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=zN;break;case uT:case dT:case hT:y=NN;break;case fT:y=WN;break;case"scroll":y=IN;break;case"wheel":y=KN;break;case"copy":case"cut":case"paste":y=ON;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=i_}var v=(e&4)!==0,E=!v&&t==="scroll",_=v?f!==null?f+"Capture":null:f;v=[];for(var x=u,S;x!==null;){S=x;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,_!==null&&(P=sl(x,_),P!=null&&v.push(dl(x,P,S)))),E)break;x=x.return}0<v.length&&(f=new y(f,T,null,n,h),p.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==dp&&(T=n.relatedTarget||n.fromElement)&&(Qs(T)||T[Sr]))break e;if((y||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=u,T=T?Qs(T):null,T!==null&&(E=Si(T),T!==E||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=u),y!==T)){if(v=r_,P="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=i_,P="onPointerLeave",_="onPointerEnter",x="pointer"),E=y==null?f:Qi(y),S=T==null?f:Qi(T),f=new v(P,x+"leave",y,n,h),f.target=E,f.relatedTarget=S,P=null,Qs(h)===u&&(v=new v(_,x+"enter",T,n,h),v.target=S,v.relatedTarget=E,P=v),E=P,y&&T)t:{for(v=y,_=T,x=0,S=v;S;S=Mi(S))x++;for(S=0,P=_;P;P=Mi(P))S++;for(;0<x-S;)v=Mi(v),x--;for(;0<S-x;)_=Mi(_),S--;for(;x--;){if(v===_||_!==null&&v===_.alternate)break t;v=Mi(v),_=Mi(_)}v=null}else v=null;y!==null&&g_(p,f,y,v,!1),T!==null&&E!==null&&g_(p,E,T,v,!0)}}e:{if(f=u?Qi(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var D=ek;else if(l_(f))if(iT)D=sk;else{D=nk;var L=tk}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=rk);if(D&&(D=D(t,u))){sT(p,D,n,h);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&op(f,"number",f.value)}switch(L=u?Qi(u):window,t){case"focusin":(l_(L)||L.contentEditable==="true")&&(Ki=L,yp=u,Ha=null);break;case"focusout":Ha=yp=Ki=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,f_(p,n,h);break;case"selectionchange":if(ak)break;case"keydown":case"keyup":f_(p,n,h)}var I;if(sg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else qi?nT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(tT&&n.locale!=="ko"&&(qi||C!=="onCompositionStart"?C==="onCompositionEnd"&&qi&&(I=eT()):(rs=h,tg="value"in rs?rs.value:rs.textContent,qi=!0)),L=Mu(u,C),0<L.length&&(C=new s_(C,t,null,n,h),p.push({event:C,listeners:L}),I?C.data=I:(I=rT(n),I!==null&&(C.data=I)))),(I=QN?YN(t,n):XN(t,n))&&(u=Mu(u,"onBeforeInput"),0<u.length&&(h=new s_("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=I))}mT(p,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sl(t,n),i!=null&&r.unshift(dl(t,i,s)),i=sl(t,e),i!=null&&r.push(dl(t,i,s))),t=t.return}return r}function Mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=sl(n,i),l!=null&&o.unshift(dl(n,l,a))):s||(l=sl(n,i),l!=null&&o.push(dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(dk,`
`).replace(hk,"")}function kc(t,e,n){if(e=v_(e),v_(t)!==e&&n)throw Error(H(425))}function ju(){}var wp=null,xp=null;function Ep(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,fk=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,pk=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(t){return y_.resolve(null).then(t).catch(mk)}:Tp;function mk(t){setTimeout(function(){throw t})}function ff(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),al(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);al(e)}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function __(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zo=Math.random().toString(36).slice(2),Hn="__reactFiber$"+zo,hl="__reactProps$"+zo,Sr="__reactContainer$"+zo,Sp="__reactEvents$"+zo,gk="__reactListeners$"+zo,vk="__reactHandles$"+zo;function Qs(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=__(t);t!==null;){if(n=t[Hn])return n;t=__(t)}return e}t=n,n=t.parentNode}return null}function Vl(t){return t=t[Hn]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Ld(t){return t[hl]||null}var Cp=[],Yi=-1;function Ns(t){return{current:t}}function Ue(t){0>Yi||(t.current=Cp[Yi],Cp[Yi]=null,Yi--)}function Le(t,e){Yi++,Cp[Yi]=t.current,t.current=e}var xs={},Lt=Ns(xs),Xt=Ns(!1),ai=xs;function wo(t,e){var n=t.type.contextTypes;if(!n)return xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Jt(t){return t=t.childContextTypes,t!=null}function Vu(){Ue(Xt),Ue(Lt)}function w_(t,e,n){if(Lt.current!==xs)throw Error(H(168));Le(Lt,e),Le(Xt,n)}function vT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,tN(t)||"Unknown",s));return He({},n,r)}function Fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xs,ai=Lt.current,Le(Lt,t),Le(Xt,Xt.current),!0}function x_(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=vT(t,e,ai),r.__reactInternalMemoizedMergedChildContext=t,Ue(Xt),Ue(Lt),Le(Lt,t)):Ue(Xt),Le(Xt,n)}var hr=null,Md=!1,pf=!1;function yT(t){hr===null?hr=[t]:hr.push(t)}function yk(t){Md=!0,yT(t)}function ks(){if(!pf&&hr!==null){pf=!0;var t=0,e=Ne;try{var n=hr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Md=!1}catch(s){throw hr!==null&&(hr=hr.slice(t+1)),zE(Xm,ks),s}finally{Ne=e,pf=!1}}return null}var Xi=[],Ji=0,Uu=null,$u=0,gn=[],vn=0,li=null,pr=1,mr="";function Ws(t,e){Xi[Ji++]=$u,Xi[Ji++]=Uu,Uu=t,$u=e}function _T(t,e,n){gn[vn++]=pr,gn[vn++]=mr,gn[vn++]=li,li=t;var r=pr;t=mr;var s=32-Rn(r)-1;r&=~(1<<s),n+=1;var i=32-Rn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pr=1<<32-Rn(e)+s|n<<s|r,mr=i+t}else pr=1<<i|n<<s|r,mr=t}function og(t){t.return!==null&&(Ws(t,1),_T(t,1,0))}function ag(t){for(;t===Uu;)Uu=Xi[--Ji],Xi[Ji]=null,$u=Xi[--Ji],Xi[Ji]=null;for(;t===li;)li=gn[--vn],gn[vn]=null,mr=gn[--vn],gn[vn]=null,pr=gn[--vn],gn[vn]=null}var un=null,an=null,$e=!1,An=null;function wT(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function E_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,an=us(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=li!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,an=null,!0):!1;default:return!1}}function Ip(t){return(t.mode&1)!==0&&(t.flags&128)===0}function bp(t){if($e){var e=an;if(e){var n=e;if(!E_(t,e)){if(Ip(t))throw Error(H(418));e=us(n.nextSibling);var r=un;e&&E_(t,e)?wT(r,n):(t.flags=t.flags&-4097|2,$e=!1,un=t)}}else{if(Ip(t))throw Error(H(418));t.flags=t.flags&-4097|2,$e=!1,un=t}}}function T_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Oc(t){if(t!==un)return!1;if(!$e)return T_(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ep(t.type,t.memoizedProps)),e&&(e=an)){if(Ip(t))throw xT(),Error(H(418));for(;e;)wT(t,e),e=us(e.nextSibling)}if(T_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=us(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=un?us(t.stateNode.nextSibling):null;return!0}function xT(){for(var t=an;t;)t=us(t.nextSibling)}function xo(){an=un=null,$e=!1}function lg(t){An===null?An=[t]:An.push(t)}var _k=Dr.ReactCurrentBatchConfig;function Sa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Dc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S_(t){var e=t._init;return e(t._payload)}function ET(t){function e(_,x){if(t){var S=_.deletions;S===null?(_.deletions=[x],_.flags|=16):S.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function s(_,x){return _=ps(_,x),_.index=0,_.sibling=null,_}function i(_,x,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<x?(_.flags|=2,x):S):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,S,P){return x===null||x.tag!==6?(x=xf(S,_.mode,P),x.return=_,x):(x=s(x,S),x.return=_,x)}function l(_,x,S,P){var D=S.type;return D===Wi?h(_,x,S.props.children,P,S.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gr&&S_(D)===x.type)?(P=s(x,S.props),P.ref=Sa(_,x,S),P.return=_,P):(P=fu(S.type,S.key,S.props,null,_.mode,P),P.ref=Sa(_,x,S),P.return=_,P)}function u(_,x,S,P){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Ef(S,_.mode,P),x.return=_,x):(x=s(x,S.children||[]),x.return=_,x)}function h(_,x,S,P,D){return x===null||x.tag!==7?(x=ni(S,_.mode,P,D),x.return=_,x):(x=s(x,S),x.return=_,x)}function p(_,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=xf(""+x,_.mode,S),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tc:return S=fu(x.type,x.key,x.props,null,_.mode,S),S.ref=Sa(_,null,x),S.return=_,S;case Hi:return x=Ef(x,_.mode,S),x.return=_,x;case Gr:var P=x._init;return p(_,P(x._payload),S)}if(ka(x)||_a(x))return x=ni(x,_.mode,S,null),x.return=_,x;Dc(_,x)}return null}function f(_,x,S,P){var D=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(_,x,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tc:return S.key===D?l(_,x,S,P):null;case Hi:return S.key===D?u(_,x,S,P):null;case Gr:return D=S._init,f(_,x,D(S._payload),P)}if(ka(S)||_a(S))return D!==null?null:h(_,x,S,P,null);Dc(_,S)}return null}function y(_,x,S,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(S)||null,a(x,_,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Tc:return _=_.get(P.key===null?S:P.key)||null,l(x,_,P,D);case Hi:return _=_.get(P.key===null?S:P.key)||null,u(x,_,P,D);case Gr:var L=P._init;return y(_,x,S,L(P._payload),D)}if(ka(P)||_a(P))return _=_.get(S)||null,h(x,_,P,D,null);Dc(x,P)}return null}function T(_,x,S,P){for(var D=null,L=null,I=x,C=x=0,R=null;I!==null&&C<S.length;C++){I.index>C?(R=I,I=null):R=I.sibling;var N=f(_,I,S[C],P);if(N===null){I===null&&(I=R);break}t&&I&&N.alternate===null&&e(_,I),x=i(N,x,C),L===null?D=N:L.sibling=N,L=N,I=R}if(C===S.length)return n(_,I),$e&&Ws(_,C),D;if(I===null){for(;C<S.length;C++)I=p(_,S[C],P),I!==null&&(x=i(I,x,C),L===null?D=I:L.sibling=I,L=I);return $e&&Ws(_,C),D}for(I=r(_,I);C<S.length;C++)R=y(I,_,C,S[C],P),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?C:R.key),x=i(R,x,C),L===null?D=R:L.sibling=R,L=R);return t&&I.forEach(function(k){return e(_,k)}),$e&&Ws(_,C),D}function v(_,x,S,P){var D=_a(S);if(typeof D!="function")throw Error(H(150));if(S=D.call(S),S==null)throw Error(H(151));for(var L=D=null,I=x,C=x=0,R=null,N=S.next();I!==null&&!N.done;C++,N=S.next()){I.index>C?(R=I,I=null):R=I.sibling;var k=f(_,I,N.value,P);if(k===null){I===null&&(I=R);break}t&&I&&k.alternate===null&&e(_,I),x=i(k,x,C),L===null?D=k:L.sibling=k,L=k,I=R}if(N.done)return n(_,I),$e&&Ws(_,C),D;if(I===null){for(;!N.done;C++,N=S.next())N=p(_,N.value,P),N!==null&&(x=i(N,x,C),L===null?D=N:L.sibling=N,L=N);return $e&&Ws(_,C),D}for(I=r(_,I);!N.done;C++,N=S.next())N=y(I,_,C,N.value,P),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?C:N.key),x=i(N,x,C),L===null?D=N:L.sibling=N,L=N);return t&&I.forEach(function(O){return e(_,O)}),$e&&Ws(_,C),D}function E(_,x,S,P){if(typeof S=="object"&&S!==null&&S.type===Wi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Tc:e:{for(var D=S.key,L=x;L!==null;){if(L.key===D){if(D=S.type,D===Wi){if(L.tag===7){n(_,L.sibling),x=s(L,S.props.children),x.return=_,_=x;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Gr&&S_(D)===L.type){n(_,L.sibling),x=s(L,S.props),x.ref=Sa(_,L,S),x.return=_,_=x;break e}n(_,L);break}else e(_,L);L=L.sibling}S.type===Wi?(x=ni(S.props.children,_.mode,P,S.key),x.return=_,_=x):(P=fu(S.type,S.key,S.props,null,_.mode,P),P.ref=Sa(_,x,S),P.return=_,_=P)}return o(_);case Hi:e:{for(L=S.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(_,x.sibling),x=s(x,S.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=Ef(S,_.mode,P),x.return=_,_=x}return o(_);case Gr:return L=S._init,E(_,x,L(S._payload),P)}if(ka(S))return T(_,x,S,P);if(_a(S))return v(_,x,S,P);Dc(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(_,x.sibling),x=s(x,S),x.return=_,_=x):(n(_,x),x=xf(S,_.mode,P),x.return=_,_=x),o(_)):n(_,x)}return E}var Eo=ET(!0),TT=ET(!1),Bu=Ns(null),zu=null,Zi=null,cg=null;function ug(){cg=Zi=zu=null}function dg(t){var e=Bu.current;Ue(Bu),t._currentValue=e}function Ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){zu=t,cg=Zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(cg!==t)if(t={context:t,memoizedValue:e,next:null},Zi===null){if(zu===null)throw Error(H(308));Zi=t,zu.dependencies={lanes:0,firstContext:t}}else Zi=Zi.next=t;return e}var Ys=null;function hg(t){Ys===null?Ys=[t]:Ys.push(t)}function ST(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,hg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qr=!1;function fg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Cr(t,n)}return s=r.interleaved,s===null?(e.next=e,hg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Cr(t,n)}function au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jm(t,n)}}function C_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hu(t,e,n,r){var s=t.updateQueue;Qr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;o=0,h=u=l=null,a=i;do{var f=a.lane,y=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(f=e,y=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){p=T.call(y,p,f);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,f=typeof T=="function"?T.call(y,p,f):T,f==null)break e;p=He({},p,f);break e;case 2:Qr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=y,l=p):h=h.next=y,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=p),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ui|=o,t.lanes=o,t.memoizedState=p}}function I_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Fl={},Gn=Ns(Fl),fl=Ns(Fl),pl=Ns(Fl);function Xs(t){if(t===Fl)throw Error(H(174));return t}function pg(t,e){switch(Le(pl,e),Le(fl,t),Le(Gn,Fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lp(e,t)}Ue(Gn),Le(Gn,e)}function To(){Ue(Gn),Ue(fl),Ue(pl)}function IT(t){Xs(pl.current);var e=Xs(Gn.current),n=lp(e,t.type);e!==n&&(Le(fl,t),Le(Gn,n))}function mg(t){fl.current===t&&(Ue(Gn),Ue(fl))}var Be=Ns(0);function Wu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mf=[];function gg(){for(var t=0;t<mf.length;t++)mf[t]._workInProgressVersionPrimary=null;mf.length=0}var lu=Dr.ReactCurrentDispatcher,gf=Dr.ReactCurrentBatchConfig,ci=0,ze=null,lt=null,ft=null,qu=!1,Wa=!1,ml=0,wk=0;function Rt(){throw Error(H(321))}function vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function yg(t,e,n,r,s,i){if(ci=i,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lu.current=t===null||t.memoizedState===null?Sk:Ck,t=n(r,s),Wa){i=0;do{if(Wa=!1,ml=0,25<=i)throw Error(H(301));i+=1,ft=lt=null,e.updateQueue=null,lu.current=Ik,t=n(r,s)}while(Wa)}if(lu.current=Ku,e=lt!==null&&lt.next!==null,ci=0,ft=lt=ze=null,qu=!1,e)throw Error(H(300));return t}function _g(){var t=ml!==0;return ml=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?ze.memoizedState=ft=t:ft=ft.next=t,ft}function xn(){if(lt===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=ft===null?ze.memoizedState:ft.next;if(e!==null)ft=e,lt=t;else{if(t===null)throw Error(H(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?ze.memoizedState=ft=t:ft=ft.next=t}return ft}function gl(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=xn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((ci&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,ze.lanes|=h,ui|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,On(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ze.lanes|=i,ui|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function yf(t){var e=xn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);On(i,e.memoizedState)||(Yt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bT(){}function AT(t,e){var n=ze,r=xn(),s=e(),i=!On(r.memoizedState,s);if(i&&(r.memoizedState=s,Yt=!0),r=r.queue,wg(NT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ft!==null&&ft.memoizedState.tag&1){if(n.flags|=2048,vl(9,PT.bind(null,n,r,s,e),void 0,null),pt===null)throw Error(H(349));ci&30||RT(n,e,s)}return s}function RT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PT(t,e,n,r){e.value=n,e.getSnapshot=r,kT(e)&&OT(t)}function NT(t,e,n){return n(function(){kT(e)&&OT(t)})}function kT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function OT(t){var e=Cr(t,1);e!==null&&Pn(e,t,1,-1)}function b_(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=Tk.bind(null,ze,t),[e.memoizedState,t]}function vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DT(){return xn().memoizedState}function cu(t,e,n,r){var s=$n();ze.flags|=t,s.memoizedState=vl(1|e,n,void 0,r===void 0?null:r)}function jd(t,e,n,r){var s=xn();r=r===void 0?null:r;var i=void 0;if(lt!==null){var o=lt.memoizedState;if(i=o.destroy,r!==null&&vg(r,o.deps)){s.memoizedState=vl(e,n,i,r);return}}ze.flags|=t,s.memoizedState=vl(1|e,n,i,r)}function A_(t,e){return cu(8390656,8,t,e)}function wg(t,e){return jd(2048,8,t,e)}function LT(t,e){return jd(4,2,t,e)}function MT(t,e){return jd(4,4,t,e)}function jT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VT(t,e,n){return n=n!=null?n.concat([t]):null,jd(4,4,jT.bind(null,e,t),n)}function xg(){}function FT(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UT(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $T(t,e,n){return ci&21?(On(n,e)||(n=qE(),ze.lanes|=n,ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function xk(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=gf.transition;gf.transition={};try{t(!1),e()}finally{Ne=n,gf.transition=r}}function BT(){return xn().memoizedState}function Ek(t,e,n){var r=fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zT(t))HT(e,n);else if(n=ST(t,e,n,r),n!==null){var s=Bt();Pn(n,t,r,s),WT(n,e,r)}}function Tk(t,e,n){var r=fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zT(t))HT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,On(a,o)){var l=e.interleaved;l===null?(s.next=s,hg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=ST(t,e,s,r),n!==null&&(s=Bt(),Pn(n,t,r,s),WT(n,e,r))}}function zT(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function HT(t,e){Wa=qu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jm(t,n)}}var Ku={readContext:wn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},Sk={readContext:wn,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:A_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cu(4194308,4,jT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cu(4194308,4,t,e)},useInsertionEffect:function(t,e){return cu(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ek.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:b_,useDebugValue:xg,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=b_(!1),e=t[0];return t=xk.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,s=$n();if($e){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),pt===null)throw Error(H(349));ci&30||RT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,A_(NT.bind(null,r,i,t),[t]),r.flags|=2048,vl(9,PT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=$n(),e=pt.identifierPrefix;if($e){var n=mr,r=pr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ck={readContext:wn,useCallback:FT,useContext:wn,useEffect:wg,useImperativeHandle:VT,useInsertionEffect:LT,useLayoutEffect:MT,useMemo:UT,useReducer:vf,useRef:DT,useState:function(){return vf(gl)},useDebugValue:xg,useDeferredValue:function(t){var e=xn();return $T(e,lt.memoizedState,t)},useTransition:function(){var t=vf(gl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1},Ik={readContext:wn,useCallback:FT,useContext:wn,useEffect:wg,useImperativeHandle:VT,useInsertionEffect:LT,useLayoutEffect:MT,useMemo:UT,useReducer:yf,useRef:DT,useState:function(){return yf(gl)},useDebugValue:xg,useDeferredValue:function(t){var e=xn();return lt===null?e.memoizedState=t:$T(e,lt.memoizedState,t)},useTransition:function(){var t=yf(gl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vd={isMounted:function(t){return(t=t._reactInternals)?Si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=fs(t),i=wr(r,s);i.payload=e,n!=null&&(i.callback=n),e=ds(t,i,s),e!==null&&(Pn(e,t,s,r),au(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=fs(t),i=wr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ds(t,i,s),e!==null&&(Pn(e,t,s,r),au(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=fs(t),s=wr(n,r);s.tag=2,e!=null&&(s.callback=e),e=ds(t,s,r),e!==null&&(Pn(e,t,r,n),au(e,t,r))}};function R_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!cl(n,r)||!cl(s,i):!0}function qT(t,e,n){var r=!1,s=xs,i=e.contextType;return typeof i=="object"&&i!==null?i=wn(i):(s=Jt(e)?ai:Lt.current,r=e.contextTypes,i=(r=r!=null)?wo(t,s):xs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function P_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vd.enqueueReplaceState(e,e.state,null)}function Pp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},fg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=wn(i):(i=Jt(e)?ai:Lt.current,s.context=wo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Rp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vd.enqueueReplaceState(s,s.state,null),Hu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function So(t,e){try{var n="",r=e;do n+=eN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function _f(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bk=typeof WeakMap=="function"?WeakMap:Map;function KT(t,e,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qu||(Qu=!0,$p=r),Np(t,e)},n}function GT(t,e,n){n=wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Np(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Np(t,e),typeof r!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function N_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$k.bind(null,t,e,n),e.then(t,t))}function k_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wr(-1,1),e.tag=2,ds(n,e,1))),n.lanes|=1),t)}var Ak=Dr.ReactCurrentOwner,Yt=!1;function Ut(t,e,n,r){e.child=t===null?TT(e,null,n,r):Eo(e,t.child,n,r)}function D_(t,e,n,r,s){n=n.render;var i=e.ref;return oo(e,s),r=yg(t,e,n,r,i,s),n=_g(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ir(t,e,s)):($e&&n&&og(e),e.flags|=1,Ut(t,e,r,s),e.child)}function L_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Rg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,QT(t,e,i,r,s)):(t=fu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(o,r)&&t.ref===e.ref)return Ir(t,e,s)}return e.flags|=1,t=ps(i,r),t.ref=e.ref,t.return=e,e.child=t}function QT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(cl(i,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,Ir(t,e,s)}return kp(t,e,n,r,s)}function YT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(to,nn),nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(to,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Le(to,nn),nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Le(to,nn),nn|=r;return Ut(t,e,s,n),e.child}function XT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kp(t,e,n,r,s){var i=Jt(n)?ai:Lt.current;return i=wo(e,i),oo(e,s),n=yg(t,e,n,r,i,s),r=_g(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ir(t,e,s)):($e&&r&&og(e),e.flags|=1,Ut(t,e,n,s),e.child)}function M_(t,e,n,r,s){if(Jt(n)){var i=!0;Fu(e)}else i=!1;if(oo(e,s),e.stateNode===null)uu(t,e),qT(e,n,r),Pp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Jt(n)?ai:Lt.current,u=wo(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&P_(e,o,r,u),Qr=!1;var f=e.memoizedState;o.state=f,Hu(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Xt.current||Qr?(typeof h=="function"&&(Rp(e,n,h,r),l=e.memoizedState),(a=Qr||R_(e,n,a,r,f,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cn(e.type,a),o.props=u,p=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Jt(n)?ai:Lt.current,l=wo(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||f!==l)&&P_(e,o,r,l),Qr=!1,f=e.memoizedState,o.state=f,Hu(e,r,o,s);var T=e.memoizedState;a!==p||f!==T||Xt.current||Qr?(typeof y=="function"&&(Rp(e,n,y,r),T=e.memoizedState),(u=Qr||R_(e,n,u,r,f,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Op(t,e,n,r,i,s)}function Op(t,e,n,r,s,i){XT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&x_(e,n,!1),Ir(t,e,i);r=e.stateNode,Ak.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Eo(e,t.child,null,i),e.child=Eo(e,null,a,i)):Ut(t,e,a,i),e.memoizedState=r.state,s&&x_(e,n,!0),e.child}function JT(t){var e=t.stateNode;e.pendingContext?w_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&w_(t,e.context,!1),pg(t,e.containerInfo)}function j_(t,e,n,r,s){return xo(),lg(s),e.flags|=256,Ut(t,e,n,r),e.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZT(t,e,n){var r=e.pendingProps,s=Be.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Le(Be,s&1),t===null)return bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$d(o,r,0,null),t=ni(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Lp(n),e.memoizedState=Dp,t):Eg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Rk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ps(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ps(a,i):(i=ni(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Dp,r}return i=t.child,t=i.sibling,r=ps(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Eg(t,e){return e=$d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lc(t,e,n,r){return r!==null&&lg(r),Eo(e,t.child,null,n),t=Eg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=_f(Error(H(422))),Lc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$d({mode:"visible",children:r.children},s,0,null),i=ni(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Eo(e,t.child,null,o),e.child.memoizedState=Lp(o),e.memoizedState=Dp,i);if(!(e.mode&1))return Lc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=_f(i,r,void 0),Lc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yt||a){if(r=pt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Cr(t,s),Pn(r,t,s,-1))}return Ag(),r=_f(Error(H(421))),Lc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Bk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,an=us(s.nextSibling),un=e,$e=!0,An=null,t!==null&&(gn[vn++]=pr,gn[vn++]=mr,gn[vn++]=li,pr=t.id,mr=t.overflow,li=e),e=Eg(e,r.children),e.flags|=4096,e)}function V_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ap(t.return,e,n)}function wf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function e1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ut(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&V_(t,n,e);else if(t.tag===19)V_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Be,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Wu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wf(e,!0,n,null,i);break;case"together":wf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function uu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pk(t,e,n){switch(e.tag){case 3:JT(e),xo();break;case 5:IT(e);break;case 1:Jt(e.type)&&Fu(e);break;case 4:pg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Le(Bu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?ZT(t,e,n):(Le(Be,Be.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);Le(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return e1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Le(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,YT(t,e,n)}return Ir(t,e,n)}var t1,Mp,n1,r1;t1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mp=function(){};n1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Xs(Gn.current);var i=null;switch(n){case"input":s=sp(t,s),r=sp(t,r),i=[];break;case"select":s=He({},s,{value:void 0}),r=He({},r,{value:void 0}),i=[];break;case"textarea":s=ap(t,s),r=ap(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ju)}cp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};r1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ca(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Nk(t,e,n){var r=e.pendingProps;switch(ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return Jt(e.type)&&Vu(),Pt(e),null;case 3:return r=e.stateNode,To(),Ue(Xt),Ue(Lt),gg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Hp(An),An=null))),Mp(t,e),Pt(e),null;case 5:mg(e);var s=Xs(pl.current);if(n=e.type,t!==null&&e.stateNode!=null)n1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Pt(e),null}if(t=Xs(Gn.current),Oc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Hn]=e,r[hl]=i,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(s=0;s<Da.length;s++)Ve(Da[s],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":K0(r,i),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ve("invalid",r);break;case"textarea":Q0(r,i),Ve("invalid",r)}cp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&kc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&kc(r.textContent,a,t),s=["children",""+a]):nl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":Sc(r),G0(r,i,!0);break;case"textarea":Sc(r),Y0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ju)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Hn]=e,t[hl]=r,t1(t,e,!1,!1),e.stateNode=t;e:{switch(o=up(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),s=r;break;case"iframe":case"object":case"embed":Ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<Da.length;s++)Ve(Da[s],t);s=r;break;case"source":Ve("error",t),s=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),s=r;break;case"details":Ve("toggle",t),s=r;break;case"input":K0(t,r),s=sp(t,r),Ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=He({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":Q0(t,r),s=ap(t,r),Ve("invalid",t);break;default:s=r}cp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?DE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rl(t,l):typeof l=="number"&&rl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ve("scroll",t):l!=null&&qm(t,i,l,o))}switch(n){case"input":Sc(t),G0(t,r,!1);break;case"textarea":Sc(t),Y0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ws(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?no(t,!!r.multiple,i,!1):r.defaultValue!=null&&no(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)r1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Xs(pl.current),Xs(Gn.current),Oc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hn]=e,(i=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:kc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hn]=e,e.stateNode=r}return Pt(e),null;case 13:if(Ue(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&an!==null&&e.mode&1&&!(e.flags&128))xT(),xo(),e.flags|=98560,i=!1;else if(i=Oc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Hn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),i=!1}else An!==null&&(Hp(An),An=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?ut===0&&(ut=3):Ag())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return To(),Mp(t,e),t===null&&ul(e.stateNode.containerInfo),Pt(e),null;case 10:return dg(e.type._context),Pt(e),null;case 17:return Jt(e.type)&&Vu(),Pt(e),null;case 19:if(Ue(Be),i=e.memoizedState,i===null)return Pt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ca(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wu(t),o!==null){for(e.flags|=128,Ca(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Be,Be.current&1|2),e.child}t=t.sibling}i.tail!==null&&et()>Co&&(e.flags|=128,r=!0,Ca(i,!1),e.lanes=4194304)}else{if(!r)if(t=Wu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return Pt(e),null}else 2*et()-i.renderingStartTime>Co&&n!==1073741824&&(e.flags|=128,r=!0,Ca(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=et(),e.sibling=null,n=Be.current,Le(Be,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return bg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function kk(t,e){switch(ag(e),e.tag){case 1:return Jt(e.type)&&Vu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),Ue(Xt),Ue(Lt),gg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mg(e),null;case 13:if(Ue(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(Be),null;case 4:return To(),null;case 10:return dg(e.type._context),null;case 22:case 23:return bg(),null;case 24:return null;default:return null}}var Mc=!1,Ot=!1,Ok=typeof WeakSet=="function"?WeakSet:Set,J=null;function eo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function jp(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var F_=!1;function Dk(t,e){if(wp=Du,t=lT(),ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,p=t,f=null;t:for(;;){for(var y;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)f=p,p=y;for(;;){if(p===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++h===r&&(l=o),(y=p.nextSibling)!==null)break;p=f,f=p.parentNode}p=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:t,selectionRange:n},Du=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,E=T.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Cn(e.type,v),E);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(P){Ge(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return T=F_,F_=!1,T}function qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jp(e,n,i)}s=s.next}while(s!==r)}}function Fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s1(t){var e=t.alternate;e!==null&&(t.alternate=null,s1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[hl],delete e[Sp],delete e[gk],delete e[vk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i1(t){return t.tag===5||t.tag===3||t.tag===4}function U_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ju));else if(r!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}function Up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}var yt=null,bn=!1;function zr(t,e,n){for(n=n.child;n!==null;)o1(t,e,n),n=n.sibling}function o1(t,e,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Nd,n)}catch{}switch(n.tag){case 5:Ot||eo(n,e);case 6:var r=yt,s=bn;yt=null,zr(t,e,n),yt=r,bn=s,yt!==null&&(bn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(bn?(t=yt,n=n.stateNode,t.nodeType===8?ff(t.parentNode,n):t.nodeType===1&&ff(t,n),al(t)):ff(yt,n.stateNode));break;case 4:r=yt,s=bn,yt=n.stateNode.containerInfo,bn=!0,zr(t,e,n),yt=r,bn=s;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jp(n,e,o),s=s.next}while(s!==r)}zr(t,e,n);break;case 1:if(!Ot&&(eo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}zr(t,e,n);break;case 21:zr(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,zr(t,e,n),Ot=r):zr(t,e,n);break;default:zr(t,e,n)}}function $_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ok),e.forEach(function(r){var s=zk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,bn=!1;break e;case 3:yt=a.stateNode.containerInfo,bn=!0;break e;case 4:yt=a.stateNode.containerInfo,bn=!0;break e}a=a.return}if(yt===null)throw Error(H(160));o1(i,o,s),yt=null,bn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ge(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)a1(e,t),e=e.sibling}function a1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Un(t),r&4){try{qa(3,t,t.return),Fd(3,t)}catch(v){Ge(t,t.return,v)}try{qa(5,t,t.return)}catch(v){Ge(t,t.return,v)}}break;case 1:Tn(e,t),Un(t),r&512&&n!==null&&eo(n,n.return);break;case 5:if(Tn(e,t),Un(t),r&512&&n!==null&&eo(n,n.return),t.flags&32){var s=t.stateNode;try{rl(s,"")}catch(v){Ge(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&RE(s,i),up(a,o);var u=up(a,i);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?DE(s,p):h==="dangerouslySetInnerHTML"?kE(s,p):h==="children"?rl(s,p):qm(s,h,p,u)}switch(a){case"input":ip(s,i);break;case"textarea":PE(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?no(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?no(s,!!i.multiple,i.defaultValue,!0):no(s,!!i.multiple,i.multiple?[]:"",!1))}s[hl]=i}catch(v){Ge(t,t.return,v)}}break;case 6:if(Tn(e,t),Un(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Ge(t,t.return,v)}}break;case 3:if(Tn(e,t),Un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(v){Ge(t,t.return,v)}break;case 4:Tn(e,t),Un(t);break;case 13:Tn(e,t),Un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cg=et())),r&4&&$_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(u=Ot)||h,Tn(e,t),Ot=u):Tn(e,t),Un(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(J=t,h=t.child;h!==null;){for(p=J=h;J!==null;){switch(f=J,y=f.child,f.tag){case 0:case 11:case 14:case 15:qa(4,f,f.return);break;case 1:eo(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){Ge(r,n,v)}}break;case 5:eo(f,f.return);break;case 22:if(f.memoizedState!==null){z_(p);continue}}y!==null?(y.return=f,J=y):z_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OE("display",o))}catch(v){Ge(t,t.return,v)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){Ge(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Tn(e,t),Un(t),r&4&&$_(t);break;case 21:break;default:Tn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i1(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rl(s,""),r.flags&=-33);var i=U_(t);Up(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=U_(t);Fp(t,a,o);break;default:throw Error(H(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lk(t,e,n){J=t,l1(t)}function l1(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var s=J,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Mc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ot;a=Mc;var u=Ot;if(Mc=o,(Ot=l)&&!u)for(J=s;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?H_(s):l!==null?(l.return=o,J=l):H_(s);for(;i!==null;)J=i,l1(i),i=i.sibling;J=s,Mc=a,Ot=u}B_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,J=i):B_(t)}}function B_(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Fd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&I_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}I_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&al(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ot||e.flags&512&&Vp(e)}catch(f){Ge(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function z_(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function H_(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fd(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ge(e,s,l)}}var i=e.return;try{Vp(e)}catch(l){Ge(e,i,l)}break;case 5:var o=e.return;try{Vp(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var Mk=Math.ceil,Gu=Dr.ReactCurrentDispatcher,Tg=Dr.ReactCurrentOwner,_n=Dr.ReactCurrentBatchConfig,Ce=0,pt=null,it=null,xt=0,nn=0,to=Ns(0),ut=0,yl=null,ui=0,Ud=0,Sg=0,Ka=null,Gt=null,Cg=0,Co=1/0,dr=null,Qu=!1,$p=null,hs=null,jc=!1,ss=null,Yu=0,Ga=0,Bp=null,du=-1,hu=0;function Bt(){return Ce&6?et():du!==-1?du:du=et()}function fs(t){return t.mode&1?Ce&2&&xt!==0?xt&-xt:_k.transition!==null?(hu===0&&(hu=qE()),hu):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:ZE(t.type)),t):1}function Pn(t,e,n,r){if(50<Ga)throw Ga=0,Bp=null,Error(H(185));Ml(t,n,r),(!(Ce&2)||t!==pt)&&(t===pt&&(!(Ce&2)&&(Ud|=n),ut===4&&Jr(t,xt)),Zt(t,r),n===1&&Ce===0&&!(e.mode&1)&&(Co=et()+500,Md&&ks()))}function Zt(t,e){var n=t.callbackNode;_N(t,e);var r=Ou(t,t===pt?xt:0);if(r===0)n!==null&&Z0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Z0(n),e===1)t.tag===0?yk(W_.bind(null,t)):yT(W_.bind(null,t)),pk(function(){!(Ce&6)&&ks()}),n=null;else{switch(KE(r)){case 1:n=Xm;break;case 4:n=HE;break;case 16:n=ku;break;case 536870912:n=WE;break;default:n=ku}n=g1(n,c1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function c1(t,e){if(du=-1,hu=0,Ce&6)throw Error(H(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var r=Ou(t,t===pt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xu(t,r);else{e=r;var s=Ce;Ce|=2;var i=d1();(pt!==t||xt!==e)&&(dr=null,Co=et()+500,ti(t,e));do try{Fk();break}catch(a){u1(t,a)}while(!0);ug(),Gu.current=i,Ce=s,it!==null?e=0:(pt=null,xt=0,e=ut)}if(e!==0){if(e===2&&(s=mp(t),s!==0&&(r=s,e=zp(t,s))),e===1)throw n=yl,ti(t,0),Jr(t,r),Zt(t,et()),n;if(e===6)Jr(t,r);else{if(s=t.current.alternate,!(r&30)&&!jk(s)&&(e=Xu(t,r),e===2&&(i=mp(t),i!==0&&(r=i,e=zp(t,i))),e===1))throw n=yl,ti(t,0),Jr(t,r),Zt(t,et()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:qs(t,Gt,dr);break;case 3:if(Jr(t,r),(r&130023424)===r&&(e=Cg+500-et(),10<e)){if(Ou(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Tp(qs.bind(null,t,Gt,dr),e);break}qs(t,Gt,dr);break;case 4:if(Jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Rn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mk(r/1960))-r,10<r){t.timeoutHandle=Tp(qs.bind(null,t,Gt,dr),r);break}qs(t,Gt,dr);break;case 5:qs(t,Gt,dr);break;default:throw Error(H(329))}}}return Zt(t,et()),t.callbackNode===n?c1.bind(null,t):null}function zp(t,e){var n=Ka;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=Xu(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&Hp(e)),t}function Hp(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function jk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!On(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jr(t,e){for(e&=~Sg,e&=~Ud,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function W_(t){if(Ce&6)throw Error(H(327));ao();var e=Ou(t,0);if(!(e&1))return Zt(t,et()),null;var n=Xu(t,e);if(t.tag!==0&&n===2){var r=mp(t);r!==0&&(e=r,n=zp(t,r))}if(n===1)throw n=yl,ti(t,0),Jr(t,e),Zt(t,et()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qs(t,Gt,dr),Zt(t,et()),null}function Ig(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(Co=et()+500,Md&&ks())}}function di(t){ss!==null&&ss.tag===0&&!(Ce&6)&&ao();var e=Ce;Ce|=1;var n=_n.transition,r=Ne;try{if(_n.transition=null,Ne=1,t)return t()}finally{Ne=r,_n.transition=n,Ce=e,!(Ce&6)&&ks()}}function bg(){nn=to.current,Ue(to)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fk(n)),it!==null)for(n=it.return;n!==null;){var r=n;switch(ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vu();break;case 3:To(),Ue(Xt),Ue(Lt),gg();break;case 5:mg(r);break;case 4:To();break;case 13:Ue(Be);break;case 19:Ue(Be);break;case 10:dg(r.type._context);break;case 22:case 23:bg()}n=n.return}if(pt=t,it=t=ps(t.current,null),xt=nn=e,ut=0,yl=null,Sg=Ud=ui=0,Gt=Ka=null,Ys!==null){for(e=0;e<Ys.length;e++)if(n=Ys[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ys=null}return t}function u1(t,e){do{var n=it;try{if(ug(),lu.current=Ku,qu){for(var r=ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qu=!1}if(ci=0,ft=lt=ze=null,Wa=!1,ml=0,Tg.current=null,n===null||n.return===null){ut=1,yl=e,it=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=k_(o);if(y!==null){y.flags&=-257,O_(y,o,a,i,e),y.mode&1&&N_(i,u,e),e=y,l=u;var T=e.updateQueue;if(T===null){var v=new Set;v.add(l),e.updateQueue=v}else T.add(l);break e}else{if(!(e&1)){N_(i,u,e),Ag();break e}l=Error(H(426))}}else if($e&&a.mode&1){var E=k_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),O_(E,o,a,i,e),lg(So(l,a));break e}}i=l=So(l,a),ut!==4&&(ut=2),Ka===null?Ka=[i]:Ka.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=KT(i,l,e);C_(i,_);break e;case 1:a=l;var x=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(hs===null||!hs.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=GT(i,a,e);C_(i,P);break e}}i=i.return}while(i!==null)}f1(n)}catch(D){e=D,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function d1(){var t=Gu.current;return Gu.current=Ku,t===null?Ku:t}function Ag(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||!(ui&268435455)&&!(Ud&268435455)||Jr(pt,xt)}function Xu(t,e){var n=Ce;Ce|=2;var r=d1();(pt!==t||xt!==e)&&(dr=null,ti(t,e));do try{Vk();break}catch(s){u1(t,s)}while(!0);if(ug(),Ce=n,Gu.current=r,it!==null)throw Error(H(261));return pt=null,xt=0,ut}function Vk(){for(;it!==null;)h1(it)}function Fk(){for(;it!==null&&!uN();)h1(it)}function h1(t){var e=m1(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?f1(t):it=e,Tg.current=null}function f1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kk(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,it=null;return}}else if(n=Nk(n,e,nn),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ut===0&&(ut=5)}function qs(t,e,n){var r=Ne,s=_n.transition;try{_n.transition=null,Ne=1,Uk(t,e,n,r)}finally{_n.transition=s,Ne=r}return null}function Uk(t,e,n,r){do ao();while(ss!==null);if(Ce&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wN(t,i),t===pt&&(it=pt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jc||(jc=!0,g1(ku,function(){return ao(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var o=Ne;Ne=1;var a=Ce;Ce|=4,Tg.current=null,Dk(t,n),a1(n,t),ok(xp),Du=!!wp,xp=wp=null,t.current=n,Lk(n),dN(),Ce=a,Ne=o,_n.transition=i}else t.current=n;if(jc&&(jc=!1,ss=t,Yu=s),i=t.pendingLanes,i===0&&(hs=null),pN(n.stateNode),Zt(t,et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qu)throw Qu=!1,t=$p,$p=null,t;return Yu&1&&t.tag!==0&&ao(),i=t.pendingLanes,i&1?t===Bp?Ga++:(Ga=0,Bp=t):Ga=0,ks(),null}function ao(){if(ss!==null){var t=KE(Yu),e=_n.transition,n=Ne;try{if(_n.transition=null,Ne=16>t?16:t,ss===null)var r=!1;else{if(t=ss,ss=null,Yu=0,Ce&6)throw Error(H(331));var s=Ce;for(Ce|=4,J=t.current;J!==null;){var i=J,o=i.child;if(J.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var h=J;switch(h.tag){case 0:case 11:case 15:qa(8,h,i)}var p=h.child;if(p!==null)p.return=h,J=p;else for(;J!==null;){h=J;var f=h.sibling,y=h.return;if(s1(h),h===u){J=null;break}if(f!==null){f.return=y,J=f;break}J=y}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}J=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,J=o;else e:for(;J!==null;){if(i=J,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qa(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,J=_;break e}J=i.return}}var x=t.current;for(J=x;J!==null;){o=J;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,J=S;else e:for(o=x;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fd(9,a)}}catch(D){Ge(a,a.return,D)}if(a===o){J=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,J=P;break e}J=a.return}}if(Ce=s,ks(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Nd,t)}catch{}r=!0}return r}finally{Ne=n,_n.transition=e}}return!1}function q_(t,e,n){e=So(n,e),e=KT(t,e,1),t=ds(t,e,1),e=Bt(),t!==null&&(Ml(t,1,e),Zt(t,e))}function Ge(t,e,n){if(t.tag===3)q_(t,t,n);else for(;e!==null;){if(e.tag===3){q_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=So(n,t),t=GT(e,t,1),e=ds(e,t,1),t=Bt(),e!==null&&(Ml(e,1,t),Zt(e,t));break}}e=e.return}}function $k(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(xt&n)===n&&(ut===4||ut===3&&(xt&130023424)===xt&&500>et()-Cg?ti(t,0):Sg|=n),Zt(t,e)}function p1(t,e){e===0&&(t.mode&1?(e=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):e=1);var n=Bt();t=Cr(t,e),t!==null&&(Ml(t,e,n),Zt(t,n))}function Bk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p1(t,n)}function zk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),p1(t,n)}var m1;m1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,Pk(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,$e&&e.flags&1048576&&_T(e,$u,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;uu(t,e),t=e.pendingProps;var s=wo(e,Lt.current);oo(e,n),s=yg(null,e,r,t,s,n);var i=_g();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(i=!0,Fu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fg(e),s.updater=Vd,e.stateNode=s,s._reactInternals=e,Pp(e,r,t,n),e=Op(null,e,r,!0,i,n)):(e.tag=0,$e&&i&&og(e),Ut(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(uu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Wk(r),t=Cn(r,t),s){case 0:e=kp(null,e,r,t,n);break e;case 1:e=M_(null,e,r,t,n);break e;case 11:e=D_(null,e,r,t,n);break e;case 14:e=L_(null,e,r,Cn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),kp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),M_(t,e,r,s,n);case 3:e:{if(JT(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,CT(t,e),Hu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=So(Error(H(423)),e),e=j_(t,e,r,n,s);break e}else if(r!==s){s=So(Error(H(424)),e),e=j_(t,e,r,n,s);break e}else for(an=us(e.stateNode.containerInfo.firstChild),un=e,$e=!0,An=null,n=TT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===s){e=Ir(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return IT(e),t===null&&bp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ep(r,s)?o=null:i!==null&&Ep(r,i)&&(e.flags|=32),XT(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&bp(e),null;case 13:return ZT(t,e,n);case 4:return pg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Eo(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),D_(t,e,r,s,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Le(Bu,r._currentValue),r._currentValue=o,i!==null)if(On(i.value,o)){if(i.children===s.children&&!Xt.current){e=Ir(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=wr(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ap(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ap(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oo(e,n),s=wn(s),r=r(s),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,s=Cn(r,e.pendingProps),s=Cn(r.type,s),L_(t,e,r,s,n);case 15:return QT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Cn(r,s),uu(t,e),e.tag=1,Jt(r)?(t=!0,Fu(e)):t=!1,oo(e,n),qT(e,r,s),Pp(e,r,s,n),Op(null,e,r,!0,t,n);case 19:return e1(t,e,n);case 22:return YT(t,e,n)}throw Error(H(156,e.tag))};function g1(t,e){return zE(t,e)}function Hk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new Hk(t,e,n,r)}function Rg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wk(t){if(typeof t=="function")return Rg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gm)return 11;if(t===Qm)return 14}return 2}function ps(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Rg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wi:return ni(n.children,s,i,e);case Km:o=8,s|=8;break;case ep:return t=yn(12,n,e,s|2),t.elementType=ep,t.lanes=i,t;case tp:return t=yn(13,n,e,s),t.elementType=tp,t.lanes=i,t;case np:return t=yn(19,n,e,s),t.elementType=np,t.lanes=i,t;case IE:return $d(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SE:o=10;break e;case CE:o=9;break e;case Gm:o=11;break e;case Qm:o=14;break e;case Gr:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=yn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ni(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function $d(t,e,n,r){return t=yn(22,t,r,e),t.elementType=IE,t.lanes=n,t.stateNode={isHidden:!1},t}function xf(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Ef(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tf(0),this.expirationTimes=tf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Pg(t,e,n,r,s,i,o,a,l){return t=new qk(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fg(i),t}function Kk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function v1(t){if(!t)return xs;t=t._reactInternals;e:{if(Si(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Jt(n))return vT(t,n,e)}return e}function y1(t,e,n,r,s,i,o,a,l){return t=Pg(n,r,!0,t,s,i,o,a,l),t.context=v1(null),n=t.current,r=Bt(),s=fs(n),i=wr(r,s),i.callback=e??null,ds(n,i,s),t.current.lanes=s,Ml(t,s,r),Zt(t,r),t}function Bd(t,e,n,r){var s=e.current,i=Bt(),o=fs(s);return n=v1(n),e.context===null?e.context=n:e.pendingContext=n,e=wr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ds(s,e,o),t!==null&&(Pn(t,s,o,i),au(t,s,o)),o}function Ju(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ng(t,e){K_(t,e),(t=t.alternate)&&K_(t,e)}function Gk(){return null}var _1=typeof reportError=="function"?reportError:function(t){console.error(t)};function kg(t){this._internalRoot=t}zd.prototype.render=kg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Bd(t,e,null,null)};zd.prototype.unmount=kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Bd(null,t,null,null)}),e[Sr]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=YE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xr.length&&e!==0&&e<Xr[n].priority;n++);Xr.splice(n,0,t),n===0&&JE(t)}};function Og(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G_(){}function Qk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Ju(o);i.call(u)}}var o=y1(e,r,t,0,null,!1,!1,"",G_);return t._reactRootContainer=o,t[Sr]=o.current,ul(t.nodeType===8?t.parentNode:t),di(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Ju(l);a.call(u)}}var l=Pg(t,0,!1,null,null,!1,!1,"",G_);return t._reactRootContainer=l,t[Sr]=l.current,ul(t.nodeType===8?t.parentNode:t),di(function(){Bd(e,l,n,r)}),l}function Wd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ju(o);a.call(l)}}Bd(e,o,t,s)}else o=Qk(n,e,t,s,r);return Ju(o)}GE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Oa(e.pendingLanes);n!==0&&(Jm(e,n|1),Zt(e,et()),!(Ce&6)&&(Co=et()+500,ks()))}break;case 13:di(function(){var r=Cr(t,1);if(r!==null){var s=Bt();Pn(r,t,1,s)}}),Ng(t,1)}};Zm=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Bt();Pn(e,t,134217728,n)}Ng(t,134217728)}};QE=function(t){if(t.tag===13){var e=fs(t),n=Cr(t,e);if(n!==null){var r=Bt();Pn(n,t,e,r)}Ng(t,e)}};YE=function(){return Ne};XE=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};hp=function(t,e,n){switch(e){case"input":if(ip(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ld(r);if(!s)throw Error(H(90));AE(r),ip(r,s)}}}break;case"textarea":PE(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};jE=Ig;VE=di;var Yk={usingClientEntryPoint:!1,Events:[Vl,Qi,Ld,LE,ME,Ig]},Ia={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xk={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$E(t),t===null?null:t.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||Gk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{Nd=Vc.inject(Xk),Kn=Vc}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yk;fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(e))throw Error(H(200));return Kk(t,e,null,n)};fn.createRoot=function(t,e){if(!Og(t))throw Error(H(299));var n=!1,r="",s=_1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Pg(t,1,!1,null,null,n,!1,r,s),t[Sr]=e.current,ul(t.nodeType===8?t.parentNode:t),new kg(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=$E(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return di(t)};fn.hydrate=function(t,e,n){if(!Hd(e))throw Error(H(200));return Wd(null,t,e,!0,n)};fn.hydrateRoot=function(t,e,n){if(!Og(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=_1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=y1(e,null,t,1,n??null,s,!1,i,o),t[Sr]=e.current,ul(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new zd(e)};fn.render=function(t,e,n){if(!Hd(e))throw Error(H(200));return Wd(null,t,e,!1,n)};fn.unmountComponentAtNode=function(t){if(!Hd(t))throw Error(H(40));return t._reactRootContainer?(di(function(){Wd(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};fn.unstable_batchedUpdates=Ig;fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hd(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Wd(t,e,n,!1,r)};fn.version="18.3.1-next-f1338f8080-20240426";function w1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w1)}catch(t){console.error(t)}}w1(),wE.exports=fn;var Ci=wE.exports;const x1=aE(Ci);var Q_=Ci;Jf.createRoot=Q_.createRoot,Jf.hydrateRoot=Q_.hydrateRoot;const Jk=1,Zk=5e3;let Tf=0;function e2(){return Tf=(Tf+1)%Number.MAX_SAFE_INTEGER,Tf.toString()}const Sf=new Map,Y_=t=>{if(Sf.has(t))return;const e=setTimeout(()=>{Sf.delete(t),Qa({type:"REMOVE_TOAST",toastId:t})},Zk);Sf.set(t,e)},t2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Jk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Y_(n):t.toasts.forEach(r=>{Y_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},pu=[];let mu={toasts:[]};function Qa(t){mu=t2(mu,t),pu.forEach(e=>{e(mu)})}function Je({...t}){const e=e2(),n=s=>Qa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Qa({type:"DISMISS_TOAST",toastId:e});return Qa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),setTimeout(r,5e3),{id:e,dismiss:r,update:n}}function E1(){const[t,e]=g.useState(mu);return g.useEffect(()=>(pu.push(e),()=>{const n=pu.indexOf(e);n>-1&&pu.splice(n,1)}),[t]),{...t,toast:Je,dismiss:n=>Qa({type:"DISMISS_TOAST",toastId:n})}}function oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function n2(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function T1(...t){return e=>t.forEach(n=>n2(n,e))}function Re(...t){return g.useCallback(T1(...t),t)}function r2(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:y,...T}=p,v=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>T,Object.values(T));return d.jsx(v.Provider,{value:E,children:y})}function h(p,f){const y=(f==null?void 0:f[t][l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,s2(s,...e)]}function s2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var br=g.forwardRef((t,e)=>{const{children:n,...r}=t,s=g.Children.toArray(n),i=s.find(i2);if(i){const o=i.props.children,a=s.map(l=>l===i?g.Children.count(o)>1?g.Children.only(null):g.isValidElement(o)?o.props.children:null:l);return d.jsx(Wp,{...r,ref:e,children:g.isValidElement(o)?g.cloneElement(o,void 0,a):null})}return d.jsx(Wp,{...r,ref:e,children:n})});br.displayName="Slot";var Wp=g.forwardRef((t,e)=>{const{children:n,...r}=t;if(g.isValidElement(n)){const s=a2(n);return g.cloneElement(n,{...o2(r,n.props),ref:e?T1(e,s):s})}return g.Children.count(n)>1?g.Children.only(null):null});Wp.displayName="SlotClone";var Dg=({children:t})=>d.jsx(d.Fragment,{children:t});function i2(t){return g.isValidElement(t)&&t.type===Dg}function o2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function a2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Lg(t){const e=t+"CollectionProvider",[n,r]=r2(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:T,children:v}=y,E=W.useRef(null),_=W.useRef(new Map).current;return d.jsx(s,{scope:T,itemMap:_,collectionRef:E,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=W.forwardRef((y,T)=>{const{scope:v,children:E}=y,_=i(a,v),x=Re(T,_.collectionRef);return d.jsx(br,{ref:x,children:E})});l.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",p=W.forwardRef((y,T)=>{const{scope:v,children:E,..._}=y,x=W.useRef(null),S=Re(T,x),P=i(u,v);return W.useEffect(()=>(P.itemMap.set(x,{ref:x,..._}),()=>void P.itemMap.delete(x))),d.jsx(br,{[h]:"",ref:S,children:E})});p.displayName=u;function f(y){const T=i(t+"CollectionConsumer",y);return W.useCallback(()=>{const E=T.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((P,D)=>_.indexOf(P.ref.current)-_.indexOf(D.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},f,r]}function l2(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,l=g.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Os(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];const u=p=>{var _;const{scope:f,children:y,...T}=p,v=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,E=g.useMemo(()=>T,Object.values(T));return d.jsx(v.Provider,{value:E,children:y})};u.displayName=i+"Provider";function h(p,f){var v;const y=((v=f==null?void 0:f[t])==null?void 0:v[l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,c2(s,...e)]}function c2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var u2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ge=u2.reduce((t,e)=>{const n=g.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?br:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function S1(t,e){t&&Ci.flushSync(()=>t.dispatchEvent(e))}function Ht(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function d2(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var h2="DismissableLayer",qp="dismissableLayer.update",f2="dismissableLayer.pointerDownOutside",p2="dismissableLayer.focusOutside",X_,C1=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ho=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=g.useContext(C1),[h,p]=g.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=g.useState({}),T=Re(e,I=>p(I)),v=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(E),x=h?v.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,P=x>=_,D=g2(I=>{const C=I.target,R=[...u.branches].some(N=>N.contains(C));!P||R||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),L=v2(I=>{const C=I.target;[...u.branches].some(N=>N.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return d2(I=>{x===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),g.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(X_=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),J_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=X_)}},[h,f,n,u]),g.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),J_())},[h,u]),g.useEffect(()=>{const I=()=>y({});return document.addEventListener(qp,I),()=>document.removeEventListener(qp,I)},[]),d.jsx(ge.div,{...l,ref:T,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:oe(t.onFocusCapture,L.onFocusCapture),onBlurCapture:oe(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:oe(t.onPointerDownCapture,D.onPointerDownCapture)})});Ho.displayName=h2;var m2="DismissableLayerBranch",I1=g.forwardRef((t,e)=>{const n=g.useContext(C1),r=g.useRef(null),s=Re(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ge.div,{...t,ref:s})});I1.displayName=m2;function g2(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){b1(f2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function v2(t,e=globalThis==null?void 0:globalThis.document){const n=Ht(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&b1(p2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function J_(){const t=new CustomEvent(qp);document.dispatchEvent(t)}function b1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?S1(s,i):s.dispatchEvent(i)}var y2=Ho,_2=I1,mt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},w2="Portal",Ul=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);mt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?x1.createPortal(d.jsx(ge.div,{...r,ref:e}),o):null});Ul.displayName=w2;function x2(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Lr=t=>{const{present:e,children:n}=t,r=E2(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Re(r.ref,T2(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Lr.displayName="Presence";function E2(t){const[e,n]=g.useState(),r=g.useRef({}),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,l]=x2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=Fc(r.current);i.current=a==="mounted"?u:"none"},[a]),mt(()=>{const u=r.current,h=s.current;if(h!==t){const f=i.current,y=Fc(u);t?l("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&f!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),mt(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,p=y=>{const v=Fc(r.current).includes(y.animationName);if(y.target===e&&v&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=y=>{y.target===e&&(i.current=Fc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Fc(t){return(t==null?void 0:t.animationName)||"none"}function T2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=S2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Ht(n),l=g.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,l]}function S2({defaultProp:t,onChange:e}){const n=g.useState(t),[r]=n,s=g.useRef(r),i=Ht(e);return g.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var C2="VisuallyHidden",$l=g.forwardRef((t,e)=>d.jsx(ge.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$l.displayName=C2;var I2=$l,Mg="ToastProvider",[jg,b2,A2]=Lg("Toast"),[A1,tz]=Os("Toast",[A2]),[R2,qd]=A1(Mg),R1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=g.useState(null),[u,h]=g.useState(0),p=g.useRef(!1),f=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mg}\`. Expected non-empty \`string\`.`),d.jsx(jg.Provider,{scope:e,children:d.jsx(R2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:g.useCallback(()=>h(y=>y+1),[]),onToastRemove:g.useCallback(()=>h(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:f,children:o})})};R1.displayName=Mg;var P1="ToastViewport",P2=["F8"],Kp="toast.viewportPause",Gp="toast.viewportResume",N1=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=P2,label:s="Notifications ({hotkey})",...i}=t,o=qd(P1,n),a=b2(n),l=g.useRef(null),u=g.useRef(null),h=g.useRef(null),p=g.useRef(null),f=Re(e,p,o.onViewportChange),y=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;g.useEffect(()=>{const E=_=>{var S;r.length!==0&&r.every(P=>_[P]||_.code===P)&&((S=p.current)==null||S.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),g.useEffect(()=>{const E=l.current,_=p.current;if(T&&E&&_){const x=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Kp);_.dispatchEvent(L),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Gp);_.dispatchEvent(L),o.isClosePausedRef.current=!1}},P=L=>{!E.contains(L.relatedTarget)&&S()},D=()=>{E.contains(document.activeElement)||S()};return E.addEventListener("focusin",x),E.addEventListener("focusout",P),E.addEventListener("pointermove",x),E.addEventListener("pointerleave",D),window.addEventListener("blur",x),window.addEventListener("focus",S),()=>{E.removeEventListener("focusin",x),E.removeEventListener("focusout",P),E.removeEventListener("pointermove",x),E.removeEventListener("pointerleave",D),window.removeEventListener("blur",x),window.removeEventListener("focus",S)}}},[T,o.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:E})=>{const x=a().map(S=>{const P=S.ref.current,D=[P,...z2(P)];return E==="forwards"?D:D.reverse()});return(E==="forwards"?x.reverse():x).flat()},[a]);return g.useEffect(()=>{const E=p.current;if(E){const _=x=>{var D,L,I;const S=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!S){const C=document.activeElement,R=x.shiftKey;if(x.target===E&&R){(D=u.current)==null||D.focus();return}const O=v({tabbingDirection:R?"backwards":"forwards"}),b=O.findIndex($=>$===C);Cf(O.slice(b+1))?x.preventDefault():R?(L=u.current)==null||L.focus():(I=h.current)==null||I.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,v]),d.jsxs(_2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&d.jsx(Qp,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Cf(E)}}),d.jsx(jg.Slot,{scope:n,children:d.jsx(ge.ol,{tabIndex:-1,...i,ref:f})}),T&&d.jsx(Qp,{ref:h,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Cf(E)}})]})});N1.displayName=P1;var k1="ToastFocusProxy",Qp=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=qd(k1,n);return d.jsx($l,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Qp.displayName=k1;var Kd="Toast",N2="toast.swipeStart",k2="toast.swipeMove",O2="toast.swipeCancel",D2="toast.swipeEnd",O1=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=hi({prop:r,defaultProp:s,onChange:i});return d.jsx(Lr,{present:n||a,children:d.jsx(j2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ht(t.onPause),onResume:Ht(t.onResume),onSwipeStart:oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});O1.displayName=Kd;var[L2,M2]=A1(Kd,{onClose(){}}),j2=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:f,onSwipeEnd:y,...T}=t,v=qd(Kd,n),[E,_]=g.useState(null),x=Re(e,$=>_($)),S=g.useRef(null),P=g.useRef(null),D=s||v.duration,L=g.useRef(0),I=g.useRef(D),C=g.useRef(0),{onToastAdd:R,onToastRemove:N}=v,k=Ht(()=>{var ne;(E==null?void 0:E.contains(document.activeElement))&&((ne=v.viewport)==null||ne.focus()),o()}),O=g.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),L.current=new Date().getTime(),C.current=window.setTimeout(k,$))},[k]);g.useEffect(()=>{const $=v.viewport;if($){const ne=()=>{O(I.current),u==null||u()},G=()=>{const ie=new Date().getTime()-L.current;I.current=I.current-ie,window.clearTimeout(C.current),l==null||l()};return $.addEventListener(Kp,G),$.addEventListener(Gp,ne),()=>{$.removeEventListener(Kp,G),$.removeEventListener(Gp,ne)}}},[v.viewport,D,l,u,O]),g.useEffect(()=>{i&&!v.isClosePausedRef.current&&O(D)},[i,D,v.isClosePausedRef,O]),g.useEffect(()=>(R(),()=>N()),[R,N]);const b=g.useMemo(()=>E?U1(E):null,[E]);return v.viewport?d.jsxs(d.Fragment,{children:[b&&d.jsx(V2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:b}),d.jsx(L2,{scope:n,onClose:k,children:Ci.createPortal(d.jsx(jg.ItemSlot,{scope:n,children:d.jsx(y2,{asChild:!0,onEscapeKeyDown:oe(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:oe(t.onPointerDown,$=>{$.button===0&&(S.current={x:$.clientX,y:$.clientY})}),onPointerMove:oe(t.onPointerMove,$=>{if(!S.current)return;const ne=$.clientX-S.current.x,G=$.clientY-S.current.y,ie=!!P.current,j=["left","right"].includes(v.swipeDirection),z=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,X=j?z(0,ne):0,Q=j?0:z(0,G),Y=$.pointerType==="touch"?10:2,se={x:X,y:Q},Te={originalEvent:$,delta:se};ie?(P.current=se,Uc(k2,p,Te,{discrete:!1})):Z_(se,v.swipeDirection,Y)?(P.current=se,Uc(N2,h,Te,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(ne)>Y||Math.abs(G)>Y)&&(S.current=null)}),onPointerUp:oe(t.onPointerUp,$=>{const ne=P.current,G=$.target;if(G.hasPointerCapture($.pointerId)&&G.releasePointerCapture($.pointerId),P.current=null,S.current=null,ne){const ie=$.currentTarget,j={originalEvent:$,delta:ne};Z_(ne,v.swipeDirection,v.swipeThreshold)?Uc(D2,y,j,{discrete:!0}):Uc(O2,f,j,{discrete:!0}),ie.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),V2=t=>{const{__scopeToast:e,children:n,...r}=t,s=qd(Kd,e),[i,o]=g.useState(!1),[a,l]=g.useState(!1);return $2(()=>o(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(Ul,{asChild:!0,children:d.jsx($l,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},F2="ToastTitle",D1=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ge.div,{...r,ref:e})});D1.displayName=F2;var U2="ToastDescription",L1=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ge.div,{...r,ref:e})});L1.displayName=U2;var M1="ToastAction",j1=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(F1,{altText:n,asChild:!0,children:d.jsx(Vg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${M1}\`. Expected non-empty \`string\`.`),null)});j1.displayName=M1;var V1="ToastClose",Vg=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=M2(V1,n);return d.jsx(F1,{asChild:!0,children:d.jsx(ge.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,s.onClose)})})});Vg.displayName=V1;var F1=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function U1(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),B2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...U1(r))}}),e}function Uc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?S1(s,i):s.dispatchEvent(i)}var Z_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function $2(t=()=>{}){const e=Ht(t);mt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function B2(t){return t.nodeType===t.ELEMENT_NODE}function z2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var H2=R1,$1=N1,B1=O1,z1=D1,H1=L1,W1=j1,q1=Vg;function K1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=K1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function G1(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=K1(t))&&(r&&(r+=" "),r+=e);return r}const ew=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,tw=G1,Gd=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return tw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],p=i==null?void 0:i[u];if(h===null)return null;const f=ew(h)||ew(p);return s[u][f]}),a=n&&Object.entries(n).reduce((u,h)=>{let[p,f]=h;return f===void 0||(u[p]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:f,...y}=h;return Object.entries(y).every(T=>{let[v,E]=T;return Array.isArray(E)?E.includes({...i,...a}[v]):{...i,...a}[v]===E})?[...u,p,f]:u},[]);return tw(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>g.createElement("svg",{ref:l,...q2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Q1("lucide",s),...a},[...o.map(([u,h])=>g.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(K2,{ref:i,iconNode:e,className:Q1(`lucide-${W2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=Ct("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=Ct("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=Ct("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=Ct("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=Ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=Ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=Ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=Ct("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=Ct("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Ct("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=Ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=Ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Ct("StarHalf",[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Ct("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ug="-",tO=t=>{const e=rO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ug);return a[0]===""&&a.length!==1&&a.shift(),tS(a,e)||nO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},tS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?tS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ug);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},rw=/^\[(.+)\]$/,nO=t=>{if(rw.test(t)){const e=rw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},rO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return iO(Object.entries(t.classGroups),n).forEach(([i,o])=>{Yp(o,r,i,e)}),r},Yp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:sw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(sO(s)){Yp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Yp(o,sw(e,i),n,r)})})},sw=(t,e)=>{let n=t;return e.split(Ug).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sO=t=>t.isThemeGetter,iO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,oO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},nS="!",aO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,p;for(let E=0;E<a.length;E++){let _=a[E];if(u===0){if(_===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(h,E)),h=E+i;continue}if(_==="/"){p=E;continue}}_==="["?u++:_==="]"&&u--}const f=l.length===0?a:a.substring(h),y=f.startsWith(nS),T=y?f.substring(1):f,v=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},lO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},cO=t=>({cache:oO(t.cacheSize),parseClassName:aO(t),...tO(t)}),uO=/\s+/,dO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(uO);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:y}=n(u);let T=!!y,v=r(T?f.substring(0,y):f);if(!v){if(!T){a=u+(a.length>0?" "+a:a);continue}if(v=r(f),!v){a=u+(a.length>0?" "+a:a);continue}T=!1}const E=lO(h).join(":"),_=p?E+nS:E,x=_+v;if(i.includes(x))continue;i.push(x);const S=s(v,T);for(let P=0;P<S.length;++P){const D=S[P];i.push(_+D)}a=u+(a.length>0?" "+a:a)}return a};function hO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=rS(e))&&(r&&(r+=" "),r+=n);return r}const rS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=rS(t[r]))&&(n&&(n+=" "),n+=e);return n};function fO(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,p)=>p(h),t());return n=cO(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=dO(l,n);return s(l,h),h}return function(){return i(hO.apply(null,arguments))}}const je=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},sS=/^\[(?:([a-z-]+):)?(.+)\]$/i,pO=/^\d+\/\d+$/,mO=new Set(["px","full","screen"]),gO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_O=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ur=t=>lo(t)||mO.has(t)||pO.test(t),Hr=t=>Wo(t,"length",AO),lo=t=>!!t&&!Number.isNaN(Number(t)),If=t=>Wo(t,"number",lo),ba=t=>!!t&&Number.isInteger(Number(t)),xO=t=>t.endsWith("%")&&lo(t.slice(0,-1)),ve=t=>sS.test(t),Wr=t=>gO.test(t),EO=new Set(["length","size","percentage"]),TO=t=>Wo(t,EO,iS),SO=t=>Wo(t,"position",iS),CO=new Set(["image","url"]),IO=t=>Wo(t,CO,PO),bO=t=>Wo(t,"",RO),Aa=()=>!0,Wo=(t,e,n)=>{const r=sS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},AO=t=>vO.test(t)&&!yO.test(t),iS=()=>!1,RO=t=>_O.test(t),PO=t=>wO.test(t),NO=()=>{const t=je("colors"),e=je("spacing"),n=je("blur"),r=je("brightness"),s=je("borderColor"),i=je("borderRadius"),o=je("borderSpacing"),a=je("borderWidth"),l=je("contrast"),u=je("grayscale"),h=je("hueRotate"),p=je("invert"),f=je("gap"),y=je("gradientColorStops"),T=je("gradientColorStopPositions"),v=je("inset"),E=je("margin"),_=je("opacity"),x=je("padding"),S=je("saturate"),P=je("scale"),D=je("sepia"),L=je("skew"),I=je("space"),C=je("translate"),R=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ve,e],O=()=>[ve,e],b=()=>["",ur,Hr],$=()=>["auto",lo,ve],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",ve],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[lo,ve];return{cacheSize:500,separator:":",theme:{colors:[Aa],spacing:[ur,Hr],blur:["none","",Wr,ve],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Wr,ve],borderSpacing:O(),borderWidth:b(),contrast:Q(),grayscale:z(),hueRotate:Q(),invert:z(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[xO,Hr],inset:k(),margin:k(),opacity:Q(),padding:O(),saturate:Q(),scale:Q(),sepia:z(),skew:Q(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Wr]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),ve]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ba,ve]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ba,ve]}],"grid-cols":[{"grid-cols":[Aa]}],"col-start-end":[{col:["auto",{span:["full",ba,ve]},ve]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Aa]}],"row-start-end":[{row:["auto",{span:[ba,ve]},ve]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[Wr]},Wr]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wr,Hr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",If]}],"font-family":[{font:[Aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",lo,If]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ur,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ur,Hr]}],"underline-offset":[{"underline-offset":["auto",ur,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),SO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},IO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[ur,ve]}],"outline-w":[{outline:[ur,Hr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ur,Hr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wr,bO]}],"shadow-color":[{shadow:[Aa]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Wr,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ba,ve]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ur,Hr,If]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kO=fO(NO);function re(...t){return kO(G1(t))}const OO=H2,oS=g.forwardRef(({className:t,...e},n)=>d.jsx($1,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));oS.displayName=$1.displayName;const DO=Gd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),aS=g.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(B1,{ref:r,className:re(DO({variant:e}),t),...n}));aS.displayName=B1.displayName;const LO=g.forwardRef(({className:t,...e},n)=>d.jsx(W1,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));LO.displayName=W1.displayName;const lS=g.forwardRef(({className:t,...e},n)=>d.jsx(q1,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(eS,{className:"h-4 w-4"})}));lS.displayName=q1.displayName;const cS=g.forwardRef(({className:t,...e},n)=>d.jsx(z1,{ref:n,className:re("text-sm font-semibold",t),...e}));cS.displayName=z1.displayName;const uS=g.forwardRef(({className:t,...e},n)=>d.jsx(H1,{ref:n,className:re("text-sm opacity-90",t),...e}));uS.displayName=H1.displayName;function MO(){const{toasts:t}=E1();return d.jsxs(OO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(aS,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(cS,{children:n}),r&&d.jsx(uS,{children:r})]}),s,d.jsx(lS,{})]},e)}),d.jsx(oS,{})]})}var iw=["light","dark"],jO="(prefers-color-scheme: dark)",VO=g.createContext(void 0),FO={setTheme:t=>{},themes:[]},UO=()=>{var t;return(t=g.useContext(VO))!=null?t:FO};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=s?iw.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(T,v=!1,E=!0)=>{let _=o?o[T]:T,x=v?T+"|| ''":`'${_}'`,S="";return s&&E&&!v&&iw.includes(T)&&(S+=`d.style.colorScheme = '${T}';`),n==="class"?v||_?S+=`c.add(${x})`:S+="null":_&&(S+=`d[s](n,${x})`),S},y=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${jO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${p}}catch(t){}}();`;return g.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:y}})});var $O=t=>{switch(t){case"success":return HO;case"info":return qO;case"warning":return WO;case"error":return KO;default:return null}},BO=Array(12).fill(0),zO=({visible:t})=>W.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},W.createElement("div",{className:"sonner-spinner"},BO.map((e,n)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),HO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),WO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KO=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),GO=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Xp=1,QO=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Xp++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0;return r.then(async i=>{if(XO(i)&&!i.ok){s=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${i.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${i.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){s=!1;let o=typeof e.success=="function"?await e.success(i):e.success,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async i=>{if(e.error!==void 0){s=!1;let o=typeof e.error=="function"?await e.error(i):e.error,a=typeof e.description=="function"?await e.description(i):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var i;s&&(this.dismiss(n),n=void 0),(i=e.finally)==null||i.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Xp++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},tn=new QO,YO=(t,e)=>{let n=(e==null?void 0:e.id)||Xp++;return tn.addToast({title:t,...e,id:n}),n},XO=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",JO=YO,ZO=()=>tn.toasts;Object.assign(JO,{success:tn.success,info:tn.info,warning:tn.warning,error:tn.error,custom:tn.custom,message:tn.message,promise:tn.promise,dismiss:tn.dismiss,loading:tn.loading},{getHistory:ZO});function eD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}eD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Bc(t){return t.label!==void 0}var tD=3,nD="32px",rD=4e3,sD=356,iD=14,oD=20,aD=200;function lD(...t){return t.filter(Boolean).join(" ")}var cD=t=>{var e,n,r,s,i,o,a,l,u,h;let{invert:p,toast:f,unstyled:y,interacting:T,setHeights:v,visibleToasts:E,heights:_,index:x,toasts:S,expanded:P,removeToast:D,defaultRichColors:L,closeButton:I,style:C,cancelButtonStyle:R,actionButtonStyle:N,className:k="",descriptionClassName:O="",duration:b,position:$,gap:ne,loadingIcon:G,expandByDefault:ie,classNames:j,icons:z,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:Q,cn:Y}=t,[se,Te]=W.useState(!1),[F,ee]=W.useState(!1),[K,he]=W.useState(!1),[xe,le]=W.useState(!1),[fe,ye]=W.useState(0),[at,gt]=W.useState(0),mn=W.useRef(null),jt=W.useRef(null),ir=x===0,ra=x+1<=E,nt=f.type,Vn=f.dismissible!==!1,ic=f.className||"",Lh=f.descriptionClassName||"",jr=W.useMemo(()=>_.findIndex(de=>de.toastId===f.id)||0,[_,f.id]),sa=W.useMemo(()=>{var de;return(de=f.closeButton)!=null?de:I},[f.closeButton,I]),ia=W.useMemo(()=>f.duration||b||rD,[f.duration,b]),rt=W.useRef(0),qe=W.useRef(0),Us=W.useRef(0),or=W.useRef(null),[oa,Mh]=$.split("-"),Vr=W.useMemo(()=>_.reduce((de,Oe,Pe)=>Pe>=jr?de:de+Oe.height,0),[_,jr]),aa=GO(),oc=f.invert||p,$s=nt==="loading";qe.current=W.useMemo(()=>jr*ne+Vr,[jr,Vr]),W.useEffect(()=>{Te(!0)},[]),W.useLayoutEffect(()=>{if(!se)return;let de=jt.current,Oe=de.style.height;de.style.height="auto";let Pe=de.getBoundingClientRect().height;de.style.height=Oe,gt(Pe),v(It=>It.find(Kt=>Kt.toastId===f.id)?It.map(Kt=>Kt.toastId===f.id?{...Kt,height:Pe}:Kt):[{toastId:f.id,height:Pe,position:f.position},...It])},[se,f.title,f.description,v,f.id]);let Fn=W.useCallback(()=>{ee(!0),ye(qe.current),v(de=>de.filter(Oe=>Oe.toastId!==f.id)),setTimeout(()=>{D(f)},aD)},[f,D,v,qe]);W.useEffect(()=>{if(f.promise&&nt==="loading"||f.duration===1/0||f.type==="loading")return;let de,Oe=ia;return P||T||Q&&aa?(()=>{if(Us.current<rt.current){let Pe=new Date().getTime()-rt.current;Oe=Oe-Pe}Us.current=new Date().getTime()})():Oe!==1/0&&(rt.current=new Date().getTime(),de=setTimeout(()=>{var Pe;(Pe=f.onAutoClose)==null||Pe.call(f,f),Fn()},Oe)),()=>clearTimeout(de)},[P,T,ie,f,ia,Fn,f.promise,nt,Q,aa]),W.useEffect(()=>{let de=jt.current;if(de){let Oe=de.getBoundingClientRect().height;return gt(Oe),v(Pe=>[{toastId:f.id,height:Oe,position:f.position},...Pe]),()=>v(Pe=>Pe.filter(It=>It.toastId!==f.id))}},[v,f.id]),W.useEffect(()=>{f.delete&&Fn()},[Fn,f.delete]);function jh(){return z!=null&&z.loading?W.createElement("div",{className:"sonner-loader","data-visible":nt==="loading"},z.loading):G?W.createElement("div",{className:"sonner-loader","data-visible":nt==="loading"},G):W.createElement(zO,{visible:nt==="loading"})}return W.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:jt,className:Y(k,ic,j==null?void 0:j.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,j==null?void 0:j.default,j==null?void 0:j[nt],(n=f==null?void 0:f.classNames)==null?void 0:n[nt]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:L,"data-styled":!(f.jsx||f.unstyled||y),"data-mounted":se,"data-promise":!!f.promise,"data-removed":F,"data-visible":ra,"data-y-position":oa,"data-x-position":Mh,"data-index":x,"data-front":ir,"data-swiping":K,"data-dismissible":Vn,"data-type":nt,"data-invert":oc,"data-swipe-out":xe,"data-expanded":!!(P||ie&&se),style:{"--index":x,"--toasts-before":x,"--z-index":S.length-x,"--offset":`${F?fe:qe.current}px`,"--initial-height":ie?"auto":`${at}px`,...C,...f.style},onPointerDown:de=>{$s||!Vn||(mn.current=new Date,ye(qe.current),de.target.setPointerCapture(de.pointerId),de.target.tagName!=="BUTTON"&&(he(!0),or.current={x:de.clientX,y:de.clientY}))},onPointerUp:()=>{var de,Oe,Pe,It;if(xe||!Vn)return;or.current=null;let Kt=Number(((de=jt.current)==null?void 0:de.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Fr=new Date().getTime()-((Oe=mn.current)==null?void 0:Oe.getTime()),ar=Math.abs(Kt)/Fr;if(Math.abs(Kt)>=oD||ar>.11){ye(qe.current),(Pe=f.onDismiss)==null||Pe.call(f,f),Fn(),le(!0);return}(It=jt.current)==null||It.style.setProperty("--swipe-amount","0px"),he(!1)},onPointerMove:de=>{var Oe;if(!or.current||!Vn)return;let Pe=de.clientY-or.current.y,It=de.clientX-or.current.x,Kt=(oa==="top"?Math.min:Math.max)(0,Pe),Fr=de.pointerType==="touch"?10:2;Math.abs(Kt)>Fr?(Oe=jt.current)==null||Oe.style.setProperty("--swipe-amount",`${Pe}px`):Math.abs(It)>Fr&&(or.current=null)}},sa&&!f.jsx?W.createElement("button",{"aria-label":X,"data-disabled":$s,"data-close-button":!0,onClick:$s||!Vn?()=>{}:()=>{var de;Fn(),(de=f.onDismiss)==null||de.call(f,f)},className:Y(j==null?void 0:j.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||W.isValidElement(f.title)?f.jsx||f.title:W.createElement(W.Fragment,null,nt||f.icon||f.promise?W.createElement("div",{"data-icon":"",className:Y(j==null?void 0:j.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||jh():null,f.type!=="loading"?f.icon||(z==null?void 0:z[nt])||$O(nt):null):null,W.createElement("div",{"data-content":"",className:Y(j==null?void 0:j.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},W.createElement("div",{"data-title":"",className:Y(j==null?void 0:j.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?W.createElement("div",{"data-description":"",className:Y(O,Lh,j==null?void 0:j.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),W.isValidElement(f.cancel)?f.cancel:f.cancel&&Bc(f.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||R,onClick:de=>{var Oe,Pe;Bc(f.cancel)&&Vn&&((Pe=(Oe=f.cancel).onClick)==null||Pe.call(Oe,de),Fn())},className:Y(j==null?void 0:j.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,W.isValidElement(f.action)?f.action:f.action&&Bc(f.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||N,onClick:de=>{var Oe,Pe;Bc(f.action)&&(de.defaultPrevented||((Pe=(Oe=f.action).onClick)==null||Pe.call(Oe,de),Fn()))},className:Y(j==null?void 0:j.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function ow(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var uD=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:l="light",richColors:u,duration:h,style:p,visibleToasts:f=tD,toastOptions:y,dir:T=ow(),gap:v=iD,loadingIcon:E,icons:_,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:S,cn:P=lD}=t,[D,L]=W.useState([]),I=W.useMemo(()=>Array.from(new Set([n].concat(D.filter(Q=>Q.position).map(Q=>Q.position)))),[D,n]),[C,R]=W.useState([]),[N,k]=W.useState(!1),[O,b]=W.useState(!1),[$,ne]=W.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=W.useRef(null),ie=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=W.useRef(null),z=W.useRef(!1),X=W.useCallback(Q=>{var Y;(Y=D.find(se=>se.id===Q.id))!=null&&Y.delete||tn.dismiss(Q.id),L(se=>se.filter(({id:Te})=>Te!==Q.id))},[D]);return W.useEffect(()=>tn.subscribe(Q=>{if(Q.dismiss){L(Y=>Y.map(se=>se.id===Q.id?{...se,delete:!0}:se));return}setTimeout(()=>{x1.flushSync(()=>{L(Y=>{let se=Y.findIndex(Te=>Te.id===Q.id);return se!==-1?[...Y.slice(0,se),{...Y[se],...Q},...Y.slice(se+1)]:[Q,...Y]})})})}),[]),W.useEffect(()=>{if(l!=="system"){ne(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:Q})=>{ne(Q?"dark":"light")})},[l]),W.useEffect(()=>{D.length<=1&&k(!1)},[D]),W.useEffect(()=>{let Q=Y=>{var se,Te;r.every(F=>Y[F]||Y.code===F)&&(k(!0),(se=G.current)==null||se.focus()),Y.code==="Escape"&&(document.activeElement===G.current||(Te=G.current)!=null&&Te.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[r]),W.useEffect(()=>{if(G.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,z.current=!1)}},[G.current]),D.length?W.createElement("section",{"aria-label":`${x} ${ie}`,tabIndex:-1},I.map((Q,Y)=>{var se;let[Te,F]=Q.split("-");return W.createElement("ol",{key:Q,dir:T==="auto"?ow():T,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":Te,"data-x-position":F,style:{"--front-toast-height":`${((se=C[0])==null?void 0:se.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||nD,"--width":`${sD}px`,"--gap":`${v}px`,...p},onBlur:ee=>{z.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(z.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||z.current||(z.current=!0,j.current=ee.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{O||k(!1)},onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||b(!0)},onPointerUp:()=>b(!1)},D.filter(ee=>!ee.position&&Y===0||ee.position===Q).map((ee,K)=>{var he,xe;return W.createElement(cD,{key:ee.id,icons:_,index:K,toast:ee,defaultRichColors:u,duration:(he=y==null?void 0:y.duration)!=null?he:h,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:e,visibleToasts:f,closeButton:(xe=y==null?void 0:y.closeButton)!=null?xe:i,interacting:O,position:Q,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:X,toasts:D.filter(le=>le.position==ee.position),heights:C.filter(le=>le.position==ee.position),setHeights:R,expandByDefault:s,gap:v,loadingIcon:E,expanded:N,pauseWhenPageIsHidden:S,cn:P})}))})):null};const dD=({...t})=>{const{theme:e="system"}=UO();return d.jsx(uD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var hD=yE.useId||(()=>{}),fD=0;function xr(t){const[e,n]=g.useState(hD());return mt(()=>{n(r=>r??String(fD++))},[t]),e?`radix-${e}`:""}const pD=["top","right","bottom","left"],Es=Math.min,rn=Math.max,Zu=Math.round,zc=Math.floor,Ts=t=>({x:t,y:t}),mD={left:"right",right:"left",bottom:"top",top:"bottom"},gD={start:"end",end:"start"};function Jp(t,e,n){return rn(t,Es(e,n))}function Ar(t,e){return typeof t=="function"?t(e):t}function Rr(t){return t.split("-")[0]}function qo(t){return t.split("-")[1]}function $g(t){return t==="x"?"y":"x"}function Bg(t){return t==="y"?"height":"width"}function Ss(t){return["top","bottom"].includes(Rr(t))?"y":"x"}function zg(t){return $g(Ss(t))}function vD(t,e,n){n===void 0&&(n=!1);const r=qo(t),s=zg(t),i=Bg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ed(o)),[o,ed(o)]}function yD(t){const e=ed(t);return[Zp(t),e,Zp(e)]}function Zp(t){return t.replace(/start|end/g,e=>gD[e])}function _D(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function wD(t,e,n,r){const s=qo(t);let i=_D(Rr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Zp)))),i}function ed(t){return t.replace(/left|right|bottom|top/g,e=>mD[e])}function xD(t){return{top:0,right:0,bottom:0,left:0,...t}}function dS(t){return typeof t!="number"?xD(t):{top:t,right:t,bottom:t,left:t}}function td(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function aw(t,e,n){let{reference:r,floating:s}=t;const i=Ss(e),o=zg(e),a=Bg(o),l=Rr(e),u=i==="y",h=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let y;switch(l){case"top":y={x:h,y:r.y-s.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-s.width,y:p};break;default:y={x:r.x,y:r.y}}switch(qo(e)){case"start":y[o]-=f*(n&&u?-1:1);break;case"end":y[o]+=f*(n&&u?-1:1);break}return y}const ED=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:p}=aw(u,r,l),f=r,y={},T=0;for(let v=0;v<a.length;v++){const{name:E,fn:_}=a[v],{x,y:S,data:P,reset:D}=await _({x:h,y:p,initialPlacement:r,placement:f,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});h=x??h,p=S??p,y={...y,[E]:{...y[E],...P}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(f=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:p}=aw(u,f,l)),v=-1)}return{x:h,y:p,placement:f,strategy:s,middlewareData:y}};async function _l(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:f=!1,padding:y=0}=Ar(e,t),T=dS(y),E=a[f?p==="floating"?"reference":"floating":p],_=td(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),x=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=td(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:S,strategy:l}):x);return{top:(_.top-D.top+T.top)/P.y,bottom:(D.bottom-_.bottom+T.bottom)/P.y,left:(_.left-D.left+T.left)/P.x,right:(D.right-_.right+T.right)/P.x}}const TD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=Ar(t,e)||{};if(u==null)return{};const p=dS(h),f={x:n,y:r},y=zg(s),T=Bg(y),v=await o.getDimensions(u),E=y==="y",_=E?"top":"left",x=E?"bottom":"right",S=E?"clientHeight":"clientWidth",P=i.reference[T]+i.reference[y]-f[y]-i.floating[T],D=f[y]-i.reference[y],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[S]||i.floating[T]);const C=P/2-D/2,R=I/2-v[T]/2-1,N=Es(p[_],R),k=Es(p[x],R),O=N,b=I-v[T]-k,$=I/2-v[T]/2+C,ne=Jp(O,$,b),G=!l.arrow&&qo(s)!=null&&$!==ne&&i.reference[T]/2-($<O?N:k)-v[T]/2<0,ie=G?$<O?$-O:$-b:0;return{[y]:f[y]+ie,data:{[y]:ne,centerOffset:$-ne-ie,...G&&{alignmentOffset:ie}},reset:G}}}),SD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,...E}=Ar(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Rr(s),x=Ss(a),S=Rr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=f||(S||!v?[ed(a)]:yD(a)),L=T!=="none";!f&&L&&D.push(...wD(a,v,T,P));const I=[a,...D],C=await _l(e,E),R=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&R.push(C[_]),p){const $=vD(s,o,P);R.push(C[$[0]],C[$[1]])}if(N=[...N,{placement:s,overflows:R}],!R.every($=>$<=0)){var k,O;const $=(((k=i.flip)==null?void 0:k.index)||0)+1,ne=I[$];if(ne)return{data:{index:$,overflows:N},reset:{placement:ne}};let G=(O=N.filter(ie=>ie.overflows[0]<=0).sort((ie,j)=>ie.overflows[1]-j.overflows[1])[0])==null?void 0:O.placement;if(!G)switch(y){case"bestFit":{var b;const ie=(b=N.filter(j=>{if(L){const z=Ss(j.placement);return z===x||z==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(z=>z>0).reduce((z,X)=>z+X,0)]).sort((j,z)=>j[1]-z[1])[0])==null?void 0:b[0];ie&&(G=ie);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function lw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function cw(t){return pD.some(e=>t[e]>=0)}const CD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ar(t,e);switch(r){case"referenceHidden":{const i=await _l(e,{...s,elementContext:"reference"}),o=lw(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cw(o)}}}case"escaped":{const i=await _l(e,{...s,altBoundary:!0}),o=lw(i,n.floating);return{data:{escapedOffsets:o,escaped:cw(o)}}}default:return{}}}}};async function ID(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Rr(n),a=qo(n),l=Ss(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,p=Ar(e,t);let{mainAxis:f,crossAxis:y,alignmentAxis:T}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof T=="number"&&(y=a==="end"?T*-1:T),l?{x:y*h,y:f*u}:{x:f*u,y:y*h}}const bD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await ID(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},AD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:x}=E;return{x:_,y:x}}},...l}=Ar(t,e),u={x:n,y:r},h=await _l(e,l),p=Ss(Rr(s)),f=$g(p);let y=u[f],T=u[p];if(i){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",x=y+h[E],S=y-h[_];y=Jp(x,y,S)}if(o){const E=p==="y"?"top":"left",_=p==="y"?"bottom":"right",x=T+h[E],S=T-h[_];T=Jp(x,T,S)}const v=a.fn({...e,[f]:y,[p]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[p]:o}}}}}},RD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Ar(t,e),h={x:n,y:r},p=Ss(s),f=$g(p);let y=h[f],T=h[p];const v=Ar(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const S=f==="y"?"height":"width",P=i.reference[f]-i.floating[S]+E.mainAxis,D=i.reference[f]+i.reference[S]-E.mainAxis;y<P?y=P:y>D&&(y=D)}if(u){var _,x;const S=f==="y"?"width":"height",P=["top","left"].includes(Rr(s)),D=i.reference[p]-i.floating[S]+(P&&((_=o.offset)==null?void 0:_[p])||0)+(P?0:E.crossAxis),L=i.reference[p]+i.reference[S]+(P?0:((x=o.offset)==null?void 0:x[p])||0)-(P?E.crossAxis:0);T<D?T=D:T>L&&(T=L)}return{[f]:y,[p]:T}}}},PD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Ar(t,e),h=await _l(e,u),p=Rr(s),f=qo(s),y=Ss(s)==="y",{width:T,height:v}=i.floating;let E,_;p==="top"||p==="bottom"?(E=p,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=p,E=f==="end"?"top":"bottom");const x=v-h.top-h.bottom,S=T-h.left-h.right,P=Es(v-h[E],x),D=Es(T-h[_],S),L=!e.middlewareData.shift;let I=P,C=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=x),L&&!f){const N=rn(h.left,0),k=rn(h.right,0),O=rn(h.top,0),b=rn(h.bottom,0);y?C=T-2*(N!==0||k!==0?N+k:rn(h.left,h.right)):I=v-2*(O!==0||b!==0?O+b:rn(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:I});const R=await o.getDimensions(a.floating);return T!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function Qd(){return typeof window<"u"}function Ko(t){return hS(t)?(t.nodeName||"").toLowerCase():"#document"}function dn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rr(t){var e;return(e=(hS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hS(t){return Qd()?t instanceof Node||t instanceof dn(t).Node:!1}function Dn(t){return Qd()?t instanceof Element||t instanceof dn(t).Element:!1}function Zn(t){return Qd()?t instanceof HTMLElement||t instanceof dn(t).HTMLElement:!1}function uw(t){return!Qd()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dn(t).ShadowRoot}function Bl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Ln(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function ND(t){return["table","td","th"].includes(Ko(t))}function Yd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Hg(t){const e=Wg(),n=Dn(t)?Ln(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kD(t){let e=Cs(t);for(;Zn(e)&&!Io(e);){if(Hg(e))return e;if(Yd(e))return null;e=Cs(e)}return null}function Wg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Io(t){return["html","body","#document"].includes(Ko(t))}function Ln(t){return dn(t).getComputedStyle(t)}function Xd(t){return Dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cs(t){if(Ko(t)==="html")return t;const e=t.assignedSlot||t.parentNode||uw(t)&&t.host||rr(t);return uw(e)?e.host:e}function fS(t){const e=Cs(t);return Io(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zn(e)&&Bl(e)?e:fS(e)}function wl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=fS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=dn(s);if(i){const a=em(o);return e.concat(o,o.visualViewport||[],Bl(s)?s:[],a&&n?wl(a):[])}return e.concat(s,wl(s,[],n))}function em(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pS(t){const e=Ln(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Zn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Zu(n)!==i||Zu(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function qg(t){return Dn(t)?t:t.contextElement}function co(t){const e=qg(t);if(!Zn(e))return Ts(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=pS(e);let o=(i?Zu(n.width):n.width)/r,a=(i?Zu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const OD=Ts(0);function mS(t){const e=dn(t);return!Wg()||!e.visualViewport?OD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function DD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dn(t)?!1:e}function pi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qg(t);let o=Ts(1);e&&(r?Dn(r)&&(o=co(r)):o=co(t));const a=DD(i,n,r)?mS(i):Ts(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,p=s.height/o.y;if(i){const f=dn(i),y=r&&Dn(r)?dn(r):r;let T=f,v=em(T);for(;v&&r&&y!==T;){const E=co(v),_=v.getBoundingClientRect(),x=Ln(v),S=_.left+(v.clientLeft+parseFloat(x.paddingLeft))*E.x,P=_.top+(v.clientTop+parseFloat(x.paddingTop))*E.y;l*=E.x,u*=E.y,h*=E.x,p*=E.y,l+=S,u+=P,T=dn(v),v=em(T)}}return td({width:h,height:p,x:l,y:u})}function LD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=rr(r),a=e?Yd(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=Ts(1);const h=Ts(0),p=Zn(r);if((p||!p&&!i)&&((Ko(r)!=="body"||Bl(o))&&(l=Xd(r)),Zn(r))){const f=pi(r);u=co(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x,y:n.y*u.y-l.scrollTop*u.y+h.y}}function MD(t){return Array.from(t.getClientRects())}function tm(t,e){const n=Xd(t).scrollLeft;return e?e.left+n:pi(rr(t)).left+n}function jD(t){const e=rr(t),n=Xd(t),r=t.ownerDocument.body,s=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+tm(t);const a=-n.scrollTop;return Ln(r).direction==="rtl"&&(o+=rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function VD(t,e){const n=dn(t),r=rr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=Wg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function FD(t,e){const n=pi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Zn(t)?co(t):Ts(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function dw(t,e,n){let r;if(e==="viewport")r=VD(t,n);else if(e==="document")r=jD(rr(t));else if(Dn(e))r=FD(e,n);else{const s=mS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return td(r)}function gS(t,e){const n=Cs(t);return n===e||!Dn(n)||Io(n)?!1:Ln(n).position==="fixed"||gS(n,e)}function UD(t,e){const n=e.get(t);if(n)return n;let r=wl(t,[],!1).filter(a=>Dn(a)&&Ko(a)!=="body"),s=null;const i=Ln(t).position==="fixed";let o=i?Cs(t):t;for(;Dn(o)&&!Io(o);){const a=Ln(o),l=Hg(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Bl(o)&&!l&&gS(t,o))?r=r.filter(h=>h!==o):s=a,o=Cs(o)}return e.set(t,r),r}function $D(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Yd(e)?[]:UD(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const p=dw(e,h,s);return u.top=rn(p.top,u.top),u.right=Es(p.right,u.right),u.bottom=Es(p.bottom,u.bottom),u.left=rn(p.left,u.left),u},dw(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function BD(t){const{width:e,height:n}=pS(t);return{width:e,height:n}}function zD(t,e,n){const r=Zn(e),s=rr(e),i=n==="fixed",o=pi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Ts(0);if(r||!r&&!i)if((Ko(e)!=="body"||Bl(s))&&(a=Xd(e)),r){const y=pi(e,!0,i,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else s&&(l.x=tm(s));let u=0,h=0;if(s&&!r&&!i){const y=s.getBoundingClientRect();h=y.top+a.scrollTop,u=y.left+a.scrollLeft-tm(s,y)}const p=o.left+a.scrollLeft-l.x-u,f=o.top+a.scrollTop-l.y-h;return{x:p,y:f,width:o.width,height:o.height}}function bf(t){return Ln(t).position==="static"}function hw(t,e){if(!Zn(t)||Ln(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return rr(t)===n&&(n=n.ownerDocument.body),n}function vS(t,e){const n=dn(t);if(Yd(t))return n;if(!Zn(t)){let s=Cs(t);for(;s&&!Io(s);){if(Dn(s)&&!bf(s))return s;s=Cs(s)}return n}let r=hw(t,e);for(;r&&ND(r)&&bf(r);)r=hw(r,e);return r&&Io(r)&&bf(r)&&!Hg(r)?n:r||kD(t)||n}const HD=async function(t){const e=this.getOffsetParent||vS,n=this.getDimensions,r=await n(t.floating);return{reference:zD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WD(t){return Ln(t).direction==="rtl"}const qD={convertOffsetParentRelativeRectToViewportRelativeRect:LD,getDocumentElement:rr,getClippingRect:$D,getOffsetParent:vS,getElementRects:HD,getClientRects:MD,getDimensions:BD,getScale:co,isElement:Dn,isRTL:WD};function KD(t,e){let n=null,r;const s=rr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:h,width:p,height:f}=t.getBoundingClientRect();if(a||e(),!p||!f)return;const y=zc(h),T=zc(s.clientWidth-(u+p)),v=zc(s.clientHeight-(h+f)),E=zc(u),x={rootMargin:-y+"px "+-T+"px "+-v+"px "+-E+"px",threshold:rn(0,Es(1,l))||1};let S=!0;function P(D){const L=D[0].intersectionRatio;if(L!==l){if(!S)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(P,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,x)}n.observe(t)}return o(!0),i}function GD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=qg(t),h=s||i?[...u?wl(u):[],...wl(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const p=u&&a?KD(u,n):null;let f=-1,y=null;o&&(y=new ResizeObserver(_=>{let[x]=_;x&&x.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),n()}),u&&!l&&y.observe(u),y.observe(e));let T,v=l?pi(t):null;l&&E();function E(){const _=pi(t);v&&(_.x!==v.x||_.y!==v.y||_.width!==v.width||_.height!==v.height)&&n(),v=_,T=requestAnimationFrame(E)}return n(),()=>{var _;h.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),p==null||p(),(_=y)==null||_.disconnect(),y=null,l&&cancelAnimationFrame(T)}}const QD=bD,YD=AD,XD=SD,JD=PD,ZD=CD,fw=TD,eL=RD,tL=(t,e,n)=>{const r=new Map,s={platform:qD,...n},i={...s.platform,_c:r};return ED(t,e,{...s,platform:i})};var gu=typeof document<"u"?g.useLayoutEffect:g.useEffect;function nd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!nd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!nd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function pw(t,e){const n=yS(t);return Math.round(e*n)/n}function Af(t){const e=g.useRef(t);return gu(()=>{e.current=t}),e}function nL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,p]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,y]=g.useState(r);nd(f,r)||y(r);const[T,v]=g.useState(null),[E,_]=g.useState(null),x=g.useCallback(j=>{j!==L.current&&(L.current=j,v(j))},[]),S=g.useCallback(j=>{j!==I.current&&(I.current=j,_(j))},[]),P=i||T,D=o||E,L=g.useRef(null),I=g.useRef(null),C=g.useRef(h),R=l!=null,N=Af(l),k=Af(s),O=Af(u),b=g.useCallback(()=>{if(!L.current||!I.current)return;const j={placement:e,strategy:n,middleware:f};k.current&&(j.platform=k.current),tL(L.current,I.current,j).then(z=>{const X={...z,isPositioned:O.current!==!1};$.current&&!nd(C.current,X)&&(C.current=X,Ci.flushSync(()=>{p(X)}))})},[f,e,n,k,O]);gu(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,p(j=>({...j,isPositioned:!1})))},[u]);const $=g.useRef(!1);gu(()=>($.current=!0,()=>{$.current=!1}),[]),gu(()=>{if(P&&(L.current=P),D&&(I.current=D),P&&D){if(N.current)return N.current(P,D,b);b()}},[P,D,b,N,R]);const ne=g.useMemo(()=>({reference:L,floating:I,setReference:x,setFloating:S}),[x,S]),G=g.useMemo(()=>({reference:P,floating:D}),[P,D]),ie=g.useMemo(()=>{const j={position:n,left:0,top:0};if(!G.floating)return j;const z=pw(G.floating,h.x),X=pw(G.floating,h.y);return a?{...j,transform:"translate("+z+"px, "+X+"px)",...yS(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:X}},[n,a,G.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:b,refs:ne,elements:G,floatingStyles:ie}),[h,b,ne,G,ie])}const rL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fw({element:r.current,padding:s}).fn(n):{}:r?fw({element:r,padding:s}).fn(n):{}}}},sL=(t,e)=>({...QD(t),options:[t,e]}),iL=(t,e)=>({...YD(t),options:[t,e]}),oL=(t,e)=>({...eL(t),options:[t,e]}),aL=(t,e)=>({...XD(t),options:[t,e]}),lL=(t,e)=>({...JD(t),options:[t,e]}),cL=(t,e)=>({...ZD(t),options:[t,e]}),uL=(t,e)=>({...rL(t),options:[t,e]});var dL="Arrow",_S=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});_S.displayName=dL;var hL=_S;function fL(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:y,...T}=p,v=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>T,Object.values(T));return d.jsx(v.Provider,{value:E,children:y})}function h(p,f){const y=(f==null?void 0:f[t][l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,pL(s,...e)]}function pL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function mL(t){const[e,n]=g.useState(void 0);return mt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Kg="Popper",[wS,Go]=fL(Kg),[gL,xS]=wS(Kg),ES=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return d.jsx(gL,{scope:e,anchor:r,onAnchorChange:s,children:n})};ES.displayName=Kg;var TS="PopperAnchor",SS=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=xS(TS,n),o=g.useRef(null),a=Re(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ge.div,{...s,ref:a})});SS.displayName=TS;var Gg="PopperContent",[vL,yL]=wS(Gg),CS=g.forwardRef((t,e)=>{var K,he,xe,le,fe,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:f=!1,updatePositionStrategy:y="optimized",onPlaced:T,...v}=t,E=xS(Gg,n),[_,x]=g.useState(null),S=Re(e,at=>x(at)),[P,D]=g.useState(null),L=mL(P),I=(L==null?void 0:L.width)??0,C=(L==null?void 0:L.height)??0,R=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(u)?u:[u],O=k.length>0,b={padding:N,boundary:k.filter(wL),altBoundary:O},{refs:$,floatingStyles:ne,placement:G,isPositioned:ie,middlewareData:j}=nL({strategy:"fixed",placement:R,whileElementsMounted:(...at)=>GD(...at,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[sL({mainAxis:s+C,alignmentAxis:o}),l&&iL({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?oL():void 0,...b}),l&&aL({...b}),lL({...b,apply:({elements:at,rects:gt,availableWidth:mn,availableHeight:jt})=>{const{width:ir,height:ra}=gt.reference,nt=at.floating.style;nt.setProperty("--radix-popper-available-width",`${mn}px`),nt.setProperty("--radix-popper-available-height",`${jt}px`),nt.setProperty("--radix-popper-anchor-width",`${ir}px`),nt.setProperty("--radix-popper-anchor-height",`${ra}px`)}}),P&&uL({element:P,padding:a}),xL({arrowWidth:I,arrowHeight:C}),f&&cL({strategy:"referenceHidden",...b})]}),[z,X]=AS(G),Q=Ht(T);mt(()=>{ie&&(Q==null||Q())},[ie,Q]);const Y=(K=j.arrow)==null?void 0:K.x,se=(he=j.arrow)==null?void 0:he.y,Te=((xe=j.arrow)==null?void 0:xe.centerOffset)!==0,[F,ee]=g.useState();return mt(()=>{_&&ee(window.getComputedStyle(_).zIndex)},[_]),d.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:ie?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(le=j.transformOrigin)==null?void 0:le.x,(fe=j.transformOrigin)==null?void 0:fe.y].join(" "),...((ye=j.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(vL,{scope:n,placedSide:z,onArrowChange:D,arrowX:Y,arrowY:se,shouldHideArrow:Te,children:d.jsx(ge.div,{"data-side":z,"data-align":X,...v,ref:S,style:{...v.style,animation:ie?void 0:"none"}})})})});CS.displayName=Gg;var IS="PopperArrow",_L={top:"bottom",right:"left",bottom:"top",left:"right"},bS=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=yL(IS,r),o=_L[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(hL,{...s,ref:n,style:{...s.style,display:"block"}})})});bS.displayName=IS;function wL(t){return t!==null}var xL=t=>({name:"transformOrigin",options:t,fn(e){var E,_,x;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=AS(n),p={start:"0%",center:"50%",end:"100%"}[h],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,y=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let T="",v="";return u==="bottom"?(T=o?p:`${f}px`,v=`${-l}px`):u==="top"?(T=o?p:`${f}px`,v=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,v=o?p:`${y}px`):u==="left"&&(T=`${r.floating.width+l}px`,v=o?p:`${y}px`),{data:{x:T,y:v}}}});function AS(t){const[e,n="center"]=t.split("-");return[e,n]}var RS=ES,Jd=SS,Qg=CS,Yg=bS,[Zd,nz]=Os("Tooltip",[Go]),Xg=Go(),PS="TooltipProvider",EL=700,mw="tooltip.open",[TL,NS]=Zd(PS),kS=t=>{const{__scopeTooltip:e,delayDuration:n=EL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=g.useState(!0),l=g.useRef(!1),u=g.useRef(0);return g.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),d.jsx(TL,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:g.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};kS.displayName=PS;var OS="Tooltip",[rz,eh]=Zd(OS),nm="TooltipTrigger",SL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=eh(nm,n),i=NS(nm,n),o=Xg(n),a=g.useRef(null),l=Re(e,a,s.onTriggerChange),u=g.useRef(!1),h=g.useRef(!1),p=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(Jd,{asChild:!0,...o,children:d.jsx(ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:oe(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:oe(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:oe(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(t.onBlur,s.onClose),onClick:oe(t.onClick,s.onClose)})})});SL.displayName=nm;var CL="TooltipPortal",[sz,IL]=Zd(CL,{forceMount:void 0}),bo="TooltipContent",DS=g.forwardRef((t,e)=>{const n=IL(bo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=eh(bo,t.__scopeTooltip);return d.jsx(Lr,{present:r||o.open,children:o.disableHoverableContent?d.jsx(LS,{side:s,...i,ref:e}):d.jsx(bL,{side:s,...i,ref:e})})}),bL=g.forwardRef((t,e)=>{const n=eh(bo,t.__scopeTooltip),r=NS(bo,t.__scopeTooltip),s=g.useRef(null),i=Re(e,s),[o,a]=g.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:p}=r,f=g.useCallback(()=>{a(null),p(!1)},[p]),y=g.useCallback((T,v)=>{const E=T.currentTarget,_={x:T.clientX,y:T.clientY},x=NL(_,E.getBoundingClientRect()),S=kL(_,x),P=OL(v.getBoundingClientRect()),D=LL([...S,...P]);a(D),p(!0)},[p]);return g.useEffect(()=>()=>f(),[f]),g.useEffect(()=>{if(l&&h){const T=E=>y(E,h),v=E=>y(E,l);return l.addEventListener("pointerleave",T),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",v)}}},[l,h,y,f]),g.useEffect(()=>{if(o){const T=v=>{const E=v.target,_={x:v.clientX,y:v.clientY},x=(l==null?void 0:l.contains(E))||(h==null?void 0:h.contains(E)),S=!DL(_,o);x?f():S&&(f(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,h,o,u,f]),d.jsx(LS,{...t,ref:i})}),[AL,RL]=Zd(OS,{isInside:!1}),LS=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=eh(bo,n),u=Xg(n),{onClose:h}=l;return g.useEffect(()=>(document.addEventListener(mw,h),()=>document.removeEventListener(mw,h)),[h]),g.useEffect(()=>{if(l.trigger){const p=f=>{const y=f.target;y!=null&&y.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),d.jsx(Ho,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:d.jsxs(Qg,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Dg,{children:r}),d.jsx(AL,{scope:n,isInside:!0,children:d.jsx(I2,{id:l.contentId,role:"tooltip",children:s||r})})]})})});DS.displayName=bo;var MS="TooltipArrow",PL=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Xg(n);return RL(MS,n).isInside?null:d.jsx(Yg,{...s,...r,ref:e})});PL.displayName=MS;function NL(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kL(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function OL(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function DL(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,h=e[o].y;l>r!=h>r&&n<(u-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function LL(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ML(e)}function ML(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var jL=kS,jS=DS;const VL=jL,FL=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(jS,{ref:r,sideOffset:e,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));FL.displayName=jS.displayName;class th{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Jg=typeof window>"u"||"Deno"in window;function In(){}function UL(t,e){return typeof t=="function"?t(e):t}function $L(t){return typeof t=="number"&&t>=0&&t!==1/0}function BL(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hc(t,e,n){return nh(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Yr(t,e,n){return nh(t)?[{...e,queryKey:t},n]:[t||{},e]}function gw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(nh(o)){if(r){if(e.queryHash!==Zg(o,e.options))return!1}else if(!rd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function vw(t,e){const{exact:n,fetching:r,predicate:s,mutationKey:i}=t;if(nh(i)){if(!e.options.mutationKey)return!1;if(n){if(Js(e.options.mutationKey)!==Js(i))return!1}else if(!rd(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function Zg(t,e){return((e==null?void 0:e.queryKeyHashFn)||Js)(t)}function Js(t){return JSON.stringify(t,(e,n)=>rm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function rd(t,e){return VS(t,e)}function VS(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!VS(t[n],e[n])):!1}function FS(t,e){if(t===e)return t;const n=yw(t)&&yw(e);if(n||rm(t)&&rm(e)){const r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{};let a=0;for(let l=0;l<i;l++){const u=n?l:s[l];o[u]=FS(t[u],e[u]),o[u]===t[u]&&a++}return r===i&&a===r?t:o}return e}function yw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rm(t){if(!_w(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!_w(n)||!n.hasOwnProperty("isPrototypeOf"))}function _w(t){return Object.prototype.toString.call(t)==="[object Object]"}function nh(t){return Array.isArray(t)}function US(t){return new Promise(e=>{setTimeout(e,t)})}function ww(t){US(0).then(t)}function zL(){if(typeof AbortController=="function")return new AbortController}function HL(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?FS(t,e):e}class WL extends th{constructor(){super(),this.setup=e=>{if(!Jg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const sm=new WL,xw=["online","offline"];class qL extends th{constructor(){super(),this.setup=e=>{if(!Jg&&window.addEventListener){const n=()=>e();return xw.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{xw.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const sd=new qL;function KL(t){return Math.min(1e3*2**t,3e4)}function ev(t){return(t??"online")==="online"?sd.isOnline():!0}class $S{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Rf(t){return t instanceof $S}function BS(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((E,_)=>{i=E,o=_}),l=E=>{r||(y(new $S(E)),t.abort==null||t.abort())},u=()=>{e=!0},h=()=>{e=!1},p=()=>!sm.isFocused()||t.networkMode!=="always"&&!sd.isOnline(),f=E=>{r||(r=!0,t.onSuccess==null||t.onSuccess(E),s==null||s(),i(E))},y=E=>{r||(r=!0,t.onError==null||t.onError(E),s==null||s(),o(E))},T=()=>new Promise(E=>{s=_=>{const x=r||!p();return x&&E(_),x},t.onPause==null||t.onPause()}).then(()=>{s=void 0,r||t.onContinue==null||t.onContinue()}),v=()=>{if(r)return;let E;try{E=t.fn()}catch(_){E=Promise.reject(_)}Promise.resolve(E).then(f).catch(_=>{var x,S;if(r)return;const P=(x=t.retry)!=null?x:3,D=(S=t.retryDelay)!=null?S:KL,L=typeof D=="function"?D(n,_):D,I=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,_);if(e||!I){y(_);return}n++,t.onFail==null||t.onFail(n,_),US(L).then(()=>{if(p())return T()}).then(()=>{e?y(_):v()})})};return ev(t.networkMode)?v():T().then(v),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:u,continueRetry:h}}const tv=console;function GL(){let t=[],e=0,n=h=>{h()},r=h=>{h()};const s=h=>{let p;e++;try{p=h()}finally{e--,e||a()}return p},i=h=>{e?t.push(h):ww(()=>{n(h)})},o=h=>(...p)=>{i(()=>{h(...p)})},a=()=>{const h=t;t=[],h.length&&ww(()=>{r(()=>{h.forEach(p=>{n(p)})})})};return{batch:s,batchCalls:o,schedule:i,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h}}}const $t=GL();class zS{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$L(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Jg?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let QL=class extends zS{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||tv,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||YL(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=HL(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!BL(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const y=this.observers.find(T=>T.options.queryFn);y&&this.setOptions(y.options)}const o=zL(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(h),(r=this.options.behavior)==null||r.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=h.fetchOptions)==null?void 0:s.meta)){var p;this.dispatch({type:"fetch",meta:(p=h.fetchOptions)==null?void 0:p.meta})}const f=y=>{if(Rf(y)&&y.silent||this.dispatch({type:"error",error:y}),!Rf(y)){var T,v,E,_;(T=(v=this.cache.config).onError)==null||T.call(v,y,this),(E=(_=this.cache.config).onSettled)==null||E.call(_,this.state.data,y,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=BS({fn:h.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:y=>{var T,v,E,_;if(typeof y>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(y),(T=(v=this.cache.config).onSuccess)==null||T.call(v,y,this),(E=(_=this.cache.config).onSettled)==null||E.call(_,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(y,T)=>{this.dispatch({type:"failed",failureCount:y,error:T})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var s,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:ev(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Rf(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function YL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class XL extends th{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var s;const i=n.queryKey,o=(s=n.queryHash)!=null?s:Zg(i,n);let a=this.get(o);return a||(a=new QL({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){$t.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Yr(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>gw(r,s))}findAll(e,n){const[r]=Yr(e,n);return Object.keys(r).length>0?this.queries.filter(s=>gw(r,s)):this.queries}notify(e){$t.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){$t.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){$t.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let JL=class extends zS{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||tv,this.observers=[],this.state=e.state||ZL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var I;return this.retryer=BS({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(C,R)=>{this.dispatch({type:"failed",failureCount:C,error:R})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(I=this.options.retry)!=null?I:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,s,i,o,a,l,u,h;if(!n){var p,f,y,T;this.dispatch({type:"loading",variables:this.options.variables}),await((p=(f=this.mutationCache.config).onMutate)==null?void 0:p.call(f,this.state.variables,this));const C=await((y=(T=this.options).onMutate)==null?void 0:y.call(T,this.state.variables));C!==this.state.context&&this.dispatch({type:"loading",context:C,variables:this.state.variables})}const I=await e();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,I,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,I,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,I,null,this.state.variables,this.state.context,this)),await((u=(h=this.options).onSettled)==null?void 0:u.call(h,I,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:I}),I}catch(I){try{var v,E,_,x,S,P,D,L;throw await((v=(E=this.mutationCache.config).onError)==null?void 0:v.call(E,I,this.state.variables,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,I,this.state.variables,this.state.context)),await((S=(P=this.mutationCache.config).onSettled)==null?void 0:S.call(P,void 0,I,this.state.variables,this.state.context,this)),await((D=(L=this.options).onSettled)==null?void 0:D.call(L,void 0,I,this.state.variables,this.state.context)),I}finally{this.dispatch({type:"error",error:I})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!ev(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function ZL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class eM extends th{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const s=new JL({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){$t.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>vw(e,n))}findAll(e){return this.mutations.filter(n=>vw(e,n))}notify(e){$t.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return $t.batch(()=>n.reduce((r,s)=>r.then(()=>s.continue().catch(In)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function tM(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,s,i,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,u=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",p=(l==null?void 0:l.direction)==="backward",f=((i=t.state.data)==null?void 0:i.pages)||[],y=((o=t.state.data)==null?void 0:o.pageParams)||[];let T=y,v=!1;const E=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>{var I;if((I=t.signal)!=null&&I.aborted)v=!0;else{var C;(C=t.signal)==null||C.addEventListener("abort",()=>{v=!0})}return t.signal}})},_=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),x=(L,I,C,R)=>(T=R?[I,...T]:[...T,I],R?[C,...L]:[...L,C]),S=(L,I,C,R)=>{if(v)return Promise.reject("Cancelled");if(typeof C>"u"&&!I&&L.length)return Promise.resolve(L);const N={queryKey:t.queryKey,pageParam:C,meta:t.options.meta};E(N);const k=_(N);return Promise.resolve(k).then(b=>x(L,C,b,R))};let P;if(!f.length)P=S([]);else if(h){const L=typeof u<"u",I=L?u:Ew(t.options,f);P=S(f,L,I)}else if(p){const L=typeof u<"u",I=L?u:nM(t.options,f);P=S(f,L,I,!0)}else{T=[];const L=typeof t.options.getNextPageParam>"u";P=(a&&f[0]?a(f[0],0,f):!0)?S([],L,y[0]):Promise.resolve(x([],y[0],f[0]));for(let C=1;C<f.length;C++)P=P.then(R=>{if(a&&f[C]?a(f[C],C,f):!0){const k=L?y[C]:Ew(t.options,R);return S(R,L,k)}return Promise.resolve(x(R,y[C],f[C]))})}return P.then(L=>({pages:L,pageParams:T}))}}}}function Ew(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function nM(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class rM{constructor(e={}){this.queryCache=e.queryCache||new XL,this.mutationCache=e.mutationCache||new eM,this.logger=e.logger||tv,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=sm.subscribe(()=>{sm.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=sd.subscribe(()=>{sd.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Yr(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const s=Hc(e,n,r),i=this.getQueryData(s.queryKey);return i?Promise.resolve(i):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.queryCache.find(e),i=s==null?void 0:s.state.data,o=UL(n,i);if(typeof o>"u")return;const a=Hc(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return $t.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Yr(e,n),s=this.queryCache;$t.batch(()=>{s.findAll(r).forEach(i=>{s.remove(i)})})}resetQueries(e,n,r){const[s,i]=Yr(e,n,r),o=this.queryCache,a={type:"active",...s};return $t.batch(()=>(o.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries(a,i)))}cancelQueries(e,n,r){const[s,i={}]=Yr(e,n,r);typeof i.revert>"u"&&(i.revert=!0);const o=$t.batch(()=>this.queryCache.findAll(s).map(a=>a.cancel(i)));return Promise.all(o).then(In).catch(In)}invalidateQueries(e,n,r){const[s,i]=Yr(e,n,r);return $t.batch(()=>{var o,a;if(this.queryCache.findAll(s).forEach(u=>{u.invalidate()}),s.refetchType==="none")return Promise.resolve();const l={...s,type:(o=(a=s.refetchType)!=null?a:s.type)!=null?o:"active"};return this.refetchQueries(l,i)})}refetchQueries(e,n,r){const[s,i]=Yr(e,n,r),o=$t.batch(()=>this.queryCache.findAll(s).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...i,cancelRefetch:(u=i==null?void 0:i.cancelRefetch)!=null?u:!0,meta:{refetchPage:s.refetchPage}})}));let a=Promise.all(o).then(In);return i!=null&&i.throwOnError||(a=a.catch(In)),a}fetchQuery(e,n,r){const s=Hc(e,n,r),i=this.defaultQueryOptions(s);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(In).catch(In)}fetchInfiniteQuery(e,n,r){const s=Hc(e,n,r);return s.behavior=tM(),this.fetchQuery(s)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(In).catch(In)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(s=>Js(e)===Js(s.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>rd(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(s=>Js(e)===Js(s.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>rd(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Zg(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const Tw=g.createContext(void 0),sM=g.createContext(!1);function iM(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Tw),window.ReactQueryClientContext):Tw)}const oM=({client:t,children:e,context:n,contextSharing:r=!1})=>{g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const s=iM(n,r);return g.createElement(sM.Provider,{value:!n&&r},g.createElement(s.Provider,{value:t},e))};/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xl.apply(this,arguments)}var is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(is||(is={}));const Sw="popstate";function aM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return id("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:El(s)}return HS(e,n,null,t)}function lM(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Ii(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),id("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:El(i))}function r(s,i){nv(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return HS(e,n,r,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cM(){return Math.random().toString(36).substr(2,8)}function Cw(t,e){return{usr:t.state,key:t.key,idx:e}}function id(t,e,n,r){return n===void 0&&(n=null),xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ii(e):e,{state:n,key:e&&e.key||r||cM()})}function El(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HS(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=is.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(xl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=is.Pop;let E=h(),_=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:_})}function f(E,_){a=is.Push;let x=id(v.location,E,_);n&&n(x,E),u=h()+1;let S=Cw(x,u),P=v.createHref(x);try{o.pushState(S,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}i&&l&&l({action:a,location:v.location,delta:1})}function y(E,_){a=is.Replace;let x=id(v.location,E,_);n&&n(x,E),u=h();let S=Cw(x,u),P=v.createHref(x);o.replaceState(S,"",P),i&&l&&l({action:a,location:v.location,delta:0})}function T(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof E=="string"?E:El(E);return x=x.replace(/ $/,"%20"),tt(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let v={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Sw,p),l=E,()=>{s.removeEventListener(Sw,p),l=null}},createHref(E){return e(s,E)},createURL:T,encodeLocation(E){let _=T(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:y,go(E){return o.go(E)}};return v}var Iw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Iw||(Iw={}));function uM(t,e,n){return n===void 0&&(n="/"),dM(t,e,n,!1)}function dM(t,e,n,r){let s=typeof e=="string"?Ii(e):e,i=rv(s.pathname||"/",n);if(i==null)return null;let o=WS(t);hM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=TM(i);a=xM(o[l],u,r)}return a}function WS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(tt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=gs([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(tt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WS(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:_M(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of qS(i.path))s(i,o,l)}),e}function qS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=qS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function hM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fM=/^:[\w-]+$/,pM=3,mM=2,gM=1,vM=10,yM=-2,bw=t=>t==="*";function _M(t,e){let n=t.split("/"),r=n.length;return n.some(bw)&&(r+=yM),e&&(r+=mM),n.filter(s=>!bw(s)).reduce((s,i)=>s+(fM.test(i)?pM:i===""?gM:vM),r)}function wM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function xM(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=Aw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=Aw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:gs([i,p.pathname]),pathnameBase:bM(gs([i,p.pathnameBase])),route:f}),p.pathnameBase!=="/"&&(i=gs([i,p.pathnameBase]))}return o}function Aw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:f,isOptional:y}=h;if(f==="*"){let v=a[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const T=a[p];return y&&!T?u[f]=void 0:u[f]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function EM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),nv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function rv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function SM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ii(t):t;return{pathname:n?n.startsWith("/")?n:CM(n,e):e,search:AM(r),hash:RM(s)}}function CM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Pf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sv(t,e){let n=IM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function iv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ii(t):(s=xl({},t),tt(!s.pathname||!s.pathname.includes("?"),Pf("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),Pf("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),Pf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),p-=1;s.pathname=f.join("/")}a=p>=0?e[p]:"/"}let l=SM(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),bM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KS=["post","put","patch","delete"];new Set(KS);const NM=["get",...KS];new Set(NM);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tl(){return Tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tl.apply(this,arguments)}const ov=g.createContext(null),kM=g.createContext(null),Ds=g.createContext(null),rh=g.createContext(null),Ls=g.createContext({outlet:null,matches:[],isDataRoute:!1}),GS=g.createContext(null);function OM(t,e){let{relative:n}=e===void 0?{}:e;Qo()||tt(!1);let{basename:r,navigator:s}=g.useContext(Ds),{hash:i,pathname:o,search:a}=YS(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:gs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Qo(){return g.useContext(rh)!=null}function bi(){return Qo()||tt(!1),g.useContext(rh).location}function QS(t){g.useContext(Ds).static||g.useLayoutEffect(t)}function sh(){let{isDataRoute:t}=g.useContext(Ls);return t?qM():DM()}function DM(){Qo()||tt(!1);let t=g.useContext(ov),{basename:e,future:n,navigator:r}=g.useContext(Ds),{matches:s}=g.useContext(Ls),{pathname:i}=bi(),o=JSON.stringify(sv(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return QS(()=>{a.current=!0}),g.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=iv(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:gs([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,i,t])}function YS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Ds),{matches:s}=g.useContext(Ls),{pathname:i}=bi(),o=JSON.stringify(sv(s,r.v7_relativeSplatPath));return g.useMemo(()=>iv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function LM(t,e){return MM(t,e)}function MM(t,e,n,r){Qo()||tt(!1);let{navigator:s}=g.useContext(Ds),{matches:i}=g.useContext(Ls),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=bi(),h;if(e){var p;let E=typeof e=="string"?Ii(e):e;l==="/"||(p=E.pathname)!=null&&p.startsWith(l)||tt(!1),h=E}else h=u;let f=h.pathname||"/",y=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let T=uM(t,{pathname:y}),v=$M(T&&T.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:gs([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:gs([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&v?g.createElement(rh.Provider,{value:{location:Tl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:is.Pop}},v):v}function jM(){let t=WM(),e=PM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const VM=g.createElement(jM,null);class FM extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Ls.Provider,{value:this.props.routeContext},g.createElement(GS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UM(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(ov);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Ls.Provider,{value:e},r)}function $M(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||tt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:f,errors:y}=n,T=p.route.loader&&f[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,f)=>{let y,T=!1,v=null,E=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||VM,l&&(u<0&&f===0?(T=!0,E=null):u===f&&(T=!0,E=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),x=()=>{let S;return y?S=v:T?S=E:p.route.Component?S=g.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=h,g.createElement(UM,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?g.createElement(FM,{location:n.location,revalidation:n.revalidation,component:v,error:y,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var XS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XS||{}),od=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(od||{});function BM(t){let e=g.useContext(ov);return e||tt(!1),e}function zM(t){let e=g.useContext(kM);return e||tt(!1),e}function HM(t){let e=g.useContext(Ls);return e||tt(!1),e}function JS(t){let e=HM(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function WM(){var t;let e=g.useContext(GS),n=zM(od.UseRouteError),r=JS(od.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qM(){let{router:t}=BM(XS.UseNavigateStable),e=JS(od.UseNavigateStable),n=g.useRef(!1);return QS(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Tl({fromRouteId:e},i)))},[t,e])}function ih(t){let{to:e,replace:n,state:r,relative:s}=t;Qo()||tt(!1);let{future:i,static:o}=g.useContext(Ds),{matches:a}=g.useContext(Ls),{pathname:l}=bi(),u=sh(),h=iv(e,sv(a,i.v7_relativeSplatPath),l,s==="path"),p=JSON.stringify(h);return g.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:s}),[u,p,s,n,r]),null}function Ks(t){tt(!1)}function ZS(t){let{basename:e="/",children:n=null,location:r,navigationType:s=is.Pop,navigator:i,static:o=!1,future:a}=t;Qo()&&tt(!1);let l=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:i,static:o,future:Tl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ii(r));let{pathname:h="/",search:p="",hash:f="",state:y=null,key:T="default"}=r,v=g.useMemo(()=>{let E=rv(h,l);return E==null?null:{location:{pathname:E,search:p,hash:f,state:y,key:T},navigationType:s}},[l,h,p,f,y,T,s]);return v==null?null:g.createElement(Ds.Provider,{value:u},g.createElement(rh.Provider,{children:n,value:v}))}function KM(t){let{children:e,location:n}=t;return LM(im(e),n)}new Promise(()=>{});function im(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,im(r.props.children,i));return}r.type!==Ks&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=im(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}function GM(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function QM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YM(t,e){return t.button===0&&(!e||e==="_self")&&!QM(t)}const XM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JM="6";try{window.__reactRouterVersion=JM}catch{}const ZM="startTransition",ad=yE[ZM];function ej(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=aM({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=g.useCallback(p=>{u&&ad?ad(()=>l(p)):l(p)},[l,u]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(ZS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}function tj(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=lM({window:s,v5Compat:!0}));let o=i.current,[a,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=g.useCallback(p=>{u&&ad?ad(()=>l(p)):l(p)},[l,u]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.createElement(ZS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const nj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bn=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,f=GM(e,XM),{basename:y}=g.useContext(Ds),T,v=!1;if(typeof u=="string"&&rj.test(u)&&(T=u,nj))try{let S=new URL(window.location.href),P=u.startsWith("//")?new URL(S.protocol+u):new URL(u),D=rv(P.pathname,y);P.origin===S.origin&&D!=null?u=D+P.search+P.hash:v=!0}catch{}let E=OM(u,{relative:s}),_=sj(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:p});function x(S){r&&r(S),S.defaultPrevented||_(S)}return g.createElement("a",om({},f,{href:T||E,onClick:v||i?r:x,ref:n,target:l}))});var Rw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rw||(Rw={}));var Pw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Pw||(Pw={}));function sj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=sh(),u=bi(),h=YS(t,{relative:o});return g.useCallback(p=>{if(YM(p,n)){p.preventDefault();let f=r!==void 0?r:El(u)===El(h);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,h,r,s,n,t,i,o,a])}var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ij=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},tC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,p=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(f=64)),r.push(n[h],n[p],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ij(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new oj;const f=i<<2|a>>4;if(r.push(f),u!==64){const y=a<<4&240|u>>2;if(r.push(y),p!==64){const T=u<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aj=function(t){const e=eC(t);return tC.encodeByteArray(e,!0)},ld=function(t){return aj(t).replace(/\./g,"")},nC=function(t){try{return tC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj=()=>lj().__FIREBASE_DEFAULTS__,uj=()=>{if(typeof process>"u"||typeof Nw>"u")return;const t=Nw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nC(t[1]);return e&&JSON.parse(e)},oh=()=>{try{return cj()||uj()||dj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rC=t=>{var e,n;return(n=(e=oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sC=t=>{const e=rC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iC=()=>{var t;return(t=oh())===null||t===void 0?void 0:t.config},oC=t=>{var e;return(e=oh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ld(JSON.stringify(n)),ld(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function pj(){var t;const e=(t=oh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yj(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _j(){return!pj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wj(){try{return typeof indexedDB=="object"}catch{return!1}}function xj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ej,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Tj(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new sr(s,a,r)}}function Tj(t,e){return t.replace(Sj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Sj=/\{\$([^}]+)}/g;function Cj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(kw(i)&&kw(o)){if(!cd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function kw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ij(t,e){const n=new bj(t,e);return n.subscribe.bind(n)}class bj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Aj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Nf),s.error===void 0&&(s.error=Nf),s.complete===void 0&&(s.complete=Nf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Aj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nj(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Pj(t){return t===Gs?void 0:t}function Nj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const Oj={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},Dj=Ee.INFO,Lj={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},Mj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Lj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class av{constructor(e){this.name=e,this._logLevel=Dj,this._logHandler=Mj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Oj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const jj=(t,e)=>e.some(n=>t instanceof n);let Ow,Dw;function Vj(){return Ow||(Ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fj(){return Dw||(Dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lC=new WeakMap,am=new WeakMap,cC=new WeakMap,kf=new WeakMap,lv=new WeakMap;function Uj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(vs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lC.set(n,t)}).catch(()=>{}),lv.set(e,t),e}function $j(t){if(am.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});am.set(t,e)}let lm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return am.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Bj(t){lm=t(lm)}function zj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Of(this),e,...n);return cC.set(r,e.sort?e.sort():[e]),vs(r)}:Fj().includes(t)?function(...e){return t.apply(Of(this),e),vs(lC.get(this))}:function(...e){return vs(t.apply(Of(this),e))}}function Hj(t){return typeof t=="function"?zj(t):(t instanceof IDBTransaction&&$j(t),jj(t,Vj())?new Proxy(t,lm):t)}function vs(t){if(t instanceof IDBRequest)return Uj(t);if(kf.has(t))return kf.get(t);const e=Hj(t);return e!==t&&(kf.set(t,e),lv.set(e,t)),e}const Of=t=>lv.get(t);function Wj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=vs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vs(o.result),l.oldVersion,l.newVersion,vs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const qj=["get","getKey","getAll","getAllKeys","count"],Kj=["put","add","delete","clear"],Df=new Map;function Lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Kj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||qj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Df.set(e,i),i}Bj(t=>({...t,get:(e,n,r)=>Lw(e,n)||t.get(e,n,r),has:(e,n)=>!!Lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Qj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",Mw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new av("@firebase/app"),Yj="@firebase/app-compat",Xj="@firebase/analytics-compat",Jj="@firebase/analytics",Zj="@firebase/app-check-compat",eV="@firebase/app-check",tV="@firebase/auth",nV="@firebase/auth-compat",rV="@firebase/database",sV="@firebase/data-connect",iV="@firebase/database-compat",oV="@firebase/functions",aV="@firebase/functions-compat",lV="@firebase/installations",cV="@firebase/installations-compat",uV="@firebase/messaging",dV="@firebase/messaging-compat",hV="@firebase/performance",fV="@firebase/performance-compat",pV="@firebase/remote-config",mV="@firebase/remote-config-compat",gV="@firebase/storage",vV="@firebase/storage-compat",yV="@firebase/firestore",_V="@firebase/vertexai-preview",wV="@firebase/firestore-compat",xV="firebase",EV="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",TV={[cm]:"fire-core",[Yj]:"fire-core-compat",[Jj]:"fire-analytics",[Xj]:"fire-analytics-compat",[eV]:"fire-app-check",[Zj]:"fire-app-check-compat",[tV]:"fire-auth",[nV]:"fire-auth-compat",[rV]:"fire-rtdb",[sV]:"fire-data-connect",[iV]:"fire-rtdb-compat",[oV]:"fire-fn",[aV]:"fire-fn-compat",[lV]:"fire-iid",[cV]:"fire-iid-compat",[uV]:"fire-fcm",[dV]:"fire-fcm-compat",[hV]:"fire-perf",[fV]:"fire-perf-compat",[pV]:"fire-rc",[mV]:"fire-rc-compat",[gV]:"fire-gcs",[vV]:"fire-gcs-compat",[yV]:"fire-fst",[wV]:"fire-fst-compat",[_V]:"fire-vertex","fire-js":"fire-js",[xV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,SV=new Map,dm=new Map;function jw(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mi(t){const e=t.name;if(dm.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,t);for(const n of ud.values())jw(n,t);for(const n of SV.values())jw(n,t);return!0}function ah(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new zl("app","Firebase",CV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=EV;function uC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:um,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ys.create("bad-app-name",{appName:String(s)});if(n||(n=iC()),!n)throw ys.create("no-options");const i=ud.get(s);if(i){if(cd(n,i.options)&&cd(r,i.config))return i;throw ys.create("duplicate-app",{appName:s})}const o=new kj(s);for(const l of dm.values())o.addComponent(l);const a=new IV(n,r,o);return ud.set(s,a),a}function cv(t=um){const e=ud.get(t);if(!e&&t===um&&iC())return uC();if(!e)throw ys.create("no-app",{appName:t});return e}function Qn(t,e,n){var r;let s=(r=TV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}mi(new Is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="firebase-heartbeat-database",AV=1,Sl="firebase-heartbeat-store";let Lf=null;function dC(){return Lf||(Lf=Wj(bV,AV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),Lf}async function RV(t){try{const n=(await dC()).transaction(Sl),r=await n.objectStore(Sl).get(hC(t));return await n.done,r}catch(e){if(e instanceof sr)Pr.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function Vw(t,e){try{const r=(await dC()).transaction(Sl,"readwrite");await r.objectStore(Sl).put(e,hC(t)),await r.done}catch(n){if(n instanceof sr)Pr.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function hC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=1024,NV=30*24*60*60*1e3;class kV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=NV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fw(),{heartbeatsToSend:r,unsentEntries:s}=OV(this._heartbeatsCache.heartbeats),i=ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Pr.warn(n),""}}}function Fw(){return new Date().toISOString().substring(0,10)}function OV(t,e=PV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Uw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Uw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wj()?xj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Vw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uw(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(t){mi(new Is("platform-logger",e=>new Gj(e),"PRIVATE")),mi(new Is("heartbeat",e=>new kV(e),"PRIVATE")),Qn(cm,Mw,t),Qn(cm,Mw,"esm2017"),Qn("fire-js","")}LV("");var Wn=function(){return Wn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Wn.apply(this,arguments)};function Wl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function MV(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function fC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jV=fC,pC=new zl("auth","Firebase",fC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=new av("@firebase/auth");function VV(t,...e){dd.logLevel<=Ee.WARN&&dd.warn(`Auth (${Ai}): ${t}`,...e)}function vu(t,...e){dd.logLevel<=Ee.ERROR&&dd.error(`Auth (${Ai}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw dv(t,...e)}function Nn(t,...e){return dv(t,...e)}function uv(t,e,n){const r=Object.assign(Object.assign({},jV()),{[e]:n});return new zl("auth","Firebase",r).create(e,{appName:t.name})}function ri(t){return uv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&er(t,"argument-error"),uv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return pC.create(t,...e)}function ce(t,e,...n){if(!t)throw dv(e,...n)}function vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vu(e),new Error(e)}function Nr(t,e){t||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UV(){return $w()==="http:"||$w()==="https:"}function $w(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UV()||gj()||"connection"in navigator)?navigator.onLine:!0}function BV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=fj()||vj()}get(){return $V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t,e){Nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=new ql(3e4,6e4);function fv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ri(t,e,n,r,s={}){return gC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Hl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return mj()||(u.referrerPolicy="no-referrer"),mC.fetch()(vC(t,t.config.apiHost,n,a),u)})}async function gC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zV),e);try{const s=new qV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Wc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Wc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Wc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw uv(t,h,u);er(t,h)}}catch(s){if(s instanceof sr)throw s;er(t,"network-request-failed",{message:String(s)})}}async function WV(t,e,n,r,s={}){const i=await Ri(t,e,n,r,s);return"mfaPendingCredential"in i&&er(t,"multi-factor-auth-required",{_serverResponse:i}),i}function vC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?hv(t.config,s):`${t.config.apiScheme}://${s}`}class qV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),HV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Nn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return Ri(t,"POST","/v1/accounts:delete",e)}async function yC(t,e){return Ri(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GV(t,e=!1){const n=Qe(t),r=await n.getIdToken(e),s=pv(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ya(Mf(s.auth_time)),issuedAtTime:Ya(Mf(s.iat)),expirationTime:Ya(Mf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Mf(t){return Number(t)*1e3}function pv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vu("JWT malformed, contained fewer than 3 sections"),null;try{const s=nC(n);return s?JSON.parse(s):(vu("Failed to decode base64 JWT payload"),null)}catch(s){return vu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Bw(t){const e=pv(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&QV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function QV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ya(this.lastLoginAt),this.creationTime=Ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Ao(t,yC(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?_C(i.providerUserInfo):[],a=JV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function XV(t){const e=Qe(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _C(t){return t.map(e=>{var{providerId:n}=e,r=Wl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){const n=await gC(t,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=vC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eF(t,e){return Ri(t,"POST","/v2/accounts:revokeToken",fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const n=Bw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ZV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new uo;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Wl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Ao(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GV(this,e)}reload(){return XV(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await Ao(this,KV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:P,isAnonymous:D,providerData:L,stsTokenManager:I}=n;ce(S&&I,e,"internal-error");const C=uo.fromJSON(this.name,I);ce(typeof S=="string",e,"internal-error"),qr(p,e.name),qr(f,e.name),ce(typeof P=="boolean",e,"internal-error"),ce(typeof D=="boolean",e,"internal-error"),qr(y,e.name),qr(T,e.name),qr(v,e.name),qr(E,e.name),qr(_,e.name),qr(x,e.name);const R=new yr({uid:S,auth:e,email:f,emailVerified:P,displayName:p,isAnonymous:D,photoURL:T,phoneNumber:y,tenantId:v,stsTokenManager:C,createdAt:_,lastLoginAt:x});return L&&Array.isArray(L)&&(R.providerData=L.map(N=>Object.assign({},N))),E&&(R._redirectEventId=E),R}static async _fromIdTokenResponse(e,n,r=!1){const s=new uo;s.updateFromServerResponse(n);const i=new yr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ce(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?_C(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new uo;a.updateFromIdToken(r);const l=new yr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new fm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;function _r(t){Nr(t instanceof Function,"Expected a class definition");let e=zw.get(t);return e?(Nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wC.type="NONE";const Hw=wC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t,e,n){return`firebase:${t}:${e}:${n}`}class ho{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yu(this.userKey,s.apiKey,i),this.fullPersistenceKey=yu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ho(_r(Hw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||_r(Hw);const o=yu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const p=yr._fromJSON(e,h);u!==i&&(a=p),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ho(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ho(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IC(e))return"Blackberry";if(bC(e))return"Webos";if(EC(e))return"Safari";if((e.includes("chrome/")||TC(e))&&!e.includes("edge/"))return"Chrome";if(CC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xC(t=Mt()){return/firefox\//i.test(t)}function EC(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TC(t=Mt()){return/crios\//i.test(t)}function SC(t=Mt()){return/iemobile/i.test(t)}function CC(t=Mt()){return/android/i.test(t)}function IC(t=Mt()){return/blackberry/i.test(t)}function bC(t=Mt()){return/webos/i.test(t)}function mv(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tF(t=Mt()){var e;return mv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nF(){return yj()&&document.documentMode===10}function AC(t=Mt()){return mv(t)||CC(t)||bC(t)||IC(t)||/windows phone/i.test(t)||SC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t,e=[]){let n;switch(t){case"Browser":n=Ww(Mt());break;case"Worker":n=`${Ww(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ai}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e={}){return Ri(t,"GET","/v2/passwordPolicy",fv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=6;class oF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:iF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qw(this),this.idTokenSubscription=new qw(this),this.beforeStateQueue=new rF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_r(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ho.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yC(this,{idToken:e}),r=await yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(ri(this));const n=e?Qe(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sF(this),n=new oF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_r(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await ho.create(this,[_r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&VV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lh(t){return Qe(t)}class qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ij(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lF(t){gv=t}function cF(t){return gv.loadJS(t)}function uF(){return gv.gapiScript}function dF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t,e){const n=ah(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(cd(i,e??{}))return s;er(s,"already-initialized")}return n.initialize({options:e})}function fF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function PC(t,e,n){const r=lh(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=NC(e),{host:o,port:a}=pF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),mF()}function NC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pF(t){const e=NC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Kw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Kw(o)}}}function Kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,n){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(t,e){return WV(t,"POST","/v1/accounts:signInWithIdp",fv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="http://localhost";class gi extends kC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Wl(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new gi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fo(e,n)}buildRequest(){const e={requestUri:gF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends vv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Kl{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gi._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Kl{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Kl{constructor(){super("twitter.com")}static credential(e,n){return gi._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await yr._fromIdTokenResponse(e,r,s),o=Gw(r);return new Ro({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Gw(r);return new Ro({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends sr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new fd(e,n,r,s)}}function OC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fd._fromErrorAndOperation(t,i,e,r):i})}async function vF(t,e,n=!1){const r=await Ao(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yF(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(ri(r));const s="reauthenticate";try{const i=await Ao(t,OC(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=pv(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&er(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e,n=!1){if(gr(t.app))return Promise.reject(ri(t));const r="signIn",s=await OC(t,r,e),i=await Ro._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wF(t,e){return Ri(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qe(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ao(r,wF(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function EF(t,e,n,r){return Qe(t).onIdTokenChanged(e,n,r)}function TF(t,e,n){return Qe(t).beforeAuthStateChanged(e,n)}function SF(t,e,n,r){return Qe(t).onAuthStateChanged(e,n,r)}function CF(t){return Qe(t).signOut()}const pd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pd,"1"),this.storage.removeItem(pd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=1e3,bF=10;class LC extends DC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);nF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,bF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},IF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LC.type="LOCAL";const AF=LC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends DC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MC.type="SESSION";const jC=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ch(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await RF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=yv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const f=p;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function NF(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function kF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function DF(){return VC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebaseLocalStorageDb",LF=1,md="firebaseLocalStorage",UC="fbase_key";class Gl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uh(t,e){return t.transaction([md],e?"readwrite":"readonly").objectStore(md)}function MF(){const t=indexedDB.deleteDatabase(FC);return new Gl(t).toPromise()}function pm(){const t=indexedDB.open(FC,LF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(md,{keyPath:UC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(md)?e(r):(r.close(),await MF(),e(await pm()))})})}async function Qw(t,e,n){const r=uh(t,!0).put({[UC]:e,value:n});return new Gl(r).toPromise()}async function jF(t,e){const n=uh(t,!1).get(e),r=await new Gl(n).toPromise();return r===void 0?null:r.value}function Yw(t,e){const n=uh(t,!0).delete(e);return new Gl(n).toPromise()}const VF=800,FF=3;class $C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(DF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kF(),!this.activeServiceWorker)return;this.sender=new PF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pm();return await Qw(e,pd,"1"),await Yw(e,pd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Qw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Yw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=uh(s,!1).getAll();return new Gl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$C.type="LOCAL";const UF=$C;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){return e?_r(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends kC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $F(t){return _F(t.auth,new _v(t),t.bypassAuthState)}function BF(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),yF(n,new _v(t),t.bypassAuthState)}async function zF(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),vF(n,new _v(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $F;case"linkViaPopup":case"linkViaRedirect":return zF;case"reauthViaPopup":case"reauthViaRedirect":return BF;default:er(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new ql(2e3,1e4);async function WF(t,e,n){if(gr(t.app))return Promise.reject(Nn(t,"operation-not-supported-in-this-environment"));const r=lh(t);FV(t,e,vv);const s=BC(r,n);return new Zs(r,"signInViaPopup",e,s).executeNotNull()}class Zs extends zC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zs.currentPopupAction&&Zs.currentPopupAction.cancel(),Zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HF.get())};e()}}Zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF="pendingRedirect",_u=new Map;class KF extends zC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_u.get(this.auth._key());if(!e){try{const r=await GF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_u.set(this.auth._key(),e)}return this.bypassAuthState||_u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GF(t,e){const n=XF(e),r=YF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function QF(t,e){_u.set(t._key(),e)}function YF(t){return _r(t._redirectPersistence)}function XF(t){return yu(qF,t.config.apiKey,t.name)}async function JF(t,e,n=!1){if(gr(t.app))return Promise.reject(ri(t));const r=lh(t),s=BC(r,e),o=await new KF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZF=10*60*1e3;class e4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ZF&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xw(e))}saveEventToCache(e){this.cachedEventUids.add(Xw(e)),this.lastProcessedEventTime=Date.now()}}function Xw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e={}){return Ri(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s4=/^https?/;async function i4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n4(t);for(const n of e)try{if(o4(n))return}catch{}er(t,"unauthorized-domain")}function o4(t){const e=hm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!s4.test(n))return!1;if(r4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new ql(3e4,6e4);function Jw(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l4(t){return new Promise((e,n)=>{var r,s,i;function o(){Jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jw(),n(Nn(t,"network-request-failed"))},timeout:a4.get()})}if(!((s=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Yn().gapi)===null||i===void 0)&&i.load)o();else{const a=dF("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},cF(`${uF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wu=null,e})}let wu=null;function c4(t){return wu=wu||l4(t),wu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new ql(5e3,15e3),d4="__/auth/iframe",h4="emulator/auth/iframe",f4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m4(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hv(e,h4):`https://${t.config.authDomain}/${d4}`,r={apiKey:e.apiKey,appName:t.name,v:Ai},s=p4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Hl(r).slice(1)}`}async function g4(t){const e=await c4(t),n=Yn().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:m4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Yn().setTimeout(()=>{i(o)},u4.get());function l(){Yn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y4=500,_4=600,w4="_blank",x4="http://localhost";class Zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(t,e,n,r=y4,s=_4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v4),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Mt().toLowerCase();n&&(a=TC(u)?w4:n),xC(u)&&(e=e||x4,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[y,T])=>`${f}${y}=${T},`,"");if(tF(u)&&a!=="_self")return T4(e||"",a),new Zw(null);const p=window.open(e||"",a,h);ce(p,t,"popup-blocked");try{p.focus()}catch{}return new Zw(p)}function T4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="__/auth/handler",C4="emulator/auth/handler",I4=encodeURIComponent("fac");async function ex(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ai,eventId:s};if(e instanceof vv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Cj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Kl){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${I4}=${encodeURIComponent(l)}`:"";return`${b4(t)}?${Hl(a).slice(1)}${u}`}function b4({config:t}){return t.emulator?hv(t,C4):`https://${t.authDomain}/${S4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="webStorageSupport";class A4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jC,this._completeRedirectFn=JF,this._overrideRedirectResult=QF}async _openPopup(e,n,r,s){var i;Nr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ex(e,n,r,hm(),s);return E4(e,o,yv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ex(e,n,r,hm(),s);return NF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Nr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g4(e),r=new e4(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jf,{type:jf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[jf];o!==void 0&&n(!!o),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AC()||EC()||mv()}}const R4=A4;var tx="@firebase/auth",nx="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k4(t){mi(new Is("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RC(t)},u=new aF(r,s,i,l);return fF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mi(new Is("auth-internal",e=>{const n=lh(e.getProvider("auth").getImmediate());return(r=>new P4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qn(tx,nx,N4(t)),Qn(tx,nx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=5*60,D4=oC("authIdTokenMaxAge")||O4;let rx=null;const L4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D4)return;const s=n==null?void 0:n.token;rx!==s&&(rx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function M4(t=cv()){const e=ah(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hF(t,{popupRedirectResolver:R4,persistence:[UF,AF,jC]}),r=oC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=L4(i.toString());TF(n,o,()=>o(n.currentUser)),EF(n,a=>o(a))}}const s=rC("auth");return s&&PC(n,`http://${s}`),n}function j4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}lF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Nn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",j4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k4("Browser");var V4="firebase",F4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qn(V4,F4,"app");var sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,WC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function R(){}R.prototype=C.prototype,I.D=C.prototype,I.prototype=new R,I.prototype.constructor=I,I.C=function(N,k,O){for(var b=Array(arguments.length-2),$=2;$<arguments.length;$++)b[$-2]=arguments[$];return C.prototype[k].apply(N,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)N[k]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(k=0;16>k;++k)N[k]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=I.g[0],R=I.g[1],k=I.g[2];var O=I.g[3],b=C+(O^R&(k^O))+N[0]+3614090360&4294967295;C=R+(b<<7&4294967295|b>>>25),b=O+(k^C&(R^k))+N[1]+3905402710&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(R^O&(C^R))+N[2]+606105819&4294967295,k=O+(b<<17&4294967295|b>>>15),b=R+(C^k&(O^C))+N[3]+3250441966&4294967295,R=k+(b<<22&4294967295|b>>>10),b=C+(O^R&(k^O))+N[4]+4118548399&4294967295,C=R+(b<<7&4294967295|b>>>25),b=O+(k^C&(R^k))+N[5]+1200080426&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(R^O&(C^R))+N[6]+2821735955&4294967295,k=O+(b<<17&4294967295|b>>>15),b=R+(C^k&(O^C))+N[7]+4249261313&4294967295,R=k+(b<<22&4294967295|b>>>10),b=C+(O^R&(k^O))+N[8]+1770035416&4294967295,C=R+(b<<7&4294967295|b>>>25),b=O+(k^C&(R^k))+N[9]+2336552879&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(R^O&(C^R))+N[10]+4294925233&4294967295,k=O+(b<<17&4294967295|b>>>15),b=R+(C^k&(O^C))+N[11]+2304563134&4294967295,R=k+(b<<22&4294967295|b>>>10),b=C+(O^R&(k^O))+N[12]+1804603682&4294967295,C=R+(b<<7&4294967295|b>>>25),b=O+(k^C&(R^k))+N[13]+4254626195&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(R^O&(C^R))+N[14]+2792965006&4294967295,k=O+(b<<17&4294967295|b>>>15),b=R+(C^k&(O^C))+N[15]+1236535329&4294967295,R=k+(b<<22&4294967295|b>>>10),b=C+(k^O&(R^k))+N[1]+4129170786&4294967295,C=R+(b<<5&4294967295|b>>>27),b=O+(R^k&(C^R))+N[6]+3225465664&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^R&(O^C))+N[11]+643717713&4294967295,k=O+(b<<14&4294967295|b>>>18),b=R+(O^C&(k^O))+N[0]+3921069994&4294967295,R=k+(b<<20&4294967295|b>>>12),b=C+(k^O&(R^k))+N[5]+3593408605&4294967295,C=R+(b<<5&4294967295|b>>>27),b=O+(R^k&(C^R))+N[10]+38016083&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^R&(O^C))+N[15]+3634488961&4294967295,k=O+(b<<14&4294967295|b>>>18),b=R+(O^C&(k^O))+N[4]+3889429448&4294967295,R=k+(b<<20&4294967295|b>>>12),b=C+(k^O&(R^k))+N[9]+568446438&4294967295,C=R+(b<<5&4294967295|b>>>27),b=O+(R^k&(C^R))+N[14]+3275163606&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^R&(O^C))+N[3]+4107603335&4294967295,k=O+(b<<14&4294967295|b>>>18),b=R+(O^C&(k^O))+N[8]+1163531501&4294967295,R=k+(b<<20&4294967295|b>>>12),b=C+(k^O&(R^k))+N[13]+2850285829&4294967295,C=R+(b<<5&4294967295|b>>>27),b=O+(R^k&(C^R))+N[2]+4243563512&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^R&(O^C))+N[7]+1735328473&4294967295,k=O+(b<<14&4294967295|b>>>18),b=R+(O^C&(k^O))+N[12]+2368359562&4294967295,R=k+(b<<20&4294967295|b>>>12),b=C+(R^k^O)+N[5]+4294588738&4294967295,C=R+(b<<4&4294967295|b>>>28),b=O+(C^R^k)+N[8]+2272392833&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^R)+N[11]+1839030562&4294967295,k=O+(b<<16&4294967295|b>>>16),b=R+(k^O^C)+N[14]+4259657740&4294967295,R=k+(b<<23&4294967295|b>>>9),b=C+(R^k^O)+N[1]+2763975236&4294967295,C=R+(b<<4&4294967295|b>>>28),b=O+(C^R^k)+N[4]+1272893353&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^R)+N[7]+4139469664&4294967295,k=O+(b<<16&4294967295|b>>>16),b=R+(k^O^C)+N[10]+3200236656&4294967295,R=k+(b<<23&4294967295|b>>>9),b=C+(R^k^O)+N[13]+681279174&4294967295,C=R+(b<<4&4294967295|b>>>28),b=O+(C^R^k)+N[0]+3936430074&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^R)+N[3]+3572445317&4294967295,k=O+(b<<16&4294967295|b>>>16),b=R+(k^O^C)+N[6]+76029189&4294967295,R=k+(b<<23&4294967295|b>>>9),b=C+(R^k^O)+N[9]+3654602809&4294967295,C=R+(b<<4&4294967295|b>>>28),b=O+(C^R^k)+N[12]+3873151461&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^R)+N[15]+530742520&4294967295,k=O+(b<<16&4294967295|b>>>16),b=R+(k^O^C)+N[2]+3299628645&4294967295,R=k+(b<<23&4294967295|b>>>9),b=C+(k^(R|~O))+N[0]+4096336452&4294967295,C=R+(b<<6&4294967295|b>>>26),b=O+(R^(C|~k))+N[7]+1126891415&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~R))+N[14]+2878612391&4294967295,k=O+(b<<15&4294967295|b>>>17),b=R+(O^(k|~C))+N[5]+4237533241&4294967295,R=k+(b<<21&4294967295|b>>>11),b=C+(k^(R|~O))+N[12]+1700485571&4294967295,C=R+(b<<6&4294967295|b>>>26),b=O+(R^(C|~k))+N[3]+2399980690&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~R))+N[10]+4293915773&4294967295,k=O+(b<<15&4294967295|b>>>17),b=R+(O^(k|~C))+N[1]+2240044497&4294967295,R=k+(b<<21&4294967295|b>>>11),b=C+(k^(R|~O))+N[8]+1873313359&4294967295,C=R+(b<<6&4294967295|b>>>26),b=O+(R^(C|~k))+N[15]+4264355552&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~R))+N[6]+2734768916&4294967295,k=O+(b<<15&4294967295|b>>>17),b=R+(O^(k|~C))+N[13]+1309151649&4294967295,R=k+(b<<21&4294967295|b>>>11),b=C+(k^(R|~O))+N[4]+4149444226&4294967295,C=R+(b<<6&4294967295|b>>>26),b=O+(R^(C|~k))+N[11]+3174756917&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~R))+N[2]+718787259&4294967295,k=O+(b<<15&4294967295|b>>>17),b=R+(O^(k|~C))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var R=C-this.blockSize,N=this.B,k=this.h,O=0;O<C;){if(k==0)for(;O<=R;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<C;)if(N[k++]=I.charCodeAt(O++),k==this.blockSize){s(this,N),k=0;break}}else for(;O<C;)if(N[k++]=I[O++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var R=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=R&255,R/=256;for(this.u(I),I=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)I[R++]=this.g[C]>>>N&255;return I};function i(I,C){var R=a;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=C(I)}function o(I,C){this.h=C;for(var R=[],N=!0,k=I.length-1;0<=k;k--){var O=I[k]|0;N&&O==C||(R[k]=O,N=!1)}this.g=R}var a={};function l(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return E(u(-I));for(var C=[],R=1,N=0;I>=R;N++)C[N]=I/R|0,R*=4294967296;return new o(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return E(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(C,8)),N=p,k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k),b=parseInt(I.substring(k,k+O),C);8>O?(O=u(Math.pow(C,O)),N=N.j(O).add(u(b))):(N=N.j(R),N=N.add(u(b)))}return N}var p=l(0),f=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-E(this).m();for(var I=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);I+=(0<=N?N:4294967296+N)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(v(this))return"-"+E(this).toString(I);for(var C=u(Math.pow(I,6)),R=this,N="";;){var k=P(R,C).g;R=_(R,k.j(C));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(I);if(R=k,T(R))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=_(this,I),v(I)?-1:T(I)?0:1};function E(I){for(var C=I.g.length,R=[],N=0;N<C;N++)R[N]=~I.g[N];return new o(R,~I.h).add(f)}t.abs=function(){return v(this)?E(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],N=0,k=0;k<=C;k++){var O=N+(this.i(k)&65535)+(I.i(k)&65535),b=(O>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);N=b>>>16,O&=65535,b&=65535,R[k]=b<<16|O}return new o(R,R[R.length-1]&-2147483648?-1:0)};function _(I,C){return I.add(E(C))}t.j=function(I){if(T(this)||T(I))return p;if(v(this))return v(I)?E(this).j(E(I)):E(E(this).j(I));if(v(I))return E(this.j(E(I)));if(0>this.l(y)&&0>I.l(y))return u(this.m()*I.m());for(var C=this.g.length+I.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<I.g.length;k++){var O=this.i(N)>>>16,b=this.i(N)&65535,$=I.i(k)>>>16,ne=I.i(k)&65535;R[2*N+2*k]+=b*ne,x(R,2*N+2*k),R[2*N+2*k+1]+=O*ne,x(R,2*N+2*k+1),R[2*N+2*k+1]+=b*$,x(R,2*N+2*k+1),R[2*N+2*k+2]+=O*$,x(R,2*N+2*k+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new o(R,0)};function x(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function S(I,C){this.g=I,this.h=C}function P(I,C){if(T(C))throw Error("division by zero");if(T(I))return new S(p,p);if(v(I))return C=P(E(I),C),new S(E(C.g),E(C.h));if(v(C))return C=P(I,E(C)),new S(E(C.g),C.h);if(30<I.g.length){if(v(I)||v(C))throw Error("slowDivide_ only works with positive integers.");for(var R=f,N=C;0>=N.l(I);)R=D(R),N=D(N);var k=L(R,1),O=L(N,1);for(N=L(N,2),R=L(R,2);!T(N);){var b=O.add(N);0>=b.l(I)&&(k=k.add(R),O=b),N=L(N,1),R=L(R,1)}return C=_(I,k.j(C)),new S(k,C)}for(k=p;0<=I.l(C);){for(R=Math.max(1,Math.floor(I.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=u(R),b=O.j(C);v(b)||0<b.l(I);)R-=N,O=u(R),b=O.j(C);T(O)&&(O=f),k=k.add(O),I=_(I,b)}return new S(k,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&I.i(N);return new o(R,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|I.i(N);return new o(R,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^I.i(N);return new o(R,this.h^I.h)};function D(I){for(var C=I.g.length+1,R=[],N=0;N<C;N++)R[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(R,I.h)}function L(I,C){var R=C>>5;C%=32;for(var N=I.g.length-R,k=[],O=0;O<N;O++)k[O]=0<C?I.i(O+R)>>>C|I.i(O+R+1)<<32-C:I.i(O+R);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,si=o}).apply(typeof sx<"u"?sx:typeof self<"u"?self:typeof window<"u"?window:{});var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qC,La,KC,xu,mm,GC,QC,YC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,w){return c==Array.prototype||c==Object.prototype||(c[m]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof qc=="object"&&qc];for(var m=0;m<c.length;++m){var w=c[m];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,m){if(m)e:{var w=r;c=c.split(".");for(var A=0;A<c.length-1;A++){var M=c[A];if(!(M in w))break e;w=w[M]}c=c[c.length-1],A=w[c],m=m(A),m!=A&&m!=null&&e(w,c,{configurable:!0,writable:!0,value:m})}}function i(c,m){c instanceof String&&(c+="");var w=0,A=!1,M={next:function(){if(!A&&w<c.length){var V=w++;return{value:m(V,c[V]),done:!1}}return A=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(m,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function h(c,m,w){return c.call.apply(c.bind,arguments)}function p(c,m,w){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,A),c.apply(m,M)}}return function(){return c.apply(m,arguments)}}function f(c,m,w){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,f.apply(null,arguments)}function y(c,m){var w=Array.prototype.slice.call(arguments,1);return function(){var A=w.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,m){function w(){}w.prototype=m.prototype,c.aa=m.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(A,M,V){for(var q=Array(arguments.length-2),De=2;De<arguments.length;De++)q[De-2]=arguments[De];return m.prototype[M].apply(A,q)}}function v(c){const m=c.length;if(0<m){const w=Array(m);for(let A=0;A<m;A++)w[A]=c[A];return w}return[]}function E(c,m){for(let w=1;w<arguments.length;w++){const A=arguments[w];if(l(A)){const M=c.length||0,V=A.length||0;c.length=M+V;for(let q=0;q<V;q++)c[M+q]=A[q]}else c.push(A)}}class _{constructor(m,w){this.i=m,this.j=w,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(c,m,w){for(const A in c)m.call(w,c[A],A,c)}function I(c,m){for(const w in c)m.call(void 0,c[w],w,c)}function C(c){const m={};for(const w in c)m[w]=c[w];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,m){let w,A;for(let M=1;M<arguments.length;M++){A=arguments[M];for(w in A)c[w]=A[w];for(let V=0;V<R.length;V++)w=R[V],Object.prototype.hasOwnProperty.call(A,w)&&(c[w]=A[w])}}function k(c){var m=1;c=c.split(":");const w=[];for(;0<m&&c.length;)w.push(c.shift()),m--;return c.length&&w.push(c.join(":")),w}function O(c){a.setTimeout(()=>{throw c},0)}function b(){var c=z;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class ${constructor(){this.h=this.g=null}add(m,w){const A=ne.get();A.set(m,w),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new _(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,w){this.h=m,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,j=!1,z=new $,X=()=>{const c=a.Promise.resolve(void 0);ie=()=>{c.then(Q)}};var Q=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(w){O(w)}var m=ne;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}j=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};a.addEventListener("test",w,m),a.removeEventListener("test",w,m)}catch{}return c}();function F(c,m){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(D){e:{try{P(m.nodeName);var M=!0;break e}catch{}M=!1}M||(m=null)}}else w=="mouseover"?m=c.fromElement:w=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&F.aa.h.call(this)}}T(F,se);var ee={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),he=0;function xe(c,m,w,A,M){this.listener=c,this.proxy=null,this.src=m,this.type=w,this.capture=!!A,this.ha=M,this.key=++he,this.da=this.fa=!1}function le(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,m,w,A,M){var V=c.toString();c=this.g[V],c||(c=this.g[V]=[],this.h++);var q=at(c,m,A,M);return-1<q?(m=c[q],w||(m.fa=!1)):(m=new xe(m,this.src,V,!!A,M),m.fa=w,c.push(m)),m};function ye(c,m){var w=m.type;if(w in c.g){var A=c.g[w],M=Array.prototype.indexOf.call(A,m,void 0),V;(V=0<=M)&&Array.prototype.splice.call(A,M,1),V&&(le(m),c.g[w].length==0&&(delete c.g[w],c.h--))}}function at(c,m,w,A){for(var M=0;M<c.length;++M){var V=c[M];if(!V.da&&V.listener==m&&V.capture==!!w&&V.ha==A)return M}return-1}var gt="closure_lm_"+(1e6*Math.random()|0),mn={};function jt(c,m,w,A,M){if(Array.isArray(m)){for(var V=0;V<m.length;V++)jt(c,m[V],w,A,M);return null}return w=ia(w),c&&c[K]?c.K(m,w,u(A)?!!A.capture:!!A,M):ir(c,m,w,!1,A,M)}function ir(c,m,w,A,M,V){if(!m)throw Error("Invalid event type");var q=u(M)?!!M.capture:!!M,De=jr(c);if(De||(c[gt]=De=new fe(c)),w=De.add(m,w,A,q,V),w.proxy)return w;if(A=ra(),w.proxy=A,A.src=c,A.listener=w,c.addEventListener)Te||(M=q),M===void 0&&(M=!1),c.addEventListener(m.toString(),A,M);else if(c.attachEvent)c.attachEvent(ic(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ra(){function c(w){return m.call(c.src,c.listener,w)}const m=Lh;return c}function nt(c,m,w,A,M){if(Array.isArray(m))for(var V=0;V<m.length;V++)nt(c,m[V],w,A,M);else A=u(A)?!!A.capture:!!A,w=ia(w),c&&c[K]?(c=c.i,m=String(m).toString(),m in c.g&&(V=c.g[m],w=at(V,w,A,M),-1<w&&(le(V[w]),Array.prototype.splice.call(V,w,1),V.length==0&&(delete c.g[m],c.h--)))):c&&(c=jr(c))&&(m=c.g[m.toString()],c=-1,m&&(c=at(m,w,A,M)),(w=-1<c?m[c]:null)&&Vn(w))}function Vn(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[K])ye(m.i,c);else{var w=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(w,A,c.capture):m.detachEvent?m.detachEvent(ic(w),A):m.addListener&&m.removeListener&&m.removeListener(A),(w=jr(m))?(ye(w,c),w.h==0&&(w.src=null,m[gt]=null)):le(c)}}}function ic(c){return c in mn?mn[c]:mn[c]="on"+c}function Lh(c,m){if(c.da)c=!0;else{m=new F(m,this);var w=c.listener,A=c.ha||c.src;c.fa&&Vn(c),c=w.call(A,m)}return c}function jr(c){return c=c[gt],c instanceof fe?c:null}var sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function ia(c){return typeof c=="function"?c:(c[sa]||(c[sa]=function(m){return c.handleEvent(m)}),c[sa])}function rt(){Y.call(this),this.i=new fe(this),this.M=this,this.F=null}T(rt,Y),rt.prototype[K]=!0,rt.prototype.removeEventListener=function(c,m,w,A){nt(this,c,m,w,A)};function qe(c,m){var w,A=c.F;if(A)for(w=[];A;A=A.F)w.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new se(m,c);else if(m instanceof se)m.target=m.target||c;else{var M=m;m=new se(A,c),N(m,M)}if(M=!0,w)for(var V=w.length-1;0<=V;V--){var q=m.g=w[V];M=Us(q,A,!0,m)&&M}if(q=m.g=c,M=Us(q,A,!0,m)&&M,M=Us(q,A,!1,m)&&M,w)for(V=0;V<w.length;V++)q=m.g=w[V],M=Us(q,A,!1,m)&&M}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var w=c.g[m],A=0;A<w.length;A++)le(w[A]);delete c.g[m],c.h--}}this.F=null},rt.prototype.K=function(c,m,w,A){return this.i.add(String(c),m,!1,w,A)},rt.prototype.L=function(c,m,w,A){return this.i.add(String(c),m,!0,w,A)};function Us(c,m,w,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var M=!0,V=0;V<m.length;++V){var q=m[V];if(q&&!q.da&&q.capture==w){var De=q.listener,vt=q.ha||q.src;q.fa&&ye(c.i,q),M=De.call(vt,A)!==!1&&M}}return M&&!A.defaultPrevented}function or(c,m,w){if(typeof c=="function")w&&(c=f(c,w));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function oa(c){c.g=or(()=>{c.g=null,c.i&&(c.i=!1,oa(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Mh extends Y{constructor(m,w){super(),this.m=m,this.l=w,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(c){Y.call(this),this.h=c,this.g={}}T(Vr,Y);var aa=[];function oc(c){L(c.g,function(m,w){this.g.hasOwnProperty(w)&&Vn(m)},c),c.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),oc(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $s=a.JSON.stringify,Fn=a.JSON.parse,jh=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function de(){}de.prototype.h=null;function Oe(c){return c.h||(c.h=c.i())}function Pe(){}var It={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kt(){se.call(this,"d")}T(Kt,se);function Fr(){se.call(this,"c")}T(Fr,se);var ar={},Jy=null;function ac(){return Jy=Jy||new rt}ar.La="serverreachability";function Zy(c){se.call(this,ar.La,c)}T(Zy,se);function la(c){const m=ac();qe(m,new Zy(m))}ar.STAT_EVENT="statevent";function e0(c,m){se.call(this,ar.STAT_EVENT,c),this.stat=m}T(e0,se);function Vt(c){const m=ac();qe(m,new e0(m,c))}ar.Ma="timingevent";function t0(c,m){se.call(this,ar.Ma,c),this.size=m}T(t0,se);function ca(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function ua(){this.g=!0}ua.prototype.xa=function(){this.g=!1};function rP(c,m,w,A,M,V){c.info(function(){if(c.g)if(V)for(var q="",De=V.split("&"),vt=0;vt<De.length;vt++){var Ie=De[vt].split("=");if(1<Ie.length){var bt=Ie[0];Ie=Ie[1];var At=bt.split("_");q=2<=At.length&&At[1]=="type"?q+(bt+"="+Ie+"&"):q+(bt+"=redacted&")}}else q=null;else q=V;return"XMLHTTP REQ ("+A+") [attempt "+M+"]: "+m+`
`+w+`
`+q})}function sP(c,m,w,A,M,V,q){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+M+"]: "+m+`
`+w+`
`+V+" "+q})}function ki(c,m,w,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+oP(c,w)+(A?" "+A:"")})}function iP(c,m){c.info(function(){return"TIMEOUT: "+m})}ua.prototype.info=function(){};function oP(c,m){if(!c.g)return m;if(!m)return null;try{var w=JSON.parse(m);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var A=w[c];if(!(2>A.length)){var M=A[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var q=1;q<M.length;q++)M[q]=""}}}}return $s(w)}catch{return m}}var lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},n0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vh;function cc(){}T(cc,de),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},Vh=new cc;function Ur(c,m,w,A){this.j=c,this.i=m,this.l=w,this.R=A||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new r0}function r0(){this.i=null,this.g="",this.h=!1}var s0={},Fh={};function Uh(c,m,w){c.L=1,c.v=fc(lr(m)),c.m=w,c.P=!0,i0(c,null)}function i0(c,m){c.F=Date.now(),uc(c),c.A=lr(c.v);var w=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),_0(w.i,"t",A),c.C=0,w=c.j.J,c.h=new r0,c.g=j0(c.j,w?m:null,!c.m),0<c.O&&(c.M=new Mh(f(c.Y,c,c.g),c.O)),m=c.U,w=c.g,A=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(aa[0]=M.toString()),M=aa);for(var V=0;V<M.length;V++){var q=jt(w,M[V],A||m.handleEvent,!1,m.h||m);if(!q)break;m.g[q.key]=q}m=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),la(),rP(c.i,c.u,c.A,c.l,c.R,c.m)}Ur.prototype.ca=function(c){c=c.target;const m=this.M;m&&cr(c)==3?m.j():this.Y(c)},Ur.prototype.Y=function(c){try{if(c==this.g)e:{const At=cr(this.g);var m=this.g.Ba();const Li=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||I0(this.g)))){this.J||At!=4||m==7||(m==8||0>=Li?la(3):la(2)),$h(this);var w=this.g.Z();this.X=w;t:if(o0(this)){var A=I0(this.g);c="";var M=A.length,V=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bs(this),da(this);var q="";break t}this.h.i=new a.TextDecoder}for(m=0;m<M;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(V&&m==M-1)});A.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=w==200,sP(this.i,this.u,this.A,this.l,this.R,At,w),this.o){if(this.T&&!this.K){t:{if(this.g){var De,vt=this.g;if((De=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(De)){var Ie=De;break t}}Ie=null}if(w=Ie)ki(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bh(this,w);else{this.o=!1,this.s=3,Vt(12),Bs(this),da(this);break e}}if(this.P){w=!0;let En;for(;!this.J&&this.C<q.length;)if(En=aP(this,q),En==Fh){At==4&&(this.s=4,Vt(14),w=!1),ki(this.i,this.l,null,"[Incomplete Response]");break}else if(En==s0){this.s=4,Vt(15),ki(this.i,this.l,q,"[Invalid Chunk]"),w=!1;break}else ki(this.i,this.l,En,null),Bh(this,En);if(o0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||q.length!=0||this.h.h||(this.s=1,Vt(16),w=!1),this.o=this.o&&w,!w)ki(this.i,this.l,q,"[Invalid Chunked Response]"),Bs(this),da(this);else if(0<q.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Gh(bt),bt.M=!0,Vt(11))}}else ki(this.i,this.l,q,null),Bh(this,q);At==4&&Bs(this),this.o&&!this.J&&(At==4?O0(this.j,this):(this.o=!1,uc(this)))}else SP(this.g),w==400&&0<q.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Bs(this),da(this)}}}catch{}finally{}};function o0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function aP(c,m){var w=c.C,A=m.indexOf(`
`,w);return A==-1?Fh:(w=Number(m.substring(w,A)),isNaN(w)?s0:(A+=1,A+w>m.length?Fh:(m=m.slice(A,A+w),c.C=A+w,m)))}Ur.prototype.cancel=function(){this.J=!0,Bs(this)};function uc(c){c.S=Date.now()+c.I,a0(c,c.I)}function a0(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ca(f(c.ba,c),m)}function $h(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ur.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(iP(this.i,this.A),this.L!=2&&(la(),Vt(17)),Bs(this),this.s=2,da(this)):a0(this,this.S-c)};function da(c){c.j.G==0||c.J||O0(c.j,c)}function Bs(c){$h(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,oc(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Bh(c,m){try{var w=c.j;if(w.G!=0&&(w.g==c||zh(w.h,c))){if(!c.K&&zh(w.h,c)&&w.G==3){try{var A=w.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var M=A;if(M[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)_c(w),vc(w);else break e;Kh(w),Vt(18)}}else w.za=M[1],0<w.za-w.T&&37500>M[2]&&w.F&&w.v==0&&!w.C&&(w.C=ca(f(w.Za,w),6e3));if(1>=u0(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Hs(w,11)}else if((c.K||w.g==c)&&_c(w),!x(m))for(M=w.Da.g.parse(m),m=0;m<M.length;m++){let Ie=M[m];if(w.T=Ie[0],Ie=Ie[1],w.G==2)if(Ie[0]=="c"){w.K=Ie[1],w.ia=Ie[2];const bt=Ie[3];bt!=null&&(w.la=bt,w.j.info("VER="+w.la));const At=Ie[4];At!=null&&(w.Aa=At,w.j.info("SVER="+w.Aa));const Li=Ie[5];Li!=null&&typeof Li=="number"&&0<Li&&(A=1.5*Li,w.L=A,w.j.info("backChannelRequestTimeoutMs_="+A)),A=w;const En=c.g;if(En){const xc=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var V=A.h;V.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Hh(V,V.h),V.h=null))}if(A.D){const Qh=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Qh&&(A.ya=Qh,Me(A.I,A.D,Qh))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),A=w;var q=c;if(A.qa=M0(A,A.J?A.ia:null,A.W),q.K){d0(A.h,q);var De=q,vt=A.L;vt&&(De.I=vt),De.B&&($h(De),uc(De)),A.g=q}else N0(A);0<w.i.length&&yc(w)}else Ie[0]!="stop"&&Ie[0]!="close"||Hs(w,7);else w.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Hs(w,7):qh(w):Ie[0]!="noop"&&w.l&&w.l.ta(Ie),w.v=0)}}la(4)}catch{}}var lP=class{constructor(c,m){this.g=c,this.map=m}};function l0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function c0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function u0(c){return c.h?1:c.g?c.g.size:0}function zh(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Hh(c,m){c.g?c.g.add(m):c.h=m}function d0(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}l0.prototype.cancel=function(){if(this.i=h0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function h0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const w of c.g.values())m=m.concat(w.D);return m}return v(c.i)}function cP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],w=c.length,A=0;A<w;A++)m.push(c[A]);return m}m=[],w=0;for(A in c)m[w++]=c[A];return m}function uP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var w=0;w<c;w++)m.push(w);return m}m=[],w=0;for(const A in c)m[w++]=A;return m}}}function f0(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var w=uP(c),A=cP(c),M=A.length,V=0;V<M;V++)m.call(void 0,A[V],w&&w[V],c)}var p0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dP(c,m){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var A=c[w].indexOf("="),M=null;if(0<=A){var V=c[w].substring(0,A);M=c[w].substring(A+1)}else V=c[w];m(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function zs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zs){this.h=c.h,dc(this,c.j),this.o=c.o,this.g=c.g,hc(this,c.s),this.l=c.l;var m=c.i,w=new pa;w.i=m.i,m.g&&(w.g=new Map(m.g),w.h=m.h),m0(this,w),this.m=c.m}else c&&(m=String(c).match(p0))?(this.h=!1,dc(this,m[1]||"",!0),this.o=ha(m[2]||""),this.g=ha(m[3]||"",!0),hc(this,m[4]),this.l=ha(m[5]||"",!0),m0(this,m[6]||"",!0),this.m=ha(m[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}zs.prototype.toString=function(){var c=[],m=this.j;m&&c.push(fa(m,g0,!0),":");var w=this.g;return(w||m=="file")&&(c.push("//"),(m=this.o)&&c.push(fa(m,g0,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(fa(w,w.charAt(0)=="/"?pP:fP,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",fa(w,gP)),c.join("")};function lr(c){return new zs(c)}function dc(c,m,w){c.j=w?ha(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function hc(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function m0(c,m,w){m instanceof pa?(c.i=m,vP(c.i,c.h)):(w||(m=fa(m,mP)),c.i=new pa(m,c.h))}function Me(c,m,w){c.i.set(m,w)}function fc(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ha(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fa(c,m,w){return typeof c=="string"?(c=encodeURI(c).replace(m,hP),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var g0=/[#\/\?@]/g,fP=/[#\?:]/g,pP=/[#\?]/g,mP=/[#\?@]/g,gP=/#/g;function pa(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function $r(c){c.g||(c.g=new Map,c.h=0,c.i&&dP(c.i,function(m,w){c.add(decodeURIComponent(m.replace(/\+/g," ")),w)}))}t=pa.prototype,t.add=function(c,m){$r(this),this.i=null,c=Oi(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(m),this.h+=1,this};function v0(c,m){$r(c),m=Oi(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function y0(c,m){return $r(c),m=Oi(c,m),c.g.has(m)}t.forEach=function(c,m){$r(this),this.g.forEach(function(w,A){w.forEach(function(M){c.call(m,M,A,this)},this)},this)},t.na=function(){$r(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),w=[];for(let A=0;A<m.length;A++){const M=c[A];for(let V=0;V<M.length;V++)w.push(m[A])}return w},t.V=function(c){$r(this);let m=[];if(typeof c=="string")y0(this,c)&&(m=m.concat(this.g.get(Oi(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)m=m.concat(c[w])}return m},t.set=function(c,m){return $r(this),this.i=null,c=Oi(this,c),y0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function _0(c,m,w){v0(c,m),0<w.length&&(c.i=null,c.g.set(Oi(c,m),v(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var w=0;w<m.length;w++){var A=m[w];const V=encodeURIComponent(String(A)),q=this.V(A);for(A=0;A<q.length;A++){var M=V;q[A]!==""&&(M+="="+encodeURIComponent(String(q[A]))),c.push(M)}}return this.i=c.join("&")};function Oi(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function vP(c,m){m&&!c.j&&($r(c),c.i=null,c.g.forEach(function(w,A){var M=A.toLowerCase();A!=M&&(v0(this,A),_0(this,M,w))},c)),c.j=m}function yP(c,m){const w=new ua;if(a.Image){const A=new Image;A.onload=y(Br,w,"TestLoadImage: loaded",!0,m,A),A.onerror=y(Br,w,"TestLoadImage: error",!1,m,A),A.onabort=y(Br,w,"TestLoadImage: abort",!1,m,A),A.ontimeout=y(Br,w,"TestLoadImage: timeout",!1,m,A),a.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function _P(c,m){const w=new ua,A=new AbortController,M=setTimeout(()=>{A.abort(),Br(w,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(V=>{clearTimeout(M),V.ok?Br(w,"TestPingServer: ok",!0,m):Br(w,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),Br(w,"TestPingServer: error",!1,m)})}function Br(c,m,w,A,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),A(w)}catch{}}function wP(){this.g=new jh}function xP(c,m,w){const A=w||"";try{f0(c,function(M,V){let q=M;u(M)&&(q=$s(M)),m.push(A+V+"="+encodeURIComponent(q))})}catch(M){throw m.push(A+"type="+encodeURIComponent("_badmap")),M}}function pc(c){this.l=c.Ub||null,this.j=c.eb||!1}T(pc,de),pc.prototype.g=function(){return new mc(this.l,this.j)},pc.prototype.i=function(c){return function(){return c}}({});function mc(c,m){rt.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(mc,rt),t=mc.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,ga(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;w0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function w0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ma(this):ga(this),this.readyState==3&&w0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ma(this))},t.Qa=function(c){this.g&&(this.response=c,ma(this))},t.ga=function(){this.g&&ma(this)};function ma(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ga(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var w=m.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=m.next();return c.join(`\r
`)};function ga(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function x0(c){let m="";return L(c,function(w,A){m+=A,m+=":",m+=w,m+=`\r
`}),m}function Wh(c,m,w){e:{for(A in w){var A=!1;break e}A=!0}A||(w=x0(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Me(c,m,w))}function Ke(c){rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Ke,rt);var EP=/^https?$/i,TP=["POST","PUT"];t=Ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,w,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vh.g(),this.v=this.o?Oe(this.o):Oe(Vh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(V){E0(this,V);return}if(c=w||"",w=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var M in A)w.set(M,A[M]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const V of A.keys())w.set(V,A.get(V));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(w.keys()).find(V=>V.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TP,m,void 0))||A||M||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,q]of w)this.g.setRequestHeader(V,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{C0(this),this.u=!0,this.g.send(c),this.u=!1}catch(V){E0(this,V)}};function E0(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,T0(c),gc(c)}function T0(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gc(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?S0(this):this.bb())},t.bb=function(){S0(this)};function S0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||cr(c)!=4||c.Z()!=2)){if(c.u&&cr(c)==4)or(c.Ea,0,c);else if(qe(c,"readystatechange"),cr(c)==4){c.h=!1;try{const q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var w;if(!(w=m)){var A;if(A=q===0){var M=String(c.D).match(p0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),A=!EP.test(M?M.toLowerCase():"")}w=A}if(w)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var V=2<cr(c)?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.Z()+"]",T0(c)}}finally{gc(c)}}}}function gc(c,m){if(c.g){C0(c);const w=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||qe(c,"ready");try{w.onreadystatechange=A}catch{}}}function C0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function cr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Fn(m)}};function I0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SP(c){const m={};c=(c.g&&2<=cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var w=k(c[A]);const M=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const V=m[M]||[];m[M]=V,V.push(w)}I(m,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,m,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||m}function b0(c){this.Aa=0,this.i=[],this.j=new ua,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,c),this.cb=va("retryDelaySeedMs",1e4,c),this.Wa=va("forwardChannelMaxRetries",2,c),this.wa=va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new l0(c&&c.concurrentRequestLimit),this.Da=new wP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=b0.prototype,t.la=8,t.G=1,t.connect=function(c,m,w,A){Vt(0),this.W=c,this.H=m||{},w&&A!==void 0&&(this.H.OSID=w,this.H.OAID=A),this.F=this.X,this.I=M0(this,null,this.W),yc(this)};function qh(c){if(A0(c),c.G==3){var m=c.U++,w=lr(c.I);if(Me(w,"SID",c.K),Me(w,"RID",m),Me(w,"TYPE","terminate"),ya(c,w),m=new Ur(c,c.j,m),m.L=2,m.v=fc(lr(w)),w=!1,a.navigator&&a.navigator.sendBeacon)try{w=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!w&&a.Image&&(new Image().src=m.v,w=!0),w||(m.g=j0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),uc(m)}L0(c)}function vc(c){c.g&&(Gh(c),c.g.cancel(),c.g=null)}function A0(c){vc(c),c.u&&(a.clearTimeout(c.u),c.u=null),_c(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yc(c){if(!c0(c.h)&&!c.s){c.s=!0;var m=c.Ga;ie||X(),j||(ie(),j=!0),z.add(m,c),c.B=0}}function CP(c,m){return u0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ca(f(c.Ga,c,m),D0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new Ur(this,this.j,c);let V=this.o;if(this.S&&(V?(V=C(V),N(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)e:{for(var m=0,w=0;w<this.i.length;w++){t:{var A=this.i[w];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=w;break e}if(m===4096||w===this.i.length-1){m=w+1;break e}}m=1e3}else m=1e3;m=P0(this,M,m),w=lr(this.I),Me(w,"RID",c),Me(w,"CVER",22),this.D&&Me(w,"X-HTTP-Session-Id",this.D),ya(this,w),V&&(this.O?m="headers="+encodeURIComponent(String(x0(V)))+"&"+m:this.m&&Wh(w,this.m,V)),Hh(this.h,M),this.Ua&&Me(w,"TYPE","init"),this.P?(Me(w,"$req",m),Me(w,"SID","null"),M.T=!0,Uh(M,w,null)):Uh(M,w,m),this.G=2}}else this.G==3&&(c?R0(this,c):this.i.length==0||c0(this.h)||R0(this))};function R0(c,m){var w;m?w=m.l:w=c.U++;const A=lr(c.I);Me(A,"SID",c.K),Me(A,"RID",w),Me(A,"AID",c.T),ya(c,A),c.m&&c.o&&Wh(A,c.m,c.o),w=new Ur(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),m&&(c.i=m.D.concat(c.i)),m=P0(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Hh(c.h,w),Uh(w,A,m)}function ya(c,m){c.H&&L(c.H,function(w,A){Me(m,A,w)}),c.l&&f0({},function(w,A){Me(m,A,w)})}function P0(c,m,w){w=Math.min(c.i.length,w);var A=c.l?f(c.l.Na,c.l,c):null;e:{var M=c.i;let V=-1;for(;;){const q=["count="+w];V==-1?0<w?(V=M[0].g,q.push("ofs="+V)):V=0:q.push("ofs="+V);let De=!0;for(let vt=0;vt<w;vt++){let Ie=M[vt].g;const bt=M[vt].map;if(Ie-=V,0>Ie)V=Math.max(0,M[vt].g-100),De=!1;else try{xP(bt,q,"req"+Ie+"_")}catch{A&&A(bt)}}if(De){A=q.join("&");break e}}}return c=c.i.splice(0,w),m.D=c,A}function N0(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;ie||X(),j||(ie(),j=!0),z.add(m,c),c.v=0}}function Kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ca(f(c.Fa,c),D0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,k0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ca(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),vc(this),k0(this))};function Gh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function k0(c){c.g=new Ur(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=lr(c.qa);Me(m,"RID","rpc"),Me(m,"SID",c.K),Me(m,"AID",c.T),Me(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(m,"TO",c.ja),Me(m,"TYPE","xmlhttp"),ya(c,m),c.m&&c.o&&Wh(m,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=fc(lr(m)),w.m=null,w.P=!0,i0(w,c)}t.Za=function(){this.C!=null&&(this.C=null,vc(this),Kh(this),Vt(19))};function _c(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function O0(c,m){var w=null;if(c.g==m){_c(c),Gh(c),c.g=null;var A=2}else if(zh(c.h,m))w=m.D,d0(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){w=m.m?m.m.length:0,m=Date.now()-m.F;var M=c.B;A=ac(),qe(A,new t0(A,w)),yc(c)}else N0(c);else if(M=m.s,M==3||M==0&&0<m.X||!(A==1&&CP(c,m)||A==2&&Kh(c)))switch(w&&0<w.length&&(m=c.h,m.i=m.i.concat(w)),M){case 1:Hs(c,5);break;case 4:Hs(c,10);break;case 3:Hs(c,6);break;default:Hs(c,2)}}}function D0(c,m){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*m}function Hs(c,m){if(c.j.info("Error code "+m),m==2){var w=f(c.fb,c),A=c.Xa;const M=!A;A=new zs(A||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dc(A,"https"),fc(A),M?yP(A.toString(),w):_P(A.toString(),w)}else Vt(2);c.G=0,c.l&&c.l.sa(m),L0(c),A0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function L0(c){if(c.G=0,c.ka=[],c.l){const m=h0(c.h);(m.length!=0||c.i.length!=0)&&(E(c.ka,m),E(c.ka,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.ra()}}function M0(c,m,w){var A=w instanceof zs?lr(w):new zs(w);if(A.g!="")m&&(A.g=m+"."+A.g),hc(A,A.s);else{var M=a.location;A=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;var V=new zs(null);A&&dc(V,A),m&&(V.g=m),M&&hc(V,M),w&&(V.l=w),A=V}return w=c.D,m=c.ya,w&&m&&Me(A,w,m),Me(A,"VER",c.la),ya(c,A),A}function j0(c,m,w){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ke(new pc({eb:w})):new Ke(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function V0(){}t=V0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wc(){}wc.prototype.g=function(c,m){return new en(c,m)};function en(c,m){rt.call(this),this.g=new b0(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!x(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Di(this)}T(en,rt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){qh(this.g)},en.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=$s(c),c=w);m.i.push(new lP(m.Ya++,c)),m.G==3&&yc(m)},en.prototype.N=function(){this.g.l=null,delete this.j,qh(this.g),delete this.g,en.aa.N.call(this)};function F0(c){Kt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const w in m){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}T(F0,Kt);function U0(){Fr.call(this),this.status=1}T(U0,Fr);function Di(c){this.g=c}T(Di,V0),Di.prototype.ua=function(){qe(this.g,"a")},Di.prototype.ta=function(c){qe(this.g,new F0(c))},Di.prototype.sa=function(c){qe(this.g,new U0)},Di.prototype.ra=function(){qe(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,YC=function(){return new wc},QC=function(){return ac()},GC=ar,mm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,xu=lc,n0.COMPLETE="complete",KC=n0,Pe.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",rt.prototype.listen=rt.prototype.K,La=Pe,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,qC=Ke}).apply(typeof qc<"u"?qc:typeof self<"u"?self:typeof window<"u"?window:{});const ix="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new av("@firebase/firestore");function Ra(){return vi.logLevel}function te(t,...e){if(vi.logLevel<=Ee.DEBUG){const n=e.map(wv);vi.debug(`Firestore (${Yo}): ${t}`,...n)}}function kr(t,...e){if(vi.logLevel<=Ee.ERROR){const n=e.map(wv);vi.error(`Firestore (${Yo}): ${t}`,...n)}}function Po(t,...e){if(vi.logLevel<=Ee.WARN){const n=e.map(wv);vi.warn(`Firestore (${Yo}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ue(t="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function ke(t,e){t||ue()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class $4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class B4{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Er,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Er)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new XC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new kt(e)}}class z4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class H4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new z4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class W4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new W4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=K4(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function No(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new dt(0,0))}static max(){return new pe(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Fe extends Cl{construct(e,n,r){return new Fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Fe(n)}static emptyPath(){return new Fe([])}}const G4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends Cl{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return G4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Fe.fromString(e))}static fromName(e){return new ae(Fe.fromString(e).popFirst(5))}static empty(){return new ae(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Fe(e.slice()))}}function Q4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new dt(n+1,0):new dt(n,r));return new bs(s,ae.empty(),e)}function Y4(t){return new bs(t.readTime,t.key,-1)}class bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bs(pe.min(),ae.empty(),-1)}static max(){return new bs(pe.max(),ae.empty(),-1)}}function X4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Z4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==J4)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function eU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xv.oe=-1;function dh(t){return t==null}function gd(t){return t===0&&1/t==-1/0}function tU(t){return typeof t=="number"&&Number.isInteger(t)&&!gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ax(this.data.getIterator())}getIteratorFrom(e){return new ax(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class ax{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new Et(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eI("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const nU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(ke(!!t),typeof t=="string"){let e=0;const n=nU.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yi(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tv(t){const e=t.mapValue.fields.__previous_value__;return Ev(e)?Tv(e):e}function Il(t){const e=As(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class bl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:iU(t)?9007199254740991:sU(t)?10:11:ue()}function tr(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=As(s.timestampValue),a=As(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return yi(s.bytesValue).isEqual(yi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ze(s.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(s.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ze(s.integerValue)===Ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ze(s.doubleValue),a=Ze(i.doubleValue);return o===a?gd(o)===gd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ox(o)!==ox(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!tr(o[l],a[l])))return!1;return!0}(t,e);default:return ue()}}function Al(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ze(i.integerValue||i.doubleValue),l=Ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return lx(t.timestampValue,e.timestampValue);case 4:return lx(Il(t),Il(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(i,o){const a=yi(i),l=yi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=be(a[u],l[u]);if(h!==0)return h}return be(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=be(Ze(i.latitude),Ze(o.latitude));return a!==0?a:be(Ze(i.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const p=i.fields||{},f=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,T=(l=f.value)===null||l===void 0?void 0:l.arrayValue,v=be(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:cx(y,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Gc.mapValue&&o===Gc.mapValue)return 0;if(i===Gc.mapValue)return 1;if(o===Gc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){const f=be(l[p],h[p]);if(f!==0)return f;const y=ko(a[l[p]],u[h[p]]);if(y!==0)return y}return be(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ue()}}function lx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=As(t),r=As(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function cx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ko(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function Oo(t){return gm(t)}function gm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=As(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=gm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${gm(n.fields[o])}`;return s+"}"}(t.mapValue):ue()}function ux(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vm(t){return!!t&&"integerValue"in t}function Sv(t){return!!t&&"arrayValue"in t}function dx(t){return!!t&&"nullValue"in t}function hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eu(t){return!!t&&"mapValue"in t}function sU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function iU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(n)}setAll(e){let n=wt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Xa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Eu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Pi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Qt(Xa(this.value))}}function tI(t){const e=[];return Pi(t.fields,(n,r)=>{const s=new wt([n]);if(Eu(r)){const i=tI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Dt(e,0,pe.min(),pe.min(),pe.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,s){return new Dt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Dt(e,2,n,pe.min(),pe.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new Dt(e,3,n,pe.min(),pe.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n){this.position=e,this.inclusive=n}}function fx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=ko(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function px(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n="asc"){this.field=e,this.dir=n}}function oU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{}class ot extends nI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lU(e,n,r):n==="array-contains"?new dU(e,r):n==="in"?new hU(e,r):n==="not-in"?new fU(e,r):n==="array-contains-any"?new pU(e,r):new ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cU(e,r):new uU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&_i(this.value)===_i(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends nI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Mn(e,n)}matches(e){return rI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rI(t){return t.op==="and"}function sI(t){return aU(t)&&rI(t)}function aU(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function ym(t){if(t instanceof ot)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(sI(t))return t.filters.map(e=>ym(e)).join(",");{const e=t.filters.map(n=>ym(n)).join(",");return`${t.op}(${e})`}}function iI(t,e){return t instanceof ot?function(r,s){return s instanceof ot&&r.op===s.op&&r.field.isEqual(s.field)&&tr(r.value,s.value)}(t,e):t instanceof Mn?function(r,s){return s instanceof Mn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&iI(o,s.filters[a]),!0):!1}(t,e):void ue()}function oI(t){return t instanceof ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(oI).join(" ,")+"}"}(t):"Filter"}class lU extends ot{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class cU extends ot{constructor(e,n){super(e,"in",n),this.keys=aI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uU extends ot{constructor(e,n){super(e,"not-in",n),this.keys=aI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class dU extends ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sv(n)&&Al(n.arrayValue,this.value)}}class hU extends ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class fU extends ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Al(this.value.arrayValue,n)}}class pU extends ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Al(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function mx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new mU(t,e,n,r,s,i,o)}function Cv(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ym(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.ue=n}return e.ue}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!px(t.startAt,e.startAt)&&px(t.endAt,e.endAt)}function _m(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gU(t,e,n,r,s,i,o,a){return new Xl(t,e,n,r,s,i,o,a)}function bv(t){return new Xl(t)}function gx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function lI(t){return t.collectionGroup!==null}function Ja(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new yd(i,r))}),n.has(wt.keyField().canonicalString())||e.ce.push(new yd(wt.keyField(),r))}return e.ce}function Xn(t){const e=me(t);return e.le||(e.le=vU(e,Ja(t))),e.le}function vU(t,e){if(t.limitType==="F")return mx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yd(s.field,i)});const n=t.endAt?new vd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new vd(t.startAt.position,t.startAt.inclusive):null;return mx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wm(t,e){const n=t.filters.concat([e]);return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xm(t,e,n){return new Xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hh(t,e){return Iv(Xn(t),Xn(e))&&t.limitType===e.limitType}function cI(t){return`${Cv(Xn(t))}|lt:${t.limitType}`}function Ui(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oI(s)).join(", ")}]`),dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Oo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Oo(s)).join(",")),`Target(${r})`}(Xn(t))}; limitType=${t.limitType})`}function fh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ja(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=fx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Ja(r),s)||r.endAt&&!function(o,a,l){const u=fx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Ja(r),s))}(t,e)}function yU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uI(t){return(e,n)=>{let r=!1;for(const s of Ja(t)){const i=_U(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function _U(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?ko(l,u):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Pi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ZC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new We(ae.comparator);function Or(){return wU}const dI=new We(ae.comparator);function Ma(...t){let e=dI;for(const n of t)e=e.insert(n.key,n);return e}function hI(t){let e=dI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ei(){return Za()}function fI(){return Za()}function Za(){return new Xo(t=>t.toString(),(t,e)=>t.isEqual(e))}const xU=new We(ae.comparator),EU=new Et(ae.comparator);function we(...t){let e=EU;for(const n of t)e=e.add(n);return e}const TU=new Et(be);function SU(){return TU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function pI(t){return{integerValue:""+t}}function CU(t,e){return tU(e)?pI(e):Av(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function IU(t,e,n){return t instanceof _d?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ev(i)&&(i=Tv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Rl?gI(t,e):t instanceof Pl?vI(t,e):function(s,i){const o=mI(s,i),a=vx(o)+vx(s.Pe);return vm(o)&&vm(s.Pe)?pI(a):Av(s.serializer,a)}(t,e)}function bU(t,e,n){return t instanceof Rl?gI(t,e):t instanceof Pl?vI(t,e):n}function mI(t,e){return t instanceof wd?function(r){return vm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class _d extends ph{}class Rl extends ph{constructor(e){super(),this.elements=e}}function gI(t,e){const n=yI(e);for(const r of t.elements)n.some(s=>tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Pl extends ph{constructor(e){super(),this.elements=e}}function vI(t,e){let n=yI(e);for(const r of t.elements)n=n.filter(s=>!tr(s,r));return{arrayValue:{values:n}}}class wd extends ph{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function vx(t){return Ze(t.integerValue||t.doubleValue)}function yI(t){return Sv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AU(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Rl&&s instanceof Rl||r instanceof Pl&&s instanceof Pl?No(r.elements,s.elements,tr):r instanceof wd&&s instanceof wd?tr(r.Pe,s.Pe):r instanceof _d&&s instanceof _d}(t.transform,e.transform)}class RU{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mh{}function _I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Rv(t.key,kn.none()):new Jl(t.key,t.data,kn.none());{const n=t.data,r=Qt.empty();let s=new Et(wt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ms(t.key,r,new ln(s.toArray()),kn.none())}}function PU(t,e,n){t instanceof Jl?function(s,i,o){const a=s.value.clone(),l=_x(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ms?function(s,i,o){if(!Tu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=_x(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(wI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,r){return t instanceof Jl?function(i,o,a,l){if(!Tu(i.precondition,o))return a;const u=i.value.clone(),h=wx(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ms?function(i,o,a,l){if(!Tu(i.precondition,o))return a;const u=wx(i.fieldTransforms,l,o),h=o.data;return h.setAll(wI(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return Tu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function NU(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=mI(r.transform,s||null);i!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,i))}return n||null}function yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&No(r,s,(i,o)=>AU(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends mh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ms extends mh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _x(t,e,n){const r=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,bU(o,a,n[s]))}return r}function wx(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,IU(i,o,e))}return r}class Rv extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kU extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&PU(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=el(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=_I(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,r)=>yx(n,r))&&No(this.baseMutations,e.baseMutations,(n,r)=>yx(n,r))}}class Pv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length);let s=function(){return xU}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Pv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DU=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st,Se;function MU(t){switch(t){default:return ue();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function xI(t){if(t===void 0)return kr("GRPC error has no .code"),U.UNKNOWN;switch(t){case st.OK:return U.OK;case st.CANCELLED:return U.CANCELLED;case st.UNKNOWN:return U.UNKNOWN;case st.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case st.INTERNAL:return U.INTERNAL;case st.UNAVAILABLE:return U.UNAVAILABLE;case st.UNAUTHENTICATED:return U.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case st.NOT_FOUND:return U.NOT_FOUND;case st.ALREADY_EXISTS:return U.ALREADY_EXISTS;case st.PERMISSION_DENIED:return U.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case st.ABORTED:return U.ABORTED;case st.OUT_OF_RANGE:return U.OUT_OF_RANGE;case st.UNIMPLEMENTED:return U.UNIMPLEMENTED;case st.DATA_LOSS:return U.DATA_LOSS;default:return ue()}}(Se=st||(st={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new si([4294967295,4294967295],0);function xx(t){const e=jU().encode(t),n=new WC;return n.update(e),new Uint8Array(n.digest())}function Ex(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new si([n,r],0),new si([s,i],0)]}class Nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ja(`Invalid padding: ${n}`);if(r<0)throw new ja(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ja(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ja(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=si.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(si.fromNumber(r)));return s.compare(VU)===1&&(s=new si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xx(e),[r,s]=Ex(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Nv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=xx(e),[r,s]=Ex(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gh(pe.min(),s,new We(be),Or(),we())}}class Zl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class EI{constructor(e,n){this.targetId=e,this.me=n}}class TI{constructor(e,n,r=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Tx{constructor(){this.fe=0,this.ge=Cx(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ue()}}),new Zl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Cx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Or(),this.qe=Sx(),this.Qe=new We(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(_m(i))if(r===0){const o=new ae(i.path);this.Ue(n,o,Dt.newNoDocument(o,pe.min()))}else ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=yi(r).toUint8Array()}catch(l){if(l instanceof eI)return Po("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Nv(o,s,i)}catch(l){return Po(l instanceof ja?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&_m(a.target)){const l=new ae(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Dt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=we();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new gh(e,n,this.Qe,this.ke,r);return this.ke=Or(),this.qe=Sx(),this.Qe=new We(be),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Tx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Et(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Tx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Sx(){return new We(ae.comparator)}function Cx(){return new We(ae.comparator)}const UU={asc:"ASCENDING",desc:"DESCENDING"},$U={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BU={and:"AND",or:"OR"};class zU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(t,e){return t.useProto3Json||dh(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HU(t,e){return xd(t,e.toTimestamp())}function Jn(t){return ke(!!t),pe.fromTimestamp(function(n){const r=As(n);return new dt(r.seconds,r.nanos)}(t))}function kv(t,e){return Tm(t,e).canonicalString()}function Tm(t,e){const n=function(s){return new Fe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CI(t){const e=Fe.fromString(t);return ke(PI(e)),e}function Sm(t,e){return kv(t.databaseId,e.path)}function Vf(t,e){const n=CI(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(bI(n))}function II(t,e){return kv(t.databaseId,e)}function WU(t){const e=CI(t);return e.length===4?Fe.emptyPath():bI(e)}function Cm(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bI(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ix(t,e,n){return{name:Sm(t,e),fields:n.value.mapValue.fields}}function qU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(ke(h===void 0||typeof h=="string"),St.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?U.UNKNOWN:xI(u.code);return new Z(h,u.message||"")}(o);n=new TI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Vf(t,r.document.name),i=Jn(r.document.updateTime),o=r.document.createTime?Jn(r.document.createTime):pe.min(),a=new Qt({mapValue:{fields:r.document.fields}}),l=Dt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Su(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Vf(t,r.document),i=r.readTime?Jn(r.readTime):pe.min(),o=Dt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Su([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Vf(t,r.document),i=r.removedTargetIds||[];n=new Su([],i,s,null)}else{if(!("filter"in e))return ue();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new LU(s,i),a=r.targetId;n=new EI(a,o)}}return n}function KU(t,e){let n;if(e instanceof Jl)n={update:Ix(t,e.key,e.value)};else if(e instanceof Rv)n={delete:Sm(t,e.key)};else if(e instanceof Ms)n={update:Ix(t,e.key,e.data),updateMask:n5(e.fieldMask)};else{if(!(e instanceof kU))return ue();n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof _d)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:HU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ue()}(t,e.precondition)),n}function GU(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Jn(s.updateTime):Jn(i);return o.isEqual(pe.min())&&(o=Jn(i)),new RU(o,s.transformResults||[])}(n,e))):[]}function QU(t,e){return{documents:[II(t,e.path)]}}function YU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=II(t,s);const i=function(u){if(u.length!==0)return RI(Mn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:$i(f.field),direction:ZU(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Em(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function XU(t){let e=WU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const f=AI(p);return f instanceof Mn&&sI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(f=>function(T){return new yd(Bi(T.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(p){let f;return f=typeof p=="object"?p.value:p,dh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(p){const f=!!p.before,y=p.values||[];return new vd(y,f)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const f=!p.before,y=p.values||[];return new vd(y,f)}(n.endAt)),gU(e,s,o,i,a,"F",l,u)}function JU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bi(n.unaryFilter.field);return ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Bi(n.unaryFilter.field);return ot.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Bi(n.unaryFilter.field);return ot.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bi(n.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return ot.create(Bi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>AI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function ZU(t){return UU[t]}function e5(t){return $U[t]}function t5(t){return BU[t]}function $i(t){return{fieldPath:t.canonicalString()}}function Bi(t){return wt.fromServerFormat(t.fieldPath)}function RI(t){return t instanceof ot?function(n){if(n.op==="=="){if(hx(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NAN"}};if(dx(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hx(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NAN"}};if(dx(n.value))return{unaryFilter:{field:$i(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$i(n.field),op:e5(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(s=>RI(s));return r.length===1?r[0]:{compositeFilter:{op:t5(n.op),filters:r}}}(t):ue()}function n5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.ct=e}}function s5(t){const e=XU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.un=new o5}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(bs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class o5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Et(Fe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Do(0)}static kn(){return new Do(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.changes=new Xo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&el(r.mutation,s,ln.empty(),dt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ma();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Or();const o=Za(),a=function(){return Za()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ms)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),el(h.mutation,u,h.mutation.getFieldMask(),dt.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var p;return a.set(u,new l5(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Za();let s=new We((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||ln.empty();h=a.applyToLocalView(u,h),r.set(l,h);const p=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,p=fI();h.forEach(f=>{if(!i.has(f)){const y=_I(n.get(f),r.get(f));y!==null&&p.set(f,y),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(ei());let a=-1,l=i;return o.next(u=>B.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,we())).next(h=>({batchId:a,changes:hI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=Ma();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ma();return this.indexManager.getCollectionParents(e,i).next(a=>B.forEach(a,l=>{const u=function(p,f){return new Xl(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((p,f)=>{o=o.insert(p,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Dt.newInvalidDocument(h)))});let a=Ma();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&el(h.mutation,u,ln.empty(),dt.now()),fh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Jn(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:s5(s.bundledQuery),readTime:Jn(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.overlays=new We(ae.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ei();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=ei(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ei(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ei(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return B.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new DU(n,r));let i=this.Ir.get(n);i===void 0&&(i=we(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.Tr=new Et(ht.Er),this.dr=new Et(ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new Fe([])),r=new ht(n,e),s=new ht(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new Fe([])),r=new ht(n,e),s=new ht(n,e+1);let i=we();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Et(ht.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new OU(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new ht(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ht(n,0),s=new ht(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(be);return n.forEach(s=>{const i=new ht(s,0),o=new ht(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new ht(new ae(i),0);let a=new Et(be);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,s=>{const i=new ht(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ht(n,0),s=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.Mr=e,this.docs=function(){return new We(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Dt.newInvalidDocument(n))}getEntries(e,n){let r=Or();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Dt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Or();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||X4(Y4(h),r)<=0||(s.has(h.key)||fh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ue()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new m5(this)}getSize(e){return B.resolve(this.size)}}class m5 extends a5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.persistence=e,this.Nr=new Xo(n=>Cv(n),Iv),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Ov,this.targetCount=0,this.kr=Do.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new xv(0),this.Kr=!1,this.Kr=!0,this.$r=new h5,this.referenceDelegate=e(this),this.Ur=new g5(this),this.indexManager=new i5,this.remoteDocumentCache=function(s){return new p5(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new r5(n),this.Gr=new u5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new f5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new y5(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class y5 extends Z4{constructor(e){super(),this.currentSequenceNumber=e}}class Dv{constructor(e){this.persistence=e,this.Jr=new Ov,this.Yr=null}static Zr(e){return new Dv(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const s=ae.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Lv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return _j()?8:eU(Mt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new _5;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ra()<=Ee.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",Ui(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Ra()<=Ee.DEBUG&&te("QueryEngine","Query:",Ui(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ra()<=Ee.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",Ui(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xn(n))):B.resolve())}Yi(e,n){if(gx(n))return B.resolve(null);let r=Xn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xm(n,null,"F"),r=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,xm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return gx(n)||s.isEqual(pe.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?B.resolve(null):(Ra()<=Ee.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ui(n)),this.rs(e,o,n,Q4(s,-1)).next(a=>a))})}ts(e,n){let r=new Et(uI(e));return n.forEach((s,i)=>{fh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Ra()<=Ee.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Ui(n)),this.Ji.getDocumentsMatchingQuery(e,n,bs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new We(be),this._s=new Xo(i=>Cv(i),Iv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function E5(t,e,n,r){return new x5(t,e,n,r)}async function NI(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function T5(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const p=u.batch,f=p.keys();let y=B.resolve();return f.forEach(T=>{y=y.next(()=>h.getEntry(l,T)).next(v=>{const E=u.docVersions.get(T);ke(E!==null),v.version.compareTo(E)<0&&(p.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),h.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function kI(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function S5(t,e){const n=me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,p)=>{const f=s.get(p);if(!f)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,p)));let y=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(St.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(p,y),function(v,E,_){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,y,h)&&a.push(n.Ur.updateTargetData(i,y))});let l=Or(),u=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(C5(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(pe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function C5(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Or();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function I5(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b5(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new os(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Im(t,e,n){const r=me(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Yl(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function bx(t,e,n){const r=me(t);let s=pe.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const p=me(l),f=p._s.get(h);return f!==void 0?B.resolve(p.os.get(f)):p.Ur.getTargetData(u,h)}(r,o,Xn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:we())).next(a=>(A5(r,yU(e),a),{documents:a,Ts:i})))}function A5(t,e,n){let r=t.us.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Ax{constructor(){this.activeTargetIds=SU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R5{constructor(){this.so=new Ax,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ax,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Ff(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class O5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Ff(),l=this.xo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(h=>(te("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Po("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=N5[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Ff();return new Promise((o,a)=>{const l=new qC;l.setWithCredentials(!0),l.listenOnce(KC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xu.NO_ERROR:const h=l.getResponseJson();te(Nt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case xu.TIMEOUT:te(Nt,`RPC '${e}' ${i} timed out`),a(new Z(U.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const p=l.getStatus();if(te(Nt,`RPC '${e}' ${i} failed with status:`,p,"response text:",l.getResponseText()),p>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const y=f==null?void 0:f.error;if(y&&y.status&&y.message){const T=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(y.status);a(new Z(T,y.message))}else a(new Z(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(U.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{te(Nt,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);te(Nt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Ff(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YC(),a=QC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");te(Nt,`Creating RPC '${e}' stream ${s}: ${h}`,l);const p=o.createWebChannel(h,l);let f=!1,y=!1;const T=new k5({Io:E=>{y?te(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(te(Nt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),f=!0),te(Nt,`RPC '${e}' stream ${s} sending:`,E),p.send(E))},To:()=>p.close()}),v=(E,_,x)=>{E.listen(_,S=>{try{x(S)}catch(P){setTimeout(()=>{throw P},0)}})};return v(p,La.EventType.OPEN,()=>{y||(te(Nt,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),v(p,La.EventType.CLOSE,()=>{y||(y=!0,te(Nt,`RPC '${e}' stream ${s} transport closed`),T.So())}),v(p,La.EventType.ERROR,E=>{y||(y=!0,Po(Nt,`RPC '${e}' stream ${s} transport errored:`,E),T.So(new Z(U.UNAVAILABLE,"The operation could not be completed")))}),v(p,La.EventType.MESSAGE,E=>{var _;if(!y){const x=E.data[0];ke(!!x);const S=x,P=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(P){te(Nt,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let L=function(R){const N=st[R];if(N!==void 0)return xI(N)}(D),I=P.message;L===void 0&&(L=U.INTERNAL,I="Unknown error status: "+D+" with message "+P.message),y=!0,T.So(new Z(L,I)),p.close()}else te(Nt,`RPC '${e}' stream ${s} received:`,x),T.bo(x)}}),v(a,GC.STAT_EVENT,E=>{E.stat===mm.PROXY?te(Nt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===mm.NOPROXY&&te(Nt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){return new zU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D5 extends DI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=qU(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Jn(o.readTime):pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Cm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=_m(l)?{documents:QU(i,l)}:{query:YU(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SI(i,o.resumeToken);const u=Em(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=xd(i,o.snapshotVersion.toTimestamp());const u=Em(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=JU(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Cm(this.serializer),n.removeTarget=e,this.a_(n)}}class L5 extends DI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=GU(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Cm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>KU(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Tm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(U.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Tm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class j5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(kr(n),this.D_=!1):te("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ni(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=me(l);u.L_.add(4),await ec(u),u.q_.set("Unknown"),u.L_.delete(4),await yh(u)}(this))})}),this.q_=new j5(r,s)}}async function yh(t){if(Ni(t))for(const e of t.B_)await e(!0)}async function ec(t){for(const e of t.B_)await e(!1)}function LI(t,e){const n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Fv(n)?Vv(n):Jo(n).r_()&&jv(n,e))}function Mv(t,e){const n=me(t),r=Jo(n);n.N_.delete(e),r.r_()&&MI(n,e),n.N_.size===0&&(r.r_()?r.o_():Ni(n)&&n.q_.set("Unknown"))}function jv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(t).A_(e)}function MI(t,e){t.Q_.xe(e),Jo(t).R_(e)}function Vv(t){t.Q_=new FU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Jo(t).start(),t.q_.v_()}function Fv(t){return Ni(t)&&!Jo(t).n_()&&t.N_.size>0}function Ni(t){return me(t).L_.size===0}function jI(t){t.Q_=void 0}async function F5(t){t.q_.set("Online")}async function U5(t){t.N_.forEach((e,n)=>{jv(t,e)})}async function $5(t,e){jI(t),Fv(t)?(t.q_.M_(e),Vv(t)):t.q_.set("Unknown")}async function B5(t,e,n){if(t.q_.set("Online"),e instanceof TI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ed(t,r)}else if(e instanceof Su?t.Q_.Ke(e):e instanceof EI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(pe.min()))try{const r=await kI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),MI(i,l);const p=new os(h.target,l,u,h.sequenceNumber);jv(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Ed(t,r)}}async function Ed(t,e,n){if(!Yl(e))throw e;t.L_.add(1),await ec(t),t.q_.set("Offline"),n||(n=()=>kI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await yh(t)})}function VI(t,e){return e().catch(n=>Ed(t,n,e))}async function _h(t){const e=me(t),n=Rs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;z5(e);)try{const s=await I5(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,H5(e,s)}catch(s){await Ed(e,s)}FI(e)&&UI(e)}function z5(t){return Ni(t)&&t.O_.length<10}function H5(t,e){t.O_.push(e);const n=Rs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function FI(t){return Ni(t)&&!Rs(t).n_()&&t.O_.length>0}function UI(t){Rs(t).start()}async function W5(t){Rs(t).p_()}async function q5(t){const e=Rs(t);for(const n of t.O_)e.m_(n.mutations)}async function K5(t,e,n){const r=t.O_.shift(),s=Pv.from(r,e,n);await VI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await _h(t)}async function G5(t,e){e&&Rs(t).V_&&await async function(r,s){if(function(o){return MU(o)&&o!==U.ABORTED}(s.code)){const i=r.O_.shift();Rs(r).s_(),await VI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await _h(r)}}(t,e),FI(t)&&UI(t)}async function Px(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Ni(n);n.L_.add(3),await ec(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await yh(n)}async function Q5(t,e){const n=me(t);e?(n.L_.delete(2),await yh(n)):e||(n.L_.add(2),await ec(n),n.q_.set("Unknown"))}function Jo(t){return t.K_||(t.K_=function(n,r,s){const i=me(n);return i.w_(),new D5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:F5.bind(null,t),Ro:U5.bind(null,t),mo:$5.bind(null,t),d_:B5.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Fv(t)?Vv(t):t.q_.set("Unknown")):(await t.K_.stop(),jI(t))})),t.K_}function Rs(t){return t.U_||(t.U_=function(n,r,s){const i=me(n);return i.w_(),new L5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:W5.bind(null,t),mo:G5.bind(null,t),f_:q5.bind(null,t),g_:K5.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await _h(t)):(await t.U_.stop(),t.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Uv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Yl(t))return new Z(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Ma(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.W_=new We(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lo{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Lo(e,n,po.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class X5{constructor(){this.queries=kx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=kx(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Z(U.ABORTED,"Firestore shutting down"))}}function kx(){return new Xo(t=>cI(t),hh)}async function $I(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Y5,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=$v(o,`Initialization of query '${Ui(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Bv(n)}async function BI(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function J5(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Bv(n)}function Z5(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Bv(t){t.Y_.forEach(e=>{e.next()})}var bm,Ox;(Ox=bm||(bm={})).ea="default",Ox.Cache="cache";class zI{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.key=e}}class WI{constructor(e){this.key=e}}class e3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=uI(e),this.Ra=new po(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Nx,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const f=s.get(h),y=fh(this.query,p)?p:null,T=!!f&&this.mutatedKeys.has(f.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;f&&y?f.data.isEqual(y.data)?T!==v&&(r.track({type:3,doc:y}),E=!0):this.ga(f,y)||(r.track({type:2,doc:y}),E=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!f&&y?(r.track({type:0,doc:y}),E=!0):f&&!y&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(y?(o=o.add(y),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,p)=>function(y,T){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return v(y)-v(T)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Lo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Nx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new WI(r))}),this.da.forEach(r=>{e.has(r)||n.push(new HI(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Lo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class t3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class n3{constructor(e){this.key=e,this.va=!1}}class r3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xo(a=>cI(a),hh),this.Ma=new Map,this.xa=new Set,this.Oa=new We(ae.comparator),this.Na=new Map,this.La=new Ov,this.Ba={},this.ka=new Map,this.qa=Do.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function s3(t,e,n=!0){const r=XI(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await qI(r,e,n,!0),s}async function i3(t,e){const n=XI(t);await qI(n,e,!0,!1)}async function qI(t,e,n,r){const s=await b5(t.localStore,Xn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await o3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&LI(t.remoteStore,s),a}async function o3(t,e,n,r,s){t.Ka=(p,f,y)=>async function(v,E,_,x){let S=E.view.ma(_);S.ns&&(S=await bx(v.localStore,E.query,!1).then(({documents:I})=>E.view.ma(I,S)));const P=x&&x.targetChanges.get(E.targetId),D=x&&x.targetMismatches.get(E.targetId)!=null,L=E.view.applyChanges(S,v.isPrimaryClient,P,D);return Lx(v,E.targetId,L.wa),L.snapshot}(t,p,f,y);const i=await bx(t.localStore,e,!0),o=new e3(e,i.Ts),a=o.ma(i.documents),l=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Lx(t,n,u.wa);const h=new t3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function a3(t,e,n){const r=me(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!hh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Im(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Mv(r.remoteStore,s.targetId),Am(r,s.targetId)}).catch(Ql)):(Am(r,s.targetId),await Im(r.localStore,s.targetId,!0))}async function l3(t,e){const n=me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Mv(n.remoteStore,r.targetId))}async function c3(t,e,n){const r=g3(t);try{const s=await function(o,a){const l=me(o),u=dt.now(),h=a.reduce((y,T)=>y.add(T.key),we());let p,f;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Or(),v=we();return l.cs.getEntries(y,h).next(E=>{T=E,T.forEach((_,x)=>{x.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(E=>{p=E;const _=[];for(const x of a){const S=NU(x,p.get(x.key).overlayedDocument);S!=null&&_.push(new Ms(x.key,S,tI(S.value.mapValue),kn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(p,v);return l.documentOverlayCache.saveOverlays(y,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:hI(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new We(be)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await tc(r,s.changes),await _h(r.remoteStore)}catch(s){const i=$v(s,"Failed to persist write");n.reject(i)}}async function KI(t,e){const n=me(t);try{const r=await S5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ke(o.va):s.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),await tc(n,r,e)}catch(r){await Ql(r)}}function Dx(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(const f of p.j_)f.Z_(a)&&(u=!0)}),u&&Bv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u3(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new We(ae.comparator);o=o.insert(i,Dt.newNoDocument(i,pe.min()));const a=we().add(i),l=new gh(pe.min(),new Map,new We(be),o,a);await KI(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),zv(r)}else await Im(r.localStore,e,!1).then(()=>Am(r,e,n)).catch(Ql)}async function d3(t,e){const n=me(t),r=e.batch.batchId;try{const s=await T5(n.localStore,e);QI(n,r,null),GI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tc(n,s)}catch(s){await Ql(s)}}async function h3(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(ke(p!==null),h=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);QI(r,e,n),GI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tc(r,s)}catch(s){await Ql(s)}}function GI(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function QI(t,e,n){const r=me(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||YI(t,r)})}function YI(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Mv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),zv(t))}function Lx(t,e,n){for(const r of n)r instanceof HI?(t.La.addReference(r.key,e),f3(t,r)):r instanceof WI?(te("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||YI(t,r.key)):ue()}function f3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(te("SyncEngine","New document in limbo: "+n),t.xa.add(r),zv(t))}function zv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(Fe.fromString(e)),r=t.qa.next();t.Na.set(r,new n3(n)),t.Oa=t.Oa.insert(n,r),LI(t.remoteStore,new os(Xn(bv(n.path)),r,"TargetPurposeLimboResolution",xv.oe))}}async function tc(t,e,n){const r=me(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){s.push(u);const p=Lv.Wi(l.targetId,u);i.push(p)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,f=>B.forEach(f.$i,y=>h.persistence.referenceDelegate.addReference(p,f.targetId,y)).next(()=>B.forEach(f.Ui,y=>h.persistence.referenceDelegate.removeReference(p,f.targetId,y)))))}catch(p){if(!Yl(p))throw p;te("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const f=p.targetId;if(!p.fromCache){const y=h.os.get(f),T=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(f,v)}}}(r.localStore,i))}async function p3(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await NI(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(U.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tc(n,r.hs)}}function m3(t,e){const n=me(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let s=we();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function XI(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=KI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u3.bind(null,e),e.Ca.d_=J5.bind(null,e.eventManager),e.Ca.$a=Z5.bind(null,e.eventManager),e}function g3(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=d3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h3.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return E5(this.persistence,new w5,e.initialUser,this.serializer)}Ga(e){return new v5(Dv.Zr,this.serializer)}Wa(e){return new R5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p3.bind(null,this.syncEngine),await Q5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X5}()}createDatastore(e){const n=vh(e.databaseInfo.databaseId),r=function(i){return new O5(i)}(e.databaseInfo);return function(i,o,a,l){return new M5(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new V5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Dx(this.syncEngine,n,0),function(){return Rx.D()?new Rx:new P5}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const p=new r3(s,i,o,a,l,u);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);te("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ec(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=JC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $f(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await NI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Mx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await y3(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Px(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Px(e.remoteStore,s)),t._onlineComponents=e}async function y3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await $f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Po("Error using user provided cache. Falling back to memory cache: "+n),await $f(t,new Td)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await $f(t,new Td);return t._offlineComponents}async function ZI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await Mx(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await Mx(t,new Rm))),t._onlineComponents}function _3(t){return ZI(t).then(e=>e.syncEngine)}async function eb(t){const e=await ZI(t),n=e.eventManager;return n.onListen=s3.bind(null,e.syncEngine),n.onUnlisten=a3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l3.bind(null,e.syncEngine),n}function w3(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new JI({next:f=>{h.Za(),o.enqueueAndForget(()=>BI(i,p));const y=f.docs.has(a);!y&&f.fromCache?u.reject(new Z(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&f.fromCache&&l&&l.source==="server"?u.reject(new Z(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new zI(bv(a.path),h,{includeMetadataChanges:!0,_a:!0});return $I(i,p)}(await eb(t),t.asyncQueue,e,n,r)),r.promise}function x3(t,e,n={}){const r=new Er;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new JI({next:f=>{h.Za(),o.enqueueAndForget(()=>BI(i,p)),f.fromCache&&l.source==="server"?u.reject(new Z(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),p=new zI(a,h,{includeMetadataChanges:!0,_a:!0});return $I(i,p)}(await eb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(t,e,n){if(!n)throw new Z(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function E3(t,e,n,r){if(e===!0&&r===!0)throw new Z(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vx(t){if(!ae.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fx(t){if(ae.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wh(t);throw new Z(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}E3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ux({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ux(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new U4;switch(r.type){case"firstParty":return new H4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jx.get(n);r&&(te("ComponentProvider","Removing Datastore"),jx.delete(n),r.terminate())}(this),Promise.resolve()}}function rb(t,e,n,r={}){var s;const i=(t=nr(t,xh))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=kt.MOCK_USER;else{a=aC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}t._authCredentials=new $4(new XC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zo(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class _s extends Zo{constructor(e,n,r){super(e,n,bv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ae(e))}withConverter(e){return new _s(this.firestore,e,this._path)}}function T3(t,e,...n){if(t=Qe(t),nb("collection","path",e),t instanceof xh){const r=Fe.fromString(e,...n);return Fx(r),new _s(t,null,r)}{if(!(t instanceof zt||t instanceof _s))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Fx(r),new _s(t.firestore,null,r)}}function Sd(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=JC.newId()),nb("doc","path",e),t instanceof xh){const r=Fe.fromString(e,...n);return Vx(r),new zt(t,null,new ae(r))}{if(!(t instanceof zt||t instanceof _s))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Fe.fromString(e,...n));return Vx(r),new zt(t.firestore,t instanceof _s?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OI(this,"async_queue_retry"),this.Vu=()=>{const r=Uf();r&&te("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yl(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Uv.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ue()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ea extends xh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $x,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function S3(t,e){const n=typeof t=="object"?t:cv(),r=typeof t=="string"?t:"(default)",s=ah(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=sC("firestore");i&&rb(s,...i)}return s}function Hv(t){if(t._terminated)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||C3(t),t._firestoreClient}function C3(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new rU(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,tb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new v3(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(St.fromBase64String(e))}catch(n){throw new Z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mo(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^__.*__$/;class b3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class sb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ib(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Gv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Gv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Cd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ib(this.Cu)&&I3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class A3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vh(e)}Qu(e,n,r,s=!1){return new Gv({Cu:e,methodName:n,qu:r,path:wt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qv(t){const e=t._freezeSettings(),n=vh(t._databaseId);return new A3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function R3(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Yv("Data must be an object, but it was:",o,r);const a=ob(r,o);let l,u;if(i.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const p of i.mergeFields){const f=Pm(e,p,n);if(!o.contains(f))throw new Z(U.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);lb(h,f)||h.push(f)}l=new ln(h),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new b3(new Qt(a),l,u)}class Th extends Wv{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}function P3(t,e,n,r){const s=t.Qu(1,e,n);Yv("Data must be an object, but it was:",s,r);const i=[],o=Qt.empty();Pi(r,(l,u)=>{const h=Xv(e,l,n);u=Qe(u);const p=s.Nu(h);if(u instanceof Th)i.push(h);else{const f=nc(u,p);f!=null&&(i.push(h),o.set(h,f))}});const a=new ln(i);return new sb(o,a,s.fieldTransforms)}function N3(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Pm(e,r,n)],l=[s];if(i.length%2!=0)throw new Z(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Pm(e,i[f])),l.push(i[f+1]);const u=[],h=Qt.empty();for(let f=a.length-1;f>=0;--f)if(!lb(u,a[f])){const y=a[f];let T=l[f];T=Qe(T);const v=o.Nu(y);if(T instanceof Th)u.push(y);else{const E=nc(T,v);E!=null&&(u.push(y),h.set(y,E))}}const p=new ln(u);return new sb(h,p,o.fieldTransforms)}function k3(t,e,n,r=!1){return nc(n,t.Qu(r?4:3,e))}function nc(t,e){if(ab(t=Qe(t)))return Yv("Unsupported field value:",e,t),ob(t,e);if(t instanceof Wv)return function(r,s){if(!ib(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=nc(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CU(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=dt.fromDate(r);return{timestampValue:xd(s.serializer,i)}}if(r instanceof dt){const i=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(s.serializer,i)}}if(r instanceof qv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mo)return{bytesValue:SI(s.serializer,r._byteString)};if(r instanceof zt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Kv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Av(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${wh(r)}`)}(t,e)}function ob(t,e){const n={};return ZC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pi(t,(r,s)=>{const i=nc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ab(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof qv||t instanceof Mo||t instanceof zt||t instanceof Wv||t instanceof Kv)}function Yv(t,e,n){if(!ab(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=wh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Pm(t,e,n){if((e=Qe(e))instanceof Eh)return e._internalPath;if(typeof e=="string")return Xv(t,e);throw Cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const O3=new RegExp("[~\\*/\\[\\]]");function Xv(t,e,n){if(e.search(O3)>=0)throw Cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eh(...e.split("."))._internalPath}catch{throw Cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Cd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(U.INVALID_ARGUMENT,a+t+l)}function lb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D3 extends cb{data(){return super.data()}}function Jv(t,e){return typeof e=="string"?Xv(t,e):e instanceof Eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zv{}class M3 extends Zv{}function j3(t,e,...n){let r=[];e instanceof Zv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof ey).length,a=i.filter(l=>l instanceof Sh).length;if(o>1||o>0&&a>0)throw new Z(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Sh extends M3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Sh(e,n,r)}_apply(e){const n=this._parse(e);return ub(e._query,n),new Zo(e.firestore,e.converter,wm(e._query,n))}_parse(e){const n=Qv(e.firestore);return function(i,o,a,l,u,h,p){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zx(p,h);const y=[];for(const T of p)y.push(Bx(l,i,T));f={arrayValue:{values:y}}}else f=Bx(l,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zx(p,h),f=k3(a,o,p,h==="in"||h==="not-in");return ot.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function V3(t,e,n){const r=e,s=Jv("where",t);return Sh._create(s,r,n)}class ey extends Zv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ey(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)ub(o,l),o=wm(o,l)}(e._query,n),new Zo(e.firestore,e.converter,wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Bx(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new Z(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lI(e)&&n.indexOf("/")!==-1)throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Fe.fromString(n));if(!ae.isDocumentKey(r))throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ux(t,new ae(r))}if(n instanceof zt)return ux(t,n._key);throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(n)}.`)}function zx(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ub(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F3{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Pi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ze(o.doubleValue));return new Kv(i)}convertGeoPoint(e){return new qv(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=As(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Fe.fromString(e);ke(PI(r));const s=new bl(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||kr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class db extends cb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cu extends db{data(e={}){return super.data(e)}}class $3{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Va(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cu(this._firestore,this._userDataWriter,r.key,r,new Va(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Cu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Va(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Cu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Va(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:B3(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function B3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){t=nr(t,zt);const e=nr(t.firestore,ea);return w3(Hv(e),t._key).then(n=>K3(e,t,n))}class hb extends F3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function H3(t){t=nr(t,Zo);const e=nr(t.firestore,ea),n=Hv(e),r=new hb(e);return L3(t._query),x3(n,t._query).then(s=>new $3(e,r,t,s))}function Hx(t,e,n){t=nr(t,zt);const r=nr(t.firestore,ea),s=U3(t.converter,e,n);return ty(r,[R3(Qv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,kn.none())])}function W3(t,e,n,...r){t=nr(t,zt);const s=nr(t.firestore,ea),i=Qv(s);let o;return o=typeof(e=Qe(e))=="string"||e instanceof Eh?N3(i,"updateDoc",t._key,e,n,r):P3(i,"updateDoc",t._key,e),ty(s,[o.toMutation(t._key,kn.exists(!0))])}function q3(t){return ty(nr(t.firestore,ea),[new Rv(t._key,kn.none())])}function ty(t,e){return function(r,s){const i=new Er;return r.asyncQueue.enqueueAndForget(async()=>c3(await _3(r),s,i)),i.promise}(Hv(t),e)}function K3(t,e,n){const r=n.docs.get(e._key),s=new hb(t);return new db(t,s,e._key,r,new Va(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Yo=s})(Ai),mi(new Is("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ea(new B4(r.getProvider("auth-internal")),new q4(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Qn(ix,"4.7.3",e),Qn(ix,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="firebasestorage.googleapis.com",pb="storageBucket",G3=2*60*1e3,Q3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends sr{constructor(e,n,r=0){super(Bf(e),`Firebase Storage: ${n} (${Bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ye;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ye||(Ye={}));function Bf(t){return"storage/"+t}function ny(){const t="An unknown error occurred, please check the error payload for server response.";return new Xe(Ye.UNKNOWN,t)}function Y3(t){return new Xe(Ye.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function X3(t){return new Xe(Ye.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function J3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xe(Ye.UNAUTHENTICATED,t)}function Z3(){return new Xe(Ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e9(t){return new Xe(Ye.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function t9(){return new Xe(Ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function n9(){return new Xe(Ye.CANCELED,"User canceled the upload/download.")}function r9(t){return new Xe(Ye.INVALID_URL,"Invalid URL '"+t+"'.")}function s9(t){return new Xe(Ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function i9(){return new Xe(Ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pb+"' property when initializing the app?")}function o9(){return new Xe(Ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function a9(){return new Xe(Ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function l9(t){return new Xe(Ye.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nm(t){return new Xe(Ye.INVALID_ARGUMENT,t)}function mb(){return new Xe(Ye.APP_DELETED,"The Firebase app was deleted.")}function c9(t){return new Xe(Ye.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function tl(t,e){return new Xe(Ye.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Pa(t){throw new Xe(Ye.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cn.makeFromUrl(e,n)}catch{return new cn(e,"")}if(r.path==="")return r;throw s9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${s}/o${f}`,"i"),T={bucket:1,path:3},v=n===fb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${E}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:y,indices:T,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<S.length;P++){const D=S[P],L=D.regex.exec(e);if(L){const I=L[D.indices.bucket];let C=L[D.indices.path];C||(C=""),r=new cn(I,C),D.postModify(r);break}}if(r==null)throw r9(e);return r}}class u9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...E){u||(u=!0,e.apply(null,E))}function p(E){s=setTimeout(()=>{s=null,t(y,l())},E)}function f(){i&&clearTimeout(i)}function y(E,..._){if(u){f();return}if(E){f(),h.call(null,E,..._);return}if(l()||o){f(),h.call(null,E,..._);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,p(S)}let T=!1;function v(E){T||(T=!0,f(),!u&&(s!==null?(E||(a=2),clearTimeout(s),p(0)):E||(a=1)))}return p(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function h9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){return t!==void 0}function p9(t){return typeof t=="object"&&!Array.isArray(t)}function ry(t){return typeof t=="string"||t instanceof String}function Wx(t){return sy()&&t instanceof Blob}function sy(){return typeof Blob<"u"}function qx(t,e,n,r){if(r<e)throw Nm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Nm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function gb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ii;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ii||(ii={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e,n,r,s,i,o,a,l,u,h,p,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=p,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,T)=>{this.resolve_=y,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===ii.NO_ERROR,l=i.getStatus();if(!a||m9(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===ii.ABORT;r(!1,new Yc(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Yc(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());f9(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=ny();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?mb():n9();o(l)}else{const l=t9();o(l)}};this.canceled_?n(!1,new Yc(!1,null,!0)):this.backoffId_=d9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function v9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function w9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function x9(t,e,n,r,s,i,o=!0){const a=gb(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return _9(u,e),v9(u,n),y9(u,i),w9(u,r),new g9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T9(...t){const e=E9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(sy())return new Blob(t);throw new Xe(Ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function S9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){if(typeof atob>"u")throw l9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zf{constructor(e,n){this.data=e,this.contentType=n||null}}function I9(t,e){switch(t){case qn.RAW:return new zf(vb(e));case qn.BASE64:case qn.BASE64URL:return new zf(yb(t,e));case qn.DATA_URL:return new zf(A9(e),R9(e))}throw ny()}function vb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function b9(t){let e;try{e=decodeURIComponent(t)}catch{throw tl(qn.DATA_URL,"Malformed data URL.")}return vb(e)}function yb(t,e){switch(t){case qn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw tl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case qn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw tl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=C9(e)}catch(s){throw s.message.includes("polyfill")?s:tl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class _b{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw tl(qn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=P9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function A9(t){const e=new _b(t);return e.base64?yb(qn.BASE64,e.rest):b9(e.rest)}function R9(t){return new _b(t).contentType}function P9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){let r=0,s="";Wx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Wx(this.data_)){const r=this.data_,s=S9(r,e,n);return s===null?null:new ns(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ns(r,!0)}}static getBlob(...e){if(sy()){const n=e.map(r=>r instanceof ns?r.data_:r);return new ns(T9.apply(null,n))}else{const n=e.map(o=>ry(o)?I9(qn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ns(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){let e;try{e=JSON.parse(t)}catch{return null}return p9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function k9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function xb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t,e){return e}class Ft{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||O9}}let Xc=null;function D9(t){return!ry(t)||t.length<2?t:xb(t)}function Eb(){if(Xc)return Xc;const t=[];t.push(new Ft("bucket")),t.push(new Ft("generation")),t.push(new Ft("metageneration")),t.push(new Ft("name","fullPath",!0));function e(i,o){return D9(o)}const n=new Ft("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ft("size");return s.xform=r,t.push(s),t.push(new Ft("timeCreated")),t.push(new Ft("updated")),t.push(new Ft("md5Hash",null,!0)),t.push(new Ft("cacheControl",null,!0)),t.push(new Ft("contentDisposition",null,!0)),t.push(new Ft("contentEncoding",null,!0)),t.push(new Ft("contentLanguage",null,!0)),t.push(new Ft("contentType",null,!0)),t.push(new Ft("metadata","customMetadata",!0)),Xc=t,Xc}function L9(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new cn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function M9(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return L9(r,t),r}function Tb(t,e,n){const r=wb(e);return r===null?null:M9(t,r,n)}function j9(t,e,n,r){const s=wb(e);if(s===null||!ry(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,p=t.fullPath,f="/b/"+o(h)+"/o/"+o(p),y=iy(f,n,r),T=gb({alt:"media",token:u});return y+T})[0]}function V9(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Sb{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){if(!t)throw ny()}function F9(t,e){function n(r,s){const i=Tb(t,s,e);return Cb(i!==null),i}return n}function U9(t,e){function n(r,s){const i=Tb(t,s,e);return Cb(i!==null),j9(i,s,t.host,t._protocol)}return n}function Ib(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=Z3():s=J3():n.getStatus()===402?s=X3(t.bucket):n.getStatus()===403?s=e9(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function $9(t){const e=Ib(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=Y3(t.path)),i.serverResponse=s.serverResponse,i}return n}function B9(t,e,n){const r=e.fullServerUrl(),s=iy(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Sb(s,i,U9(t,n),o);return a.errorHandler=$9(e),a}function z9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function H9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=z9(null,e)),r}function W9(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let P=0;P<2;P++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=H9(e,r,s),h=V9(u,n),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",y=ns.getBlob(p,r,f);if(y===null)throw o9();const T={name:u.fullPath},v=iy(i,t.host,t._protocol),E="POST",_=t.maxUploadRetryTime,x=new Sb(v,E,F9(t,n),_);return x.urlParams=T,x.headers=o,x.body=y.uploadData(),x.errorHandler=Ib(e),x}class q9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ii.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ii.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ii.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class K9 extends q9{initXhr(){this.xhr_.responseType="text"}}function bb(){return new K9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this._service=e,n instanceof cn?this._location=n:this._location=cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wi(e,n)}get root(){const e=new cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xb(this._location.path)}get storage(){return this._service}get parent(){const e=N9(this._location.path);if(e===null)return null;const n=new cn(this._location.bucket,e);return new wi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw c9(e)}}function G9(t,e,n){t._throwIfRoot("uploadBytes");const r=W9(t.storage,t._location,Eb(),new ns(e,!0),n);return t.storage.makeRequestWithTokens(r,bb).then(s=>({metadata:s,ref:t}))}function Q9(t){t._throwIfRoot("getDownloadURL");const e=B9(t.storage,t._location,Eb());return t.storage.makeRequestWithTokens(e,bb).then(n=>{if(n===null)throw a9();return n})}function Y9(t,e){const n=k9(t._location.path,e),r=new cn(t._location.bucket,n);return new wi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){return/^[A-Za-z]+:\/\//.test(t)}function J9(t,e){return new wi(t,e)}function Ab(t,e){if(t instanceof oy){const n=t;if(n._bucket==null)throw i9();const r=new wi(n,n._bucket);return e!=null?Ab(r,e):r}else return e!==void 0?Y9(t,e):t}function Z9(t,e){if(e&&X9(e)){if(t instanceof oy)return J9(t,e);throw Nm("To use ref(service, url), the first argument must be a Storage instance.")}else return Ab(t,e)}function Kx(t,e){const n=e==null?void 0:e[pb];return n==null?null:cn.makeFromBucketSpec(n,t)}function e$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:aC(s,t.app.options.projectId))}class oy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=fb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=G3,this._maxUploadRetryTime=Q3,this._requests=new Set,s!=null?this._bucket=cn.makeFromBucketSpec(s,this._host):this._bucket=Kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,e):this._bucket=Kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new u9(mb());{const o=x9(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Gx="@firebase/storage",Qx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="storage";function t$(t,e,n){return t=Qe(t),G9(t,e,n)}function n$(t){return t=Qe(t),Q9(t)}function r$(t,e){return t=Qe(t),Z9(t,e)}function s$(t=cv(),e){t=Qe(t);const r=ah(t,Rb).getImmediate({identifier:e}),s=sC("storage");return s&&Pb(r,...s),r}function Pb(t,e,n,r={}){e$(t,e,n,r)}function i$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new oy(n,r,s,e,Ai)}function o$(){mi(new Is(Rb,i$,"PUBLIC").setMultipleInstances(!0)),Qn(Gx,Qx,""),Qn(Gx,Qx,"esm2017")}o$();const a$={apiKey:"AIzaSyBPRQoxz7J4sWs8gb29Ug6JNt7bfTEkz9E",authDomain:"organizador-de-leituras.firebaseapp.com",projectId:"organizador-de-leituras",storageBucket:"organizador-de-leituras.firebasestorage.app",messagingSenderId:"884675539442",appId:"1:884675539442:web:da474ba773ad4e35433b6b",measurementId:"G-VEYZN56VWZ"},ay=uC(a$),Iu=M4(ay),l$=new fr,jo=S3(ay),Nb=s$(ay),c$=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("192.168.")||window.location.hostname.includes("10.0.")||window.location.hostname.includes("172.16.")||window.location.hostname.includes("::1");if(c$)try{PC(Iu,"http://localhost:9099"),rb(jo,"localhost",8080),Pb(Nb,"localhost",9199),console.log("Connected to Firebase Emulators")}catch(t){console.warn("Failed to connect to Firebase Emulators:",t)}const kb=g.createContext(void 0);function ta(){const t=g.useContext(kb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function u$({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(!0);g.useEffect(()=>SF(Iu,async h=>{n(h),s(!1)}),[]);const l={currentUser:e,loading:r,signInWithGoogle:async()=>{try{const h=(await WF(Iu,l$)).user,p=Sd(jo,"users",h.uid);(await z3(p)).exists()||await Hx(p,{email:h.email,displayName:h.displayName||"Usuário",photoURL:h.photoURL,createdAt:new Date}),Je({title:"Login bem sucedido",description:"Você foi conectado com sucesso!"})}catch(u){console.error("Error signing in with Google",u);let h="Ocorreu um erro ao tentar fazer login com o Google.";u.code==="auth/unauthorized-domain"?h="Este domínio não está autorizado para autenticação. Se estiver em desenvolvimento local, configure os emuladores do Firebase ou adicione o domínio ao console do Firebase.":u.code==="auth/popup-closed-by-user"?h="O popup de login foi fechado antes da autenticação ser concluída.":u.code==="auth/cancelled-popup-request"?h="A operação de login foi cancelada.":u.code==="auth/popup-blocked"&&(h="O popup de login foi bloqueado pelo navegador."),Je({title:"Erro ao fazer login",description:h,variant:"destructive"})}},logout:async()=>{try{await CF(Iu),Je({title:"Logout bem sucedido",description:"Você foi desconectado com sucesso!"})}catch(u){console.error("Error signing out",u),Je({title:"Erro ao fazer logout",description:"Ocorreu um erro ao tentar fazer logout.",variant:"destructive"})}},updateUserProfile:async(u,h)=>{if(e)try{let p=e.photoURL;if(h){const y=r$(Nb,`profile_pictures/${e.uid}`);await t$(y,h),p=await n$(y)}await xF(e,{displayName:u,photoURL:p});const f=Sd(jo,"users",e.uid);await Hx(f,{displayName:u,photoURL:p},{merge:!0}),Je({title:"Perfil atualizado",description:"Seu perfil foi atualizado com sucesso!"})}catch(p){console.error("Error updating profile",p),Je({title:"Erro ao atualizar perfil",description:"Ocorreu um erro ao tentar atualizar seu perfil.",variant:"destructive"})}}};return d.jsx(kb.Provider,{value:l,children:t})}const ly=Gd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ae=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?br:"button";return d.jsx(o,{className:re(ly({variant:e,size:n,className:t})),ref:i,...s})});Ae.displayName="Button";var cy="Avatar",[d$,dz]=Os(cy),[h$,Ob]=d$(cy),Db=g.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=g.useState("idle");return d.jsx(h$,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(ge.span,{...r,ref:e})})});Db.displayName=cy;var Lb="AvatarImage",Mb=g.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=Ob(Lb,n),a=f$(r,i.referrerPolicy),l=Ht(u=>{s(u),o.onImageLoadingStatusChange(u)});return mt(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(ge.img,{...i,ref:e,src:r}):null});Mb.displayName=Lb;var jb="AvatarFallback",Vb=g.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=Ob(jb,n),[o,a]=g.useState(r===void 0);return g.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(ge.span,{...s,ref:e}):null});Vb.displayName=jb;function f$(t,e){const[n,r]=g.useState("idle");return mt(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var Fb=Db,Ub=Mb,$b=Vb;const uy=g.forwardRef(({className:t,...e},n)=>d.jsx(Fb,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));uy.displayName=Fb.displayName;const dy=g.forwardRef(({className:t,...e},n)=>d.jsx(Ub,{ref:n,className:re("aspect-square h-full w-full",t),...e}));dy.displayName=Ub.displayName;const hy=g.forwardRef(({className:t,...e},n)=>d.jsx($b,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));hy.displayName=$b.displayName;var Hf=0;function fy(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Yx()),document.body.insertAdjacentElement("beforeend",t[1]??Yx()),Hf++,()=>{Hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Hf--}},[])}function Yx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Wf="focusScope.autoFocusOnMount",qf="focusScope.autoFocusOnUnmount",Xx={bubbles:!1,cancelable:!0},p$="FocusScope",Ch=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=g.useState(null),u=Ht(s),h=Ht(i),p=g.useRef(null),f=Re(e,v=>l(v)),y=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(S){if(y.paused||!a)return;const P=S.target;a.contains(P)?p.current=P:Kr(p.current,{select:!0})},E=function(S){if(y.paused||!a)return;const P=S.relatedTarget;P!==null&&(a.contains(P)||Kr(p.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Kr(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const x=new MutationObserver(_);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),x.disconnect()}}},[r,a,y.paused]),g.useEffect(()=>{if(a){Zx.add(y);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Wf,Xx);a.addEventListener(Wf,u),a.dispatchEvent(_),_.defaultPrevented||(m$(w$(Bb(a)),{select:!0}),document.activeElement===v&&Kr(a))}return()=>{a.removeEventListener(Wf,u),setTimeout(()=>{const _=new CustomEvent(qf,Xx);a.addEventListener(qf,h),a.dispatchEvent(_),_.defaultPrevented||Kr(v??document.body,{select:!0}),a.removeEventListener(qf,h),Zx.remove(y)},0)}}},[a,u,h,y]);const T=g.useCallback(v=>{if(!n&&!r||y.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(E&&_){const x=v.currentTarget,[S,P]=g$(x);S&&P?!v.shiftKey&&_===P?(v.preventDefault(),n&&Kr(S,{select:!0})):v.shiftKey&&_===S&&(v.preventDefault(),n&&Kr(P,{select:!0})):_===x&&v.preventDefault()}},[n,r,y.paused]);return d.jsx(ge.div,{tabIndex:-1,...o,ref:f,onKeyDown:T})});Ch.displayName=p$;function m$(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Kr(r,{select:e}),document.activeElement!==n)return}function g$(t){const e=Bb(t),n=Jx(e,t),r=Jx(e.reverse(),t);return[n,r]}function Bb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Jx(t,e){for(const n of t)if(!v$(n,{upTo:e}))return n}function v$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function y$(t){return t instanceof HTMLInputElement&&"select"in t}function Kr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&y$(t)&&e&&t.select()}}var Zx=_$();function _$(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=eE(t,e),t.unshift(e)},remove(e){var n;t=eE(t,e),(n=t[0])==null||n.resume()}}}function eE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function w$(t){return t.filter(e=>e.tagName!=="A")}var x$=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ji=new WeakMap,Jc=new WeakMap,Zc={},Kf=0,zb=function(t){return t&&(t.host||zb(t.parentNode))},E$=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=zb(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},T$=function(t,e,n,r){var s=E$(e,Array.isArray(t)?t:[t]);Zc[n]||(Zc[n]=new WeakMap);var i=Zc[n],o=[],a=new Set,l=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(f){if(a.has(f))h(f);else try{var y=f.getAttribute(r),T=y!==null&&y!=="false",v=(ji.get(f)||0)+1,E=(i.get(f)||0)+1;ji.set(f,v),i.set(f,E),o.push(f),v===1&&T&&Jc.set(f,!0),E===1&&f.setAttribute(n,"true"),T||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return h(e),a.clear(),Kf++,function(){o.forEach(function(p){var f=ji.get(p)-1,y=i.get(p)-1;ji.set(p,f),i.set(p,y),f||(Jc.has(p)||p.removeAttribute(r),Jc.delete(p)),y||p.removeAttribute(n)}),Kf--,Kf||(ji=new WeakMap,ji=new WeakMap,Jc=new WeakMap,Zc={})}},py=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=x$(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),T$(r,s,n,"aria-hidden")):function(){return null}},bu="right-scroll-bar-position",Au="width-before-scroll-bar",S$="with-scroll-bars-hidden",C$="--removed-body-scroll-bar-size";function Gf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function I$(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var b$=typeof window<"u"?g.useLayoutEffect:g.useEffect,tE=new WeakMap;function A$(t,e){var n=I$(null,function(r){return t.forEach(function(s){return Gf(s,r)})});return b$(function(){var r=tE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Gf(a,null)}),i.forEach(function(a){s.has(a)||Gf(a,o)})}tE.set(n,t)},[t]),n}function R$(t){return t}function P$(t,e){e===void 0&&(e=R$);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function N$(t){t===void 0&&(t={});var e=P$(null);return e.options=Wn({async:!0,ssr:!1},t),e}var Hb=function(t){var e=t.sideCar,n=Wl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Wn({},n))};Hb.isSideCarExport=!0;function k$(t,e){return t.useMedium(e),Hb}var Wb=N$(),Qf=function(){},Ih=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Qf,onWheelCapture:Qf,onTouchMoveCapture:Qf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,p=t.shards,f=t.sideCar,y=t.noIsolation,T=t.inert,v=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,x=t.gapMode,S=Wl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=f,D=A$([n,e]),L=Wn(Wn({},S),s);return g.createElement(g.Fragment,null,h&&g.createElement(P,{sideCar:Wb,removeScrollBar:u,shards:p,noIsolation:y,inert:T,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:x}),o?g.cloneElement(g.Children.only(a),Wn(Wn({},L),{ref:D})):g.createElement(_,Wn({},L,{className:l,ref:D}),a))});Ih.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ih.classNames={fullWidth:Au,zeroRight:bu};var O$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=O$();return e&&t.setAttribute("nonce",e),t}function L$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function M$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var j$=function(){var t=0,e=null;return{add:function(n){t==0&&(e=D$())&&(L$(e,n),M$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V$=function(){var t=j$();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},qb=function(){var t=V$(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},F$={left:0,top:0,right:0,gap:0},Yf=function(t){return parseInt(t||"",10)||0},U$=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Yf(n),Yf(r),Yf(s)]},$$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return F$;var e=U$(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},B$=qb(),mo="data-scroll-locked",z$=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(S$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Au,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(bu," .").concat(bu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Au," .").concat(Au,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mo,`] {
    `).concat(C$,": ").concat(a,`px;
  }
`)},nE=function(){var t=parseInt(document.body.getAttribute(mo)||"0",10);return isFinite(t)?t:0},H$=function(){g.useEffect(function(){return document.body.setAttribute(mo,(nE()+1).toString()),function(){var t=nE()-1;t<=0?document.body.removeAttribute(mo):document.body.setAttribute(mo,t.toString())}},[])},W$=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;H$();var i=g.useMemo(function(){return $$(s)},[s]);return g.createElement(B$,{styles:z$(i,!e,s,n?"":"!important")})},km=!1;if(typeof window<"u")try{var eu=Object.defineProperty({},"passive",{get:function(){return km=!0,!0}});window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{km=!1}var Vi=km?{passive:!1}:!1,q$=function(t){return t.tagName==="TEXTAREA"},Kb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!q$(t)&&n[e]==="visible")},K$=function(t){return Kb(t,"overflowY")},G$=function(t){return Kb(t,"overflowX")},rE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Gb(t,r);if(s){var i=Qb(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Q$=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Y$=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Gb=function(t,e){return t==="v"?K$(e):G$(e)},Qb=function(t,e){return t==="v"?Q$(e):Y$(e)},X$=function(t,e){return t==="h"&&e==="rtl"?-1:1},J$=function(t,e,n,r,s){var i=X$(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,h=o>0,p=0,f=0;do{var y=Qb(t,a),T=y[0],v=y[1],E=y[2],_=v-E-i*T;(T||_)&&Gb(t,a)&&(p+=_,f+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(u=!0),u},tu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sE=function(t){return[t.deltaX,t.deltaY]},iE=function(t){return t&&"current"in t?t.current:t},Z$=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},t6=0,Fi=[];function n6(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(t6++)[0],i=g.useState(qb)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=MV([t.lockRef.current],(t.shards||[]).map(iE),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=tu(v),x=n.current,S="deltaX"in v?v.deltaX:x[0]-_[0],P="deltaY"in v?v.deltaY:x[1]-_[1],D,L=v.target,I=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in v&&I==="h"&&L.type==="range")return!1;var C=rE(I,L);if(!C)return!0;if(C?D=I:(D=I==="v"?"h":"v",C=rE(I,L)),!C)return!1;if(!r.current&&"changedTouches"in v&&(S||P)&&(r.current=D),!D)return!0;var R=r.current||D;return J$(R,E,v,R==="h"?S:P,!0)},[]),l=g.useCallback(function(v){var E=v;if(!(!Fi.length||Fi[Fi.length-1]!==i)){var _="deltaY"in E?sE(E):tu(E),x=e.current.filter(function(D){return D.name===E.type&&(D.target===E.target||E.target===D.shadowParent)&&Z$(D.delta,_)})[0];if(x&&x.should){E.cancelable&&E.preventDefault();return}if(!x){var S=(o.current.shards||[]).map(iE).filter(Boolean).filter(function(D){return D.contains(E.target)}),P=S.length>0?a(E,S[0]):!o.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),u=g.useCallback(function(v,E,_,x){var S={name:v,delta:E,target:_,should:x,shadowParent:r6(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(P){return P!==S})},1)},[]),h=g.useCallback(function(v){n.current=tu(v),r.current=void 0},[]),p=g.useCallback(function(v){u(v.type,sE(v),v.target,a(v,t.lockRef.current))},[]),f=g.useCallback(function(v){u(v.type,tu(v),v.target,a(v,t.lockRef.current))},[]);g.useEffect(function(){return Fi.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Vi),document.addEventListener("touchmove",l,Vi),document.addEventListener("touchstart",h,Vi),function(){Fi=Fi.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Vi),document.removeEventListener("touchmove",l,Vi),document.removeEventListener("touchstart",h,Vi)}},[]);var y=t.removeScrollBar,T=t.inert;return g.createElement(g.Fragment,null,T?g.createElement(i,{styles:e6(s)}):null,y?g.createElement(W$,{gapMode:t.gapMode}):null)}function r6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const s6=k$(Wb,n6);var bh=g.forwardRef(function(t,e){return g.createElement(Ih,Wn({},t,{ref:e,sideCar:s6}))});bh.classNames=Ih.classNames;var my="Popover",[Yb,hz]=Os(my,[Go]),rc=Go(),[i6,js]=Yb(my),Xb=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=rc(e),l=g.useRef(null),[u,h]=g.useState(!1),[p=!1,f]=hi({prop:r,defaultProp:s,onChange:i});return d.jsx(RS,{...a,children:d.jsx(i6,{scope:e,contentId:xr(),triggerRef:l,open:p,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(y=>!y),[f]),hasCustomAnchor:u,onCustomAnchorAdd:g.useCallback(()=>h(!0),[]),onCustomAnchorRemove:g.useCallback(()=>h(!1),[]),modal:o,children:n})})};Xb.displayName=my;var Jb="PopoverAnchor",o6=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=js(Jb,n),i=rc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return g.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(Jd,{...i,...r,ref:e})});o6.displayName=Jb;var Zb="PopoverTrigger",eA=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=js(Zb,n),i=rc(n),o=Re(e,s.triggerRef),a=d.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":iA(s.open),...r,ref:o,onClick:oe(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(Jd,{asChild:!0,...i,children:a})});eA.displayName=Zb;var gy="PopoverPortal",[a6,l6]=Yb(gy,{forceMount:void 0}),tA=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=js(gy,e);return d.jsx(a6,{scope:e,forceMount:n,children:d.jsx(Lr,{present:n||i.open,children:d.jsx(Ul,{asChild:!0,container:s,children:r})})})};tA.displayName=gy;var Vo="PopoverContent",nA=g.forwardRef((t,e)=>{const n=l6(Vo,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=js(Vo,t.__scopePopover);return d.jsx(Lr,{present:r||i.open,children:i.modal?d.jsx(c6,{...s,ref:e}):d.jsx(u6,{...s,ref:e})})});nA.displayName=Vo;var c6=g.forwardRef((t,e)=>{const n=js(Vo,t.__scopePopover),r=g.useRef(null),s=Re(e,r),i=g.useRef(!1);return g.useEffect(()=>{const o=r.current;if(o)return py(o)},[]),d.jsx(bh,{as:br,allowPinchZoom:!0,children:d.jsx(rA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),u6=g.forwardRef((t,e)=>{const n=js(Vo,t.__scopePopover),r=g.useRef(!1),s=g.useRef(!1);return d.jsx(rA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),rA=g.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,...p}=t,f=js(Vo,n),y=rc(n);return fy(),d.jsx(Ch,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Ho,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:d.jsx(Qg,{"data-state":iA(f.open),role:"dialog",id:f.contentId,...y,...p,ref:e,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),sA="PopoverClose",d6=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=js(sA,n);return d.jsx(ge.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>s.onOpenChange(!1))})});d6.displayName=sA;var h6="PopoverArrow",f6=g.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=rc(n);return d.jsx(Yg,{...s,...r,ref:e})});f6.displayName=h6;function iA(t){return t?"open":"closed"}var p6=Xb,m6=eA,g6=tA,oA=nA;const aA=p6,lA=m6,vy=g.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>d.jsx(g6,{children:d.jsx(oA,{ref:s,align:e,sideOffset:n,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));vy.displayName=oA.displayName;const v6=()=>{var o;const{currentUser:t,logout:e}=ta(),n=bi(),{toast:r}=E1(),s=async()=>{try{await e()}catch{r({title:"Erro ao fazer logout",description:"Ocorreu um erro ao tentar sair.",variant:"destructive"})}},i=a=>n.pathname===a?"bg-secondary text-white":"";return d.jsx("header",{className:"bg-card border-b border-border",children:d.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[d.jsxs(Bn,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary",children:[d.jsx(ms,{size:28}),d.jsx("span",{children:"Organizador de Leituras"})]}),t?d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[d.jsx(Bn,{to:"/",className:`px-3 py-2 rounded-md hover:bg-secondary transition-colors ${i("/")}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Q2,{size:18}),d.jsx("span",{children:"Início"})]})}),d.jsx(Bn,{to:"/add-book",className:`px-3 py-2 rounded-md hover:bg-secondary transition-colors ${i("/add-book")}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fi,{size:18}),d.jsx("span",{children:"Adicionar Livro"})]})}),d.jsx(Bn,{to:"/collection",className:`px-3 py-2 rounded-md hover:bg-secondary transition-colors ${i("/collection")}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ms,{size:18}),d.jsx("span",{children:"Minha Coleção"})]})})]}),d.jsxs(aA,{children:[d.jsx(lA,{asChild:!0,children:d.jsx(Ae,{variant:"ghost",className:"rounded-full p-0 h-10 w-10",children:d.jsxs(uy,{children:[d.jsx(dy,{src:t.photoURL||void 0,alt:t.displayName||"Usuário"}),d.jsx(hy,{children:(((o=t.displayName)==null?void 0:o.charAt(0))||"U").toUpperCase()})]})})}),d.jsx(vy,{className:"w-56 mr-4",align:"end",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[d.jsx("p",{className:"text-sm font-medium",children:t.displayName||"Usuário"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.email})]}),d.jsx(Bn,{to:"/profile",children:d.jsxs(Ae,{variant:"outline",className:"w-full justify-start",children:[d.jsx(Z2,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Perfil"})]})}),d.jsx(Ae,{variant:"outline",className:"w-full justify-start",onClick:s,children:d.jsx("span",{children:"Sair"})})]})})]})]}):d.jsx(Ae,{variant:"default",asChild:!0,children:d.jsx(Bn,{to:"/login",children:"Entrar"})})]})})};async function yy(t){try{const e=j3(T3(jo,"books"),V3("userId","==",t));return(await H3(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching books:",e),e}}async function Om(t,e){try{const n=Object.entries(e).reduce((s,[i,o])=>(o!==void 0&&(s[i]=o),s),{}),r=Sd(jo,"books",t);await W3(r,n)}catch(n){throw console.error("Error updating book:",n),n}}async function cA(t){try{const e=Sd(jo,"books",t);await q3(e)}catch(e){throw console.error("Error deleting book:",e),e}}function oE(t,[e,n]){return Math.min(n,Math.max(e,t))}var y6=g.createContext(void 0);function _y(t){const e=g.useContext(y6);return t||e||"ltr"}function _6(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var w6=[" ","Enter","ArrowUp","ArrowDown"],x6=[" ","Enter"],sc="Select",[Ah,Rh,E6]=Lg(sc),[na,fz]=Os(sc,[E6,Go]),Ph=Go(),[T6,Vs]=na(sc),[S6,C6]=na(sc),uA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:p,disabled:f,required:y,form:T}=t,v=Ph(e),[E,_]=g.useState(null),[x,S]=g.useState(null),[P,D]=g.useState(!1),L=_y(u),[I=!1,C]=hi({prop:r,defaultProp:s,onChange:i}),[R,N]=hi({prop:o,defaultProp:a,onChange:l}),k=g.useRef(null),O=E?T||!!E.closest("form"):!0,[b,$]=g.useState(new Set),ne=Array.from(b).map(G=>G.props.value).join(";");return d.jsx(RS,{...v,children:d.jsxs(T6,{required:y,scope:e,trigger:E,onTriggerChange:_,valueNode:x,onValueNodeChange:S,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:xr(),value:R,onValueChange:N,open:I,onOpenChange:C,dir:L,triggerPointerDownPosRef:k,disabled:f,children:[d.jsx(Ah.Provider,{scope:e,children:d.jsx(S6,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(G=>{$(ie=>new Set(ie).add(G))},[]),onNativeOptionRemove:g.useCallback(G=>{$(ie=>{const j=new Set(ie);return j.delete(G),j})},[]),children:n})}),O?d.jsxs(LA,{"aria-hidden":!0,required:y,tabIndex:-1,name:h,autoComplete:p,value:R,onChange:G=>N(G.target.value),disabled:f,form:T,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(b)]},ne):null]})})};uA.displayName=sc;var dA="SelectTrigger",hA=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ph(n),o=Vs(dA,n),a=o.disabled||r,l=Re(e,o.onTriggerChange),u=Rh(n),h=g.useRef("touch"),[p,f,y]=MA(v=>{const E=u().filter(S=>!S.disabled),_=E.find(S=>S.value===o.value),x=jA(E,v,_);x!==void 0&&o.onValueChange(x.value)}),T=v=>{a||(o.onOpenChange(!0),y()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(Jd,{asChild:!0,...i,children:d.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":DA(o.value)?"":void 0,...s,ref:l,onClick:oe(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&T(v)}),onPointerDown:oe(s.onPointerDown,v=>{h.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(T(v),v.preventDefault())}),onKeyDown:oe(s.onKeyDown,v=>{const E=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(E&&v.key===" ")&&w6.includes(v.key)&&(T(),v.preventDefault())})})})});hA.displayName=dA;var fA="SelectValue",pA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Vs(fA,n),{onValueNodeHasChildrenChange:u}=l,h=i!==void 0,p=Re(e,l.onValueNodeChange);return mt(()=>{u(h)},[u,h]),d.jsx(ge.span,{...a,ref:p,style:{pointerEvents:"none"},children:DA(l.value)?d.jsx(d.Fragment,{children:o}):i})});pA.displayName=fA;var I6="SelectIcon",mA=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(ge.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});mA.displayName=I6;var b6="SelectPortal",gA=t=>d.jsx(Ul,{asChild:!0,...t});gA.displayName=b6;var xi="SelectContent",vA=g.forwardRef((t,e)=>{const n=Vs(xi,t.__scopeSelect),[r,s]=g.useState();if(mt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Ci.createPortal(d.jsx(yA,{scope:t.__scopeSelect,children:d.jsx(Ah.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(_A,{...t,ref:e})});vA.displayName=xi;var Sn=10,[yA,Fs]=na(xi),A6="SelectContentImpl",_A=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:E,..._}=t,x=Vs(xi,n),[S,P]=g.useState(null),[D,L]=g.useState(null),I=Re(e,K=>P(K)),[C,R]=g.useState(null),[N,k]=g.useState(null),O=Rh(n),[b,$]=g.useState(!1),ne=g.useRef(!1);g.useEffect(()=>{if(S)return py(S)},[S]),fy();const G=g.useCallback(K=>{const[he,...xe]=O().map(ye=>ye.ref.current),[le]=xe.slice(-1),fe=document.activeElement;for(const ye of K)if(ye===fe||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===he&&D&&(D.scrollTop=0),ye===le&&D&&(D.scrollTop=D.scrollHeight),ye==null||ye.focus(),document.activeElement!==fe))return},[O,D]),ie=g.useCallback(()=>G([C,S]),[G,C,S]);g.useEffect(()=>{b&&ie()},[b,ie]);const{onOpenChange:j,triggerPointerDownPosRef:z}=x;g.useEffect(()=>{if(S){let K={x:0,y:0};const he=le=>{var fe,ye;K={x:Math.abs(Math.round(le.pageX)-(((fe=z.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(le.pageY)-(((ye=z.current)==null?void 0:ye.y)??0))}},xe=le=>{K.x<=10&&K.y<=10?le.preventDefault():S.contains(le.target)||j(!1),document.removeEventListener("pointermove",he),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",xe,{capture:!0})}}},[S,j,z]),g.useEffect(()=>{const K=()=>j(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[j]);const[X,Q]=MA(K=>{const he=O().filter(fe=>!fe.disabled),xe=he.find(fe=>fe.ref.current===document.activeElement),le=jA(he,K,xe);le&&setTimeout(()=>le.ref.current.focus())}),Y=g.useCallback((K,he,xe)=>{const le=!ne.current&&!xe;(x.value!==void 0&&x.value===he||le)&&(R(K),le&&(ne.current=!0))},[x.value]),se=g.useCallback(()=>S==null?void 0:S.focus(),[S]),Te=g.useCallback((K,he,xe)=>{const le=!ne.current&&!xe;(x.value!==void 0&&x.value===he||le)&&k(K)},[x.value]),F=r==="popper"?Dm:wA,ee=F===Dm?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:f,collisionPadding:y,sticky:T,hideWhenDetached:v,avoidCollisions:E}:{};return d.jsx(yA,{scope:n,content:S,viewport:D,onViewportChange:L,itemRefCallback:Y,selectedItem:C,onItemLeave:se,itemTextRefCallback:Te,focusSelectedItem:ie,selectedItemText:N,position:r,isPositioned:b,searchRef:X,children:d.jsx(bh,{as:br,allowPinchZoom:!0,children:d.jsx(Ch,{asChild:!0,trapped:x.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:oe(s,K=>{var he;(he=x.trigger)==null||he.focus({preventScroll:!0}),K.preventDefault()}),children:d.jsx(Ho,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:d.jsx(F,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:K=>K.preventDefault(),..._,...ee,onPlaced:()=>$(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:oe(_.onKeyDown,K=>{const he=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!he&&K.key.length===1&&Q(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let le=O().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(K.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const fe=K.target,ye=le.indexOf(fe);le=le.slice(ye+1)}setTimeout(()=>G(le)),K.preventDefault()}})})})})})})});_A.displayName=A6;var R6="SelectItemAlignedPosition",wA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Vs(xi,n),o=Fs(xi,n),[a,l]=g.useState(null),[u,h]=g.useState(null),p=Re(e,I=>h(I)),f=Rh(n),y=g.useRef(!1),T=g.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:_,focusSelectedItem:x}=o,S=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&v&&E&&_){const I=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),N=_.getBoundingClientRect();if(i.dir!=="rtl"){const fe=N.left-C.left,ye=R.left-fe,at=I.left-ye,gt=I.width+at,mn=Math.max(gt,C.width),jt=window.innerWidth-Sn,ir=oE(ye,[Sn,Math.max(Sn,jt-mn)]);a.style.minWidth=gt+"px",a.style.left=ir+"px"}else{const fe=C.right-N.right,ye=window.innerWidth-R.right-fe,at=window.innerWidth-I.right-ye,gt=I.width+at,mn=Math.max(gt,C.width),jt=window.innerWidth-Sn,ir=oE(ye,[Sn,Math.max(Sn,jt-mn)]);a.style.minWidth=gt+"px",a.style.right=ir+"px"}const k=f(),O=window.innerHeight-Sn*2,b=v.scrollHeight,$=window.getComputedStyle(u),ne=parseInt($.borderTopWidth,10),G=parseInt($.paddingTop,10),ie=parseInt($.borderBottomWidth,10),j=parseInt($.paddingBottom,10),z=ne+G+b+j+ie,X=Math.min(E.offsetHeight*5,z),Q=window.getComputedStyle(v),Y=parseInt(Q.paddingTop,10),se=parseInt(Q.paddingBottom,10),Te=I.top+I.height/2-Sn,F=O-Te,ee=E.offsetHeight/2,K=E.offsetTop+ee,he=ne+G+K,xe=z-he;if(he<=Te){const fe=k.length>0&&E===k[k.length-1].ref.current;a.style.bottom="0px";const ye=u.clientHeight-v.offsetTop-v.offsetHeight,at=Math.max(F,ee+(fe?se:0)+ye+ie),gt=he+at;a.style.height=gt+"px"}else{const fe=k.length>0&&E===k[0].ref.current;a.style.top="0px";const at=Math.max(Te,ne+v.offsetTop+(fe?Y:0)+ee)+xe;a.style.height=at+"px",v.scrollTop=he-Te+v.offsetTop}a.style.margin=`${Sn}px 0`,a.style.minHeight=X+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>y.current=!0)}},[f,i.trigger,i.valueNode,a,u,v,E,_,i.dir,r]);mt(()=>S(),[S]);const[P,D]=g.useState();mt(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const L=g.useCallback(I=>{I&&T.current===!0&&(S(),x==null||x(),T.current=!1)},[S,x]);return d.jsx(N6,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:y,onScrollButtonChange:L,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:d.jsx(ge.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});wA.displayName=R6;var P6="SelectPopperPosition",Dm=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Sn,...i}=t,o=Ph(n);return d.jsx(Qg,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Dm.displayName=P6;var[N6,wy]=na(xi,{}),Lm="SelectViewport",xA=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Fs(Lm,n),o=wy(Lm,n),a=Re(e,i.onViewportChange),l=g.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Ah.Slot,{scope:n,children:d.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&p){const y=Math.abs(l.current-h.scrollTop);if(y>0){const T=window.innerHeight-Sn*2,v=parseFloat(p.style.minHeight),E=parseFloat(p.style.height),_=Math.max(v,E);if(_<T){const x=_+y,S=Math.min(T,x),P=x-S;p.style.height=S+"px",p.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});xA.displayName=Lm;var EA="SelectGroup",[k6,O6]=na(EA),D6=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=xr();return d.jsx(k6,{scope:n,id:s,children:d.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:e})})});D6.displayName=EA;var TA="SelectLabel",SA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=O6(TA,n);return d.jsx(ge.div,{id:s.id,...r,ref:e})});SA.displayName=TA;var Id="SelectItem",[L6,CA]=na(Id),IA=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Vs(Id,n),l=Fs(Id,n),u=a.value===r,[h,p]=g.useState(i??""),[f,y]=g.useState(!1),T=Re(e,x=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,x,r,s)}),v=xr(),E=g.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(L6,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:g.useCallback(x=>{p(S=>S||((x==null?void 0:x.textContent)??"").trim())},[]),children:d.jsx(Ah.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(ge.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:oe(o.onFocus,()=>y(!0)),onBlur:oe(o.onBlur,()=>y(!1)),onClick:oe(o.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:oe(o.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:oe(o.onPointerDown,x=>{E.current=x.pointerType}),onPointerMove:oe(o.onPointerMove,x=>{var S;E.current=x.pointerType,s?(S=l.onItemLeave)==null||S.call(l):E.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,x=>{var S;x.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:oe(o.onKeyDown,x=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&x.key===" "||(x6.includes(x.key)&&_(),x.key===" "&&x.preventDefault())})})})})});IA.displayName=Id;var Fa="SelectItemText",bA=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Vs(Fa,n),a=Fs(Fa,n),l=CA(Fa,n),u=C6(Fa,n),[h,p]=g.useState(null),f=Re(e,_=>p(_),l.onItemTextChange,_=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,_,l.value,l.disabled)}),y=h==null?void 0:h.textContent,T=g.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:y},l.value),[l.disabled,l.value,y]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=u;return mt(()=>(v(T),()=>E(T)),[v,E,T]),d.jsxs(d.Fragment,{children:[d.jsx(ge.span,{id:l.textId,...i,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ci.createPortal(i.children,o.valueNode):null]})});bA.displayName=Fa;var AA="SelectItemIndicator",RA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return CA(AA,n).isSelected?d.jsx(ge.span,{"aria-hidden":!0,...r,ref:e}):null});RA.displayName=AA;var Mm="SelectScrollUpButton",PA=g.forwardRef((t,e)=>{const n=Fs(Mm,t.__scopeSelect),r=wy(Mm,t.__scopeSelect),[s,i]=g.useState(!1),o=Re(e,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(kA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PA.displayName=Mm;var jm="SelectScrollDownButton",NA=g.forwardRef((t,e)=>{const n=Fs(jm,t.__scopeSelect),r=wy(jm,t.__scopeSelect),[s,i]=g.useState(!1),o=Re(e,r.onScrollButtonChange);return mt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(kA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});NA.displayName=jm;var kA=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Fs("SelectScrollButton",n),o=g.useRef(null),a=Rh(n),l=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>l(),[l]),mt(()=>{var h;const u=a().find(p=>p.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(ge.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{l()})})}),M6="SelectSeparator",OA=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(ge.div,{"aria-hidden":!0,...r,ref:e})});OA.displayName=M6;var Vm="SelectArrow",j6=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ph(n),i=Vs(Vm,n),o=Fs(Vm,n);return i.open&&o.position==="popper"?d.jsx(Yg,{...s,...r,ref:e}):null});j6.displayName=Vm;function DA(t){return t===""||t===void 0}var LA=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=g.useRef(null),i=Re(e,s),o=_6(n);return g.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),d.jsx($l,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});LA.displayName="BubbleSelect";function MA(t){const e=Ht(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function jA(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=V6(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function V6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var F6=uA,VA=hA,U6=pA,$6=mA,B6=gA,FA=vA,z6=xA,UA=SA,$A=IA,H6=bA,W6=RA,BA=PA,zA=NA,HA=OA;const Nl=F6,kl=U6,Fo=g.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(VA,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx($6,{asChild:!0,children:d.jsx(Y1,{className:"h-4 w-4 opacity-50"})})]}));Fo.displayName=VA.displayName;const WA=g.forwardRef(({className:t,...e},n)=>d.jsx(BA,{ref:n,className:re("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(J2,{className:"h-4 w-4"})}));WA.displayName=BA.displayName;const qA=g.forwardRef(({className:t,...e},n)=>d.jsx(zA,{ref:n,className:re("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Y1,{className:"h-4 w-4"})}));qA.displayName=zA.displayName;const Uo=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(B6,{children:d.jsxs(FA,{ref:s,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(WA,{}),d.jsx(z6,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(qA,{})]})}));Uo.displayName=FA.displayName;const q6=g.forwardRef(({className:t,...e},n)=>d.jsx(UA,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));q6.displayName=UA.displayName;const ct=g.forwardRef(({className:t,children:e,...n},r)=>d.jsxs($A,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(W6,{children:d.jsx(X2,{className:"h-4 w-4"})})}),d.jsx(H6,{children:e})]}));ct.displayName=$A.displayName;const K6=g.forwardRef(({className:t,...e},n)=>d.jsx(HA,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",t),...e}));K6.displayName=HA.displayName;const Nh=g.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Nh.displayName="Card";const xy=g.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",t),...e}));xy.displayName="CardHeader";const Ey=g.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ey.displayName="CardTitle";const Ty=g.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",t),...e}));Ty.displayName="CardDescription";const kh=g.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:re("p-6 pt-0",t),...e}));kh.displayName="CardContent";const Sy=g.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",t),...e}));Sy.displayName="CardFooter";const oi=({rating:t,size:e=24,editable:n=!1,onChange:r})=>{const s=Math.floor(t),i=t%1>=.5,o=()=>{const a=[];for(let l=0;l<5;l++)l<s?a.push(d.jsx(nw,{size:e,fill:"currentColor",className:n?"cursor-pointer":"",onClick:()=>n&&r&&r(l+1)},`star-${l}`)):l===s&&i?a.push(d.jsx(eO,{size:e,fill:"currentColor",className:n?"cursor-pointer":"",onClick:()=>n&&r&&r(l+.5)},`star-half-${l}`)):a.push(d.jsx(nw,{size:e,className:`${n?"cursor-pointer":""} text-gray-400`,onClick:()=>n&&r&&r(l+1)},`star-empty-${l}`));return a};return d.jsx("div",{className:"star-rating",children:o()})},G6=Gd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Q6({className:t,variant:e,...n}){return d.jsx("div",{className:re(G6({variant:e}),t),...n})}const Ol=({status:t})=>{const e=()=>{switch(t){case"Lido":return"bg-green-500 hover:bg-green-600";case"Não Lido":return"bg-amber-500 hover:bg-amber-600";case"Lendo":return"bg-blue-500 hover:bg-blue-600";default:return"bg-gray-500 hover:bg-gray-600"}};return d.jsx(Q6,{className:`${e()} text-white`,children:t})},Y6=()=>{const{currentUser:t,loading:e}=ta(),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,a]=g.useState(!0),[l,u]=g.useState("Todos");g.useEffect(()=>{t?h():a(!1)},[t]),g.useEffect(()=>{n.length>0&&p()},[n,l]);const h=async()=>{if(t){a(!0);try{const f=await yy(t.uid);r(f),i(f)}catch(f){console.error("Error loading books:",f),Je({title:"Erro ao carregar livros",description:"Não foi possível carregar sua coleção de livros. Tente novamente.",variant:"destructive"})}finally{a(!1)}}},p=()=>{i(l==="Todos"?n:n.filter(f=>f.status===l))};return e?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Meu Organizador de Leituras"}),d.jsxs("p",{className:"text-muted-foreground",children:["Bem-vindo de volta, ",t.displayName||"Leitor"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(Nl,{value:l,onValueChange:u,children:[d.jsx(Fo,{className:"w-40",children:d.jsx(kl,{placeholder:"Status"})}),d.jsxs(Uo,{children:[d.jsx(ct,{value:"Todos",children:"Todos"}),d.jsx(ct,{value:"Lido",children:"Lido"}),d.jsx(ct,{value:"Não Lido",children:"Não Lido"}),d.jsx(ct,{value:"Lendo",children:"Lendo"})]})]}),d.jsx(Ae,{asChild:!0,children:d.jsxs(Bn,{to:"/add-book",children:[d.jsx(fi,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})})]})]}),o?d.jsx("div",{className:"flex justify-center items-center py-20",children:d.jsx(Fg,{className:"h-8 w-8 animate-spin text-purple-500"})}):s.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx(ms,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-medium mb-2",children:"Nenhum livro encontrado"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:n.length===0?"Sua coleção está vazia. Adicione seu primeiro livro!":"Nenhum livro corresponde ao filtro selecionado."}),n.length===0&&d.jsx(Ae,{asChild:!0,children:d.jsxs(Bn,{to:"/add-book",children:[d.jsx(fi,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(f=>d.jsx(Bn,{to:"/collection",children:d.jsx(Nh,{className:"h-full hover:border-primary transition-colors overflow-hidden",children:d.jsxs(kh,{className:"p-0 flex",children:[d.jsx("div",{className:"h-auto w-24 overflow-hidden",children:d.jsx("img",{src:f.coverUrl||"/placeholder.svg",alt:f.title,className:"h-full w-full object-cover",style:{minHeight:"180px"},onError:y=>{y.target.src="/placeholder.svg"}})}),d.jsx("div",{className:"flex-1 p-4",children:d.jsxs("div",{className:"flex flex-col h-full justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-1 line-clamp-2",children:f.title}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:f.author})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{children:d.jsx(Ol,{status:f.status})}),f.rating!==void 0&&d.jsx("div",{className:"flex items-center",children:d.jsx(oi,{rating:f.rating,size:16})})]})]})})]})})},f.id))})]}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-purple-800",children:d.jsx("div",{className:"container mx-auto px-4 py-20",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsx(ms,{className:"mx-auto h-24 w-24 text-purple-300 mb-6"}),d.jsx("h1",{className:"text-5xl font-bold mb-6 text-white",children:"Organizador de Leituras"}),d.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Organize sua coleção de livros, acompanhe suas leituras e mantenha anotações em um só lugar."}),d.jsx("div",{className:"space-y-4",children:d.jsx(Ae,{size:"lg",className:"w-full sm:w-auto",asChild:!0,children:d.jsx(Bn,{to:"/login",children:"Começar agora"})})}),d.jsxs("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"bg-card/80 backdrop-blur p-6 rounded-lg",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-4 mx-auto",children:d.jsx(ms,{className:"h-6 w-6 text-purple-300"})}),d.jsx("h3",{className:"text-xl font-medium mb-2",children:"Catalogação"}),d.jsx("p",{className:"text-muted-foreground",children:"Organize seus livros com informações completas e pesquisáveis."})]}),d.jsxs("div",{className:"bg-card/80 backdrop-blur p-6 rounded-lg",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-4 mx-auto",children:d.jsx("svg",{className:"h-6 w-6 text-purple-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),d.jsx("h3",{className:"text-xl font-medium mb-2",children:"Acompanhamento"}),d.jsx("p",{className:"text-muted-foreground",children:"Marque livros como lidos, não lidos ou em andamento."})]}),d.jsxs("div",{className:"bg-card/80 backdrop-blur p-6 rounded-lg",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-4 mx-auto",children:d.jsx("svg",{className:"h-6 w-6 text-purple-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),d.jsx("h3",{className:"text-xl font-medium mb-2",children:"Anotações"}),d.jsx("p",{className:"text-muted-foreground",children:"Mantenha suas impressões e pensamentos sobre cada livro."})]})]})]})})})},X6=()=>{const{currentUser:t,signInWithGoogle:e,loading:n}=ta();return n?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsx(ih,{to:"/"}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-purple-900 to-purple-800",children:d.jsxs(Nh,{className:"w-full max-w-md border-purple-300/20 bg-card/95 backdrop-blur",children:[d.jsxs(xy,{className:"text-center",children:[d.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-purple-600",children:d.jsx(ms,{size:30,className:"text-white"})}),d.jsx(Ey,{className:"text-2xl",children:"Bem-vindo ao Organizador de Leituras"}),d.jsx(Ty,{children:"Faça login para acessar sua biblioteca e organizar seus livros."})]}),d.jsx(kh,{children:d.jsx("div",{className:"mt-4 flex flex-col gap-4",children:d.jsxs(Ae,{onClick:e,className:"w-full",variant:"outline",children:[d.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 mr-2","aria-hidden":"true",children:[d.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),d.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),d.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),d.jsx("path",{d:"M12.0004 24C15.2404 24 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.2754 17.385C3.2504 21.31 7.3104 24 12.0004 24Z",fill:"#34A853"})]}),"Continuar com Google"]})})}),d.jsx(Sy,{className:"flex flex-col text-center text-sm text-muted-foreground",children:d.jsx("p",{children:"Ao fazer login, você concorda com os termos de uso."})})]})})},zn=g.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));zn.displayName="Input";var J6="Label",KA=g.forwardRef((t,e)=>d.jsx(ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));KA.displayName=J6;var GA=KA;const Z6=Gd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bd=g.forwardRef(({className:t,...e},n)=>d.jsx(GA,{ref:n,className:re(Z6(),t),...e}));bd.displayName=GA.displayName;const eB=()=>{const{currentUser:t,updateUserProfile:e,loading:n}=ta(),[r,s]=g.useState((t==null?void 0:t.displayName)||""),[i,o]=g.useState(null),[a,l]=g.useState(null),[u,h]=g.useState(!1),p=g.useRef(null);if(n)return d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})});if(!t)return d.jsx(ih,{to:"/login"});const f=v=>{var _;const E=(_=v.target.files)==null?void 0:_[0];if(E){o(E);const x=new FileReader;x.onload=()=>{l(x.result)},x.readAsDataURL(E)}},y=()=>{var v;(v=p.current)==null||v.click()},T=async v=>{if(v.preventDefault(),!u){h(!0);try{await e(r,i),o(null)}finally{h(!1)}}};return d.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:d.jsxs(Nh,{children:[d.jsxs(xy,{children:[d.jsx(Ey,{children:"Seu Perfil"}),d.jsx(Ty,{children:"Atualize suas informações de perfil"})]}),d.jsxs("form",{onSubmit:T,children:[d.jsxs(kh,{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsxs("div",{className:"relative cursor-pointer group",onClick:y,children:[d.jsxs(uy,{className:"h-32 w-32 border-4 border-purple-300",children:[d.jsx(dy,{src:a||t.photoURL||void 0}),d.jsx(hy,{className:"text-3xl",children:(r||t.displayName||"U").charAt(0).toUpperCase()})]}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(Y2,{className:"text-white"})})]}),d.jsx("input",{type:"file",ref:p,accept:"image/*",onChange:f,className:"hidden"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique na imagem para mudar a foto"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(bd,{htmlFor:"nickname",children:"Nome de Exibição"}),d.jsx(zn,{id:"nickname",value:r,onChange:v=>s(v.target.value),placeholder:"Como deseja ser chamado?"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(bd,{children:"E-mail"}),d.jsx(zn,{value:t.email||"",disabled:!0,className:"bg-muted/50"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"O e-mail não pode ser alterado"})]})]}),d.jsx(Sy,{children:d.jsx(Ae,{type:"submit",disabled:u,className:"w-full",children:u?"Salvando...":"Salvar Alterações"})})]})]})})},Cy=g.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",t),...e})}));Cy.displayName="Table";const Iy=g.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:re("[&_tr]:border-b",t),...e}));Iy.displayName="TableHeader";const by=g.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",t),...e}));by.displayName="TableBody";const tB=g.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));tB.displayName="TableFooter";const Dl=g.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Dl.displayName="TableRow";const sn=g.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));sn.displayName="TableHead";const on=g.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));on.displayName="TableCell";const nB=g.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",t),...e}));nB.displayName="TableCaption";var Ay="Dialog",[QA,YA]=Os(Ay),[rB,jn]=QA(Ay),XA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),l=g.useRef(null),[u=!1,h]=hi({prop:r,defaultProp:s,onChange:i});return d.jsx(rB,{scope:e,triggerRef:a,contentRef:l,contentId:xr(),titleId:xr(),descriptionId:xr(),open:u,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};XA.displayName=Ay;var JA="DialogTrigger",ZA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(JA,n),i=Re(e,s.triggerRef);return d.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ny(s.open),...r,ref:i,onClick:oe(t.onClick,s.onOpenToggle)})});ZA.displayName=JA;var Ry="DialogPortal",[sB,eR]=QA(Ry,{forceMount:void 0}),tR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=jn(Ry,e);return d.jsx(sB,{scope:e,forceMount:n,children:g.Children.map(r,o=>d.jsx(Lr,{present:n||i.open,children:d.jsx(Ul,{asChild:!0,container:s,children:o})}))})};tR.displayName=Ry;var Ad="DialogOverlay",nR=g.forwardRef((t,e)=>{const n=eR(Ad,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jn(Ad,t.__scopeDialog);return i.modal?d.jsx(Lr,{present:r||i.open,children:d.jsx(iB,{...s,ref:e})}):null});nR.displayName=Ad;var iB=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(Ad,n);return d.jsx(bh,{as:br,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(ge.div,{"data-state":Ny(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ei="DialogContent",rR=g.forwardRef((t,e)=>{const n=eR(Ei,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=jn(Ei,t.__scopeDialog);return d.jsx(Lr,{present:r||i.open,children:i.modal?d.jsx(oB,{...s,ref:e}):d.jsx(aB,{...s,ref:e})})});rR.displayName=Ei;var oB=g.forwardRef((t,e)=>{const n=jn(Ei,t.__scopeDialog),r=g.useRef(null),s=Re(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return py(i)},[]),d.jsx(sR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(t.onFocusOutside,i=>i.preventDefault())})}),aB=g.forwardRef((t,e)=>{const n=jn(Ei,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return d.jsx(sR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sR=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=jn(Ei,n),l=g.useRef(null),u=Re(e,l);return fy(),d.jsxs(d.Fragment,{children:[d.jsx(Ch,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Ho,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Ny(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(cB,{titleId:a.titleId}),d.jsx(dB,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Py="DialogTitle",iR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(Py,n);return d.jsx(ge.h2,{id:s.titleId,...r,ref:e})});iR.displayName=Py;var oR="DialogDescription",aR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(oR,n);return d.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});aR.displayName=oR;var lR="DialogClose",cR=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=jn(lR,n);return d.jsx(ge.button,{type:"button",...r,ref:e,onClick:oe(t.onClick,()=>s.onOpenChange(!1))})});cR.displayName=lR;function Ny(t){return t?"open":"closed"}var uR="DialogTitleWarning",[lB,dR]=l2(uR,{contentName:Ei,titleName:Py,docsSlug:"dialog"}),cB=({titleId:t})=>{const e=dR(uR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},uB="DialogDescriptionWarning",dB=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dR(uB).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},hR=XA,hB=ZA,fR=tR,ky=nR,Oy=rR,Dy=iR,Ly=aR,My=cR;const pR=hR,fB=fR,mR=g.forwardRef(({className:t,...e},n)=>d.jsx(ky,{ref:n,className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mR.displayName=ky.displayName;const jy=g.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(fB,{children:[d.jsx(mR,{}),d.jsxs(Oy,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(My,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(eS,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jy.displayName=Oy.displayName;const Vy=({className:t,...e})=>d.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vy.displayName="DialogHeader";const Fy=({className:t,...e})=>d.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fy.displayName="DialogFooter";const Uy=g.forwardRef(({className:t,...e},n)=>d.jsx(Dy,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",t),...e}));Uy.displayName=Dy.displayName;const $y=g.forwardRef(({className:t,...e},n)=>d.jsx(Ly,{ref:n,className:re("text-sm text-muted-foreground",t),...e}));$y.displayName=Ly.displayName;var gR="AlertDialog",[pB,pz]=Os(gR,[YA]),Mr=YA(),vR=t=>{const{__scopeAlertDialog:e,...n}=t,r=Mr(e);return d.jsx(hR,{...r,...n,modal:!0})};vR.displayName=gR;var mB="AlertDialogTrigger",gB=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Mr(n);return d.jsx(hB,{...s,...r,ref:e})});gB.displayName=mB;var vB="AlertDialogPortal",yR=t=>{const{__scopeAlertDialog:e,...n}=t,r=Mr(e);return d.jsx(fR,{...r,...n})};yR.displayName=vB;var yB="AlertDialogOverlay",_R=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Mr(n);return d.jsx(ky,{...s,...r,ref:e})});_R.displayName=yB;var go="AlertDialogContent",[_B,wB]=pB(go),wR=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Mr(n),o=g.useRef(null),a=Re(e,o),l=g.useRef(null);return d.jsx(lB,{contentName:go,titleName:xR,docsSlug:"alert-dialog",children:d.jsx(_B,{scope:n,cancelRef:l,children:d.jsxs(Oy,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:oe(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[d.jsx(Dg,{children:r}),d.jsx(EB,{contentRef:o})]})})})});wR.displayName=go;var xR="AlertDialogTitle",ER=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Mr(n);return d.jsx(Dy,{...s,...r,ref:e})});ER.displayName=xR;var TR="AlertDialogDescription",SR=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Mr(n);return d.jsx(Ly,{...s,...r,ref:e})});SR.displayName=TR;var xB="AlertDialogAction",CR=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Mr(n);return d.jsx(My,{...s,...r,ref:e})});CR.displayName=xB;var IR="AlertDialogCancel",bR=g.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=wB(IR,n),i=Mr(n),o=Re(e,s);return d.jsx(My,{...i,...r,ref:o})});bR.displayName=IR;var EB=({contentRef:t})=>{const e=`\`${go}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${go}\` by passing a \`${TR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${go}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return g.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},TB=vR,SB=yR,AR=_R,RR=wR,PR=CR,NR=bR,kR=ER,OR=SR;const DR=TB,CB=SB,LR=g.forwardRef(({className:t,...e},n)=>d.jsx(AR,{className:re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));LR.displayName=AR.displayName;const By=g.forwardRef(({className:t,...e},n)=>d.jsxs(CB,{children:[d.jsx(LR,{}),d.jsx(RR,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));By.displayName=RR.displayName;const zy=({className:t,...e})=>d.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",t),...e});zy.displayName="AlertDialogHeader";const Hy=({className:t,...e})=>d.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Hy.displayName="AlertDialogFooter";const Wy=g.forwardRef(({className:t,...e},n)=>d.jsx(kR,{ref:n,className:re("text-lg font-semibold",t),...e}));Wy.displayName=kR.displayName;const qy=g.forwardRef(({className:t,...e},n)=>d.jsx(OR,{ref:n,className:re("text-sm text-muted-foreground",t),...e}));qy.displayName=OR.displayName;const Ky=g.forwardRef(({className:t,...e},n)=>d.jsx(PR,{ref:n,className:re(ly(),t),...e}));Ky.displayName=PR.displayName;const Gy=g.forwardRef(({className:t,...e},n)=>d.jsx(NR,{ref:n,className:re(ly({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Gy.displayName=NR.displayName;const Rd=g.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Rd.displayName="Textarea";function IB(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),l=n.length;n=[...n,o];function u(p){const{scope:f,children:y,...T}=p,v=(f==null?void 0:f[t][l])||a,E=g.useMemo(()=>T,Object.values(T));return d.jsx(v.Provider,{value:E,children:y})}function h(p,f){const y=(f==null?void 0:f[t][l])||a,T=g.useContext(y);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,bB(s,...e)]}function bB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const p=l(i)[`__scope${u}`];return{...a,...p}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Xf="rovingFocusGroup.onEntryFocus",AB={bubbles:!1,cancelable:!0},Oh="RovingFocusGroup",[Fm,MR,RB]=Lg(Oh),[PB,jR]=IB(Oh,[RB]),[NB,kB]=PB(Oh),VR=g.forwardRef((t,e)=>d.jsx(Fm.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Fm.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(OB,{...t,ref:e})})}));VR.displayName=Oh;var OB=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=t,f=g.useRef(null),y=Re(e,f),T=_y(i),[v=null,E]=hi({prop:o,defaultProp:a,onChange:l}),[_,x]=g.useState(!1),S=Ht(u),P=MR(n),D=g.useRef(!1),[L,I]=g.useState(0);return g.useEffect(()=>{const C=f.current;if(C)return C.addEventListener(Xf,S),()=>C.removeEventListener(Xf,S)},[S]),d.jsx(NB,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:v,onItemFocus:g.useCallback(C=>E(C),[E]),onItemShiftTab:g.useCallback(()=>x(!0),[]),onFocusableItemAdd:g.useCallback(()=>I(C=>C+1),[]),onFocusableItemRemove:g.useCallback(()=>I(C=>C-1),[]),children:d.jsx(ge.div,{tabIndex:_||L===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:oe(t.onMouseDown,()=>{D.current=!0}),onFocus:oe(t.onFocus,C=>{const R=!D.current;if(C.target===C.currentTarget&&R&&!_){const N=new CustomEvent(Xf,AB);if(C.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=P().filter(G=>G.focusable),O=k.find(G=>G.active),b=k.find(G=>G.id===v),ne=[O,b,...k].filter(Boolean).map(G=>G.ref.current);$R(ne,h)}}D.current=!1}),onBlur:oe(t.onBlur,()=>x(!1))})})}),FR="RovingFocusGroupItem",UR=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=xr(),l=i||a,u=kB(FR,n),h=u.currentTabStopId===l,p=MR(n),{onFocusableItemAdd:f,onFocusableItemRemove:y}=u;return g.useEffect(()=>{if(r)return f(),()=>y()},[r,f,y]),d.jsx(Fm.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(ge.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:oe(t.onMouseDown,T=>{r?u.onItemFocus(l):T.preventDefault()}),onFocus:oe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:oe(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){u.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const v=MB(T,u.orientation,u.dir);if(v!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let _=p().filter(x=>x.focusable).map(x=>x.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const x=_.indexOf(T.currentTarget);_=u.loop?jB(_,x+1):_.slice(x+1)}setTimeout(()=>$R(_))}})})})});UR.displayName=FR;var DB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function LB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function MB(t,e,n){const r=LB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return DB[r]}function $R(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function jB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var VB=VR,FB=UR,Qy="Tabs",[UB,mz]=Os(Qy,[jR]),BR=jR(),[$B,Yy]=UB(Qy),zR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,h=_y(a),[p,f]=hi({prop:r,onChange:s,defaultProp:i});return d.jsx($B,{scope:n,baseId:xr(),value:p,onValueChange:f,orientation:o,dir:h,activationMode:l,children:d.jsx(ge.div,{dir:h,"data-orientation":o,...u,ref:e})})});zR.displayName=Qy;var HR="TabsList",WR=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=Yy(HR,n),o=BR(n);return d.jsx(VB,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(ge.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});WR.displayName=HR;var qR="TabsTrigger",KR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=Yy(qR,n),a=BR(n),l=YR(o.baseId,r),u=XR(o.baseId,r),h=r===o.value;return d.jsx(FB,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(ge.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:oe(t.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:oe(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:oe(t.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!s&&p&&o.onValueChange(r)})})})});KR.displayName=qR;var GR="TabsContent",QR=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=Yy(GR,n),l=YR(a.baseId,r),u=XR(a.baseId,r),h=r===a.value,p=g.useRef(h);return g.useEffect(()=>{const f=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(f)},[]),d.jsx(Lr,{present:s||h,children:({present:f})=>d.jsx(ge.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:f&&i})})});QR.displayName=GR;function YR(t,e){return`${t}-trigger-${e}`}function XR(t,e){return`${t}-content-${e}`}var BB=zR,JR=WR,ZR=KR,eP=QR;const tP=BB,Xy=g.forwardRef(({className:t,...e},n)=>d.jsx(JR,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Xy.displayName=JR.displayName;const vo=g.forwardRef(({className:t,...e},n)=>d.jsx(ZR,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));vo.displayName=ZR.displayName;const yo=g.forwardRef(({className:t,...e},n)=>d.jsx(eP,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));yo.displayName=eP.displayName;const zB=W.createContext(null),HB=()=>W.useContext(zB),WB=g.createContext({}),Dh=()=>{const t=g.useContext(WB),e=g.useContext(nP),{getFieldState:n,formState:r}=HB(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},nP=g.createContext({}),qB=g.forwardRef(({className:t,...e},n)=>{const r=g.useId();return d.jsx(nP.Provider,{value:{id:r},children:d.jsx("div",{ref:n,className:re("space-y-2",t),...e})})});qB.displayName="FormItem";const zi=g.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Dh();return d.jsx(bd,{ref:n,className:re(r&&"text-destructive",t),htmlFor:s,...e})});zi.displayName="FormLabel";const KB=g.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Dh();return d.jsx(br,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});KB.displayName="FormControl";const GB=g.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Dh();return d.jsx("p",{ref:n,id:r,className:re("text-sm text-muted-foreground",t),...e})});GB.displayName="FormDescription";const QB=g.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Dh(),o=s?String(s==null?void 0:s.message):e;return o?d.jsx("p",{ref:r,id:i,className:re("text-sm font-medium text-destructive",t),...n,children:o}):null});QB.displayName="FormMessage";const YB=()=>{const{currentUser:t,loading:e}=ta(),n=sh(),[r,s]=g.useState([]),[i,o]=g.useState([]),[a,l]=g.useState(!0),[u,h]=g.useState(""),[p,f]=g.useState("Todos"),[y,T]=g.useState("status"),[v,E]=g.useState(null),[_,x]=g.useState(null),[S,P]=g.useState("Não Lido"),[D,L]=g.useState(0),[I,C]=g.useState(""),[R,N]=g.useState(!1),[k,O]=g.useState({title:"",author:"",pageCount:"",synopsis:"",genres:[],newGenre:"",language:""});g.useEffect(()=>{t&&b()},[t]),g.useEffect(()=>{r.length>0&&$()},[r,u,p,y]),g.useEffect(()=>{_&&(O({title:_.title||"",author:_.author||"",pageCount:_.pageCount?String(_.pageCount):"",synopsis:_.synopsis||"",genres:_.genres||[],newGenre:"",language:_.language||""}),N(_.favorite||!1))},[_]);const b=async()=>{if(t){l(!0);try{const F=await yy(t.uid);s(F),o(F)}catch(F){console.error("Error loading books:",F),Je({title:"Erro ao carregar livros",description:"Não foi possível carregar sua coleção de livros. Tente novamente.",variant:"destructive"})}finally{l(!1)}}},$=()=>{let F=[...r];if(u.trim()!==""){const ee=u.toLowerCase().trim();F=F.filter(K=>K.title.toLowerCase().includes(ee)||K.author.toLowerCase().includes(ee))}p!=="Todos"&&(F=F.filter(ee=>ee.status===p)),F=ne(F,y),o(F)},ne=(F,ee)=>{const K=[...F];switch(ee){case"status":return K.sort((he,xe)=>{const le={Lendo:1,"Não Lido":2,Lido:3},fe=le[he.status]||999,ye=le[xe.status]||999;return fe===ye?he.title.localeCompare(xe.title):fe-ye});case"rating":return K.sort((he,xe)=>{const le=he.rating||0,fe=xe.rating||0;return le===fe?he.title.localeCompare(xe.title):fe-le});case"title":return K.sort((he,xe)=>he.title.localeCompare(xe.title));case"favorite":return K.sort((he,xe)=>{const le=he.favorite?1:0,fe=xe.favorite?1:0;return le===fe?he.title.localeCompare(xe.title):fe-le});default:return K}},G=F=>{E(F)},ie=async()=>{if(!(!v||!v.id))try{await cA(v.id),s(r.filter(F=>F.id!==v.id)),Je({title:"Livro removido",description:`${v.title} foi removido da sua coleção.`})}catch(F){console.error("Error deleting book:",F),Je({title:"Erro ao remover livro",description:"Não foi possível remover o livro. Tente novamente.",variant:"destructive"})}finally{E(null)}},j=F=>{x(F),P(F.status),L(F.rating||0),C(F.notes||""),N(F.favorite||!1)},z=F=>{F.key==="Enter"&&$()},X=async F=>{if(F.id)try{const ee=!F.favorite;await Om(F.id,{favorite:ee}),s(r.map(K=>K.id===F.id?{...K,favorite:ee}:K)),Je({title:ee?"Adicionado aos favoritos":"Removido dos favoritos",description:`${F.title} foi ${ee?"adicionado aos":"removido dos"} favoritos.`})}catch(ee){console.error("Error updating favorite status:",ee),Je({title:"Erro ao atualizar status de favorito",description:"Não foi possível atualizar o status de favorito. Tente novamente.",variant:"destructive"})}},Q=async()=>{if(!(!_||!_.id))try{const F=k.pageCount?parseInt(k.pageCount,10):void 0,ee={status:S,rating:D,notes:I,title:k.title||_.title,author:k.author||_.author,synopsis:k.synopsis,pageCount:F,genres:k.genres,language:k.language,favorite:R};await Om(_.id,ee),s(r.map(K=>K.id===_.id?{...K,...ee}:K)),Je({title:"Livro atualizado",description:`As informações de ${k.title||_.title} foram atualizadas.`}),x(null)}catch(F){console.error("Error updating book:",F),Je({title:"Erro ao atualizar livro",description:"Não foi possível atualizar as informações do livro. Tente novamente.",variant:"destructive"})}},Y=(F,ee)=>{O(K=>({...K,[F]:ee}))},se=()=>{k.newGenre.trim()!==""&&(k.genres.includes(k.newGenre.trim())?Je({title:"Gênero já existe",description:"Este gênero já foi adicionado ao livro.",variant:"destructive"}):O(F=>({...F,genres:[...F.genres,F.newGenre.trim()],newGenre:""})))},Te=F=>{O(ee=>({...ee,genres:ee.genres.filter(K=>K!==F)}))};return e?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Minha Coleção"}),d.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os seus livros em um só lugar"})]}),d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(fi,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[d.jsx("div",{className:"w-full md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(J1,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(zn,{placeholder:"Pesquisar livros...",value:u,onChange:F=>h(F.target.value),onKeyPress:z,className:"pl-8"})]})}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs(Nl,{value:p,onValueChange:f,children:[d.jsx(Fo,{className:"w-full md:w-40",children:d.jsx(kl,{placeholder:"Status"})}),d.jsxs(Uo,{children:[d.jsx(ct,{value:"Todos",children:"Todos"}),d.jsx(ct,{value:"Lido",children:"Lido"}),d.jsx(ct,{value:"Não Lido",children:"Não Lido"}),d.jsx(ct,{value:"Lendo",children:"Lendo"})]})]}),d.jsxs(aA,{children:[d.jsx(lA,{asChild:!0,children:d.jsx(Ae,{variant:"outline",size:"icon",className:"h-10 w-10",children:d.jsx(G2,{className:"h-4 w-4"})})}),d.jsx(vy,{className:"w-48",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Ordenar por"}),d.jsxs("div",{className:"grid gap-1.5",children:[d.jsx(Ae,{variant:y==="status"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("status"),children:"Status"}),d.jsx(Ae,{variant:y==="rating"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("rating"),children:"Nota"}),d.jsx(Ae,{variant:y==="title"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("title"),children:"Título"}),d.jsx(Ae,{variant:y==="favorite"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("favorite"),children:"Favoritos"})]})]})})]})]})]}),a?d.jsx("div",{className:"flex justify-center items-center py-20",children:d.jsx(Fg,{className:"h-8 w-8 animate-spin text-purple-500"})}):i.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx(ms,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-medium mb-2",children:"Nenhum livro encontrado"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Sua coleção está vazia. Adicione seu primeiro livro!":"Nenhum livro corresponde aos filtros selecionados."}),r.length===0&&d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(fi,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}):d.jsx("div",{className:"rounded-lg border overflow-hidden",children:d.jsxs(Cy,{children:[d.jsx(Iy,{children:d.jsxs(Dl,{children:[d.jsx(sn,{children:"Capa"}),d.jsx(sn,{children:"Título"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Autor"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Status"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Nota"}),d.jsx(sn,{children:"Ações"})]})}),d.jsx(by,{children:i.map(F=>d.jsxs(Dl,{className:F.favorite?"bg-secondary/30":"",children:[d.jsx(on,{children:d.jsx("div",{className:"h-16 w-12 overflow-hidden rounded-sm",children:d.jsx("img",{src:F.coverUrl||"/placeholder.svg",alt:F.title,className:"h-full w-full object-cover",onError:ee=>{ee.target.src="/placeholder.svg"}})})}),d.jsx(on,{className:"font-medium",children:d.jsxs("div",{className:"flex items-center gap-2",children:[F.favorite&&d.jsx($c,{className:"h-3.5 w-3.5 fill-current text-red-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"line-clamp-1",children:F.title}),d.jsx("p",{className:"text-xs text-muted-foreground md:hidden",children:F.author})]})]})}),d.jsx(on,{className:"hidden md:table-cell",children:F.author}),d.jsx(on,{className:"hidden md:table-cell",children:d.jsx(Ol,{status:F.status})}),d.jsx(on,{className:"hidden md:table-cell",children:F.rating?d.jsx(oi,{rating:F.rating,size:16}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"Sem avaliação"})}),d.jsx(on,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>X(F),className:"h-8 w-8",title:F.favorite?"Remover dos favoritos":"Adicionar aos favoritos",children:d.jsx($c,{className:`h-4 w-4 ${F.favorite?"fill-current text-red-500":""}`})}),d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>j(F),className:"h-8 w-8",children:d.jsx(X1,{className:"h-4 w-4"})}),d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>G(F),className:"h-8 w-8 text-destructive",children:d.jsx(Z1,{className:"h-4 w-4"})})]})})]},F.id))})]})}),d.jsx(pR,{open:!!_,onOpenChange:F=>!F&&x(null),children:_&&d.jsxs(jy,{className:"max-w-3xl",children:[d.jsxs(Vy,{children:[d.jsxs(Uy,{className:"flex items-center gap-2",children:[R&&d.jsx($c,{className:"h-4 w-4 fill-current text-red-500"}),_.title]}),d.jsx($y,{children:"Detalhes do livro"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 py-4",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"h-60 w-40 overflow-hidden rounded-md border mb-4",children:d.jsx("img",{src:_.coverUrl||"/placeholder.svg",alt:_.title,className:"h-full w-full object-cover",onError:F=>{F.target.src="/placeholder.svg"}})}),d.jsx("p",{className:"text-center font-medium",children:_.author}),_.pageCount&&d.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[_.pageCount," páginas"]}),_.language&&d.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-1",children:["Idioma: ",_.language]}),d.jsxs(Ae,{variant:R?"default":"outline",size:"sm",className:"mt-3 gap-2",onClick:()=>N(!R),children:[d.jsx($c,{className:`h-4 w-4 ${R?"fill-current":""}`}),R?"Favorito":"Adicionar aos Favoritos"]})]})}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs(tP,{defaultValue:"info",className:"w-full",children:[d.jsxs(Xy,{className:"mb-4",children:[d.jsx(vo,{value:"info",children:"Informações"}),d.jsx(vo,{value:"edit",children:"Editar"}),d.jsx(vo,{value:"details",children:"Informações Detalhadas"})]}),d.jsxs(yo,{value:"info",className:"space-y-4",children:[_.genres&&_.genres.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Gêneros"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:_.genres.map((F,ee)=>d.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs",children:F},ee))})]}),_.synopsis&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Sinopse"}),d.jsx("p",{className:"text-sm leading-relaxed max-h-40 overflow-y-auto",children:_.synopsis})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Status"}),d.jsx(Ol,{status:_.status})]}),_.rating!==void 0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(oi,{rating:_.rating,size:20}),d.jsx("span",{className:"ml-2",children:_.rating.toFixed(1)})]})]}),_.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Anotações"}),d.jsx("div",{className:"bg-muted p-3 rounded-md text-sm",children:d.jsx("p",{className:"whitespace-pre-wrap",children:_.notes})})]})]}),d.jsxs(yo,{value:"edit",className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Status de Leitura"}),d.jsxs(Nl,{value:S,onValueChange:F=>P(F),children:[d.jsx(Fo,{children:d.jsx(kl,{placeholder:"Selecione o status"})}),d.jsxs(Uo,{children:[d.jsx(ct,{value:"Lido",children:"Lido"}),d.jsx(ct,{value:"Não Lido",children:"Não Lido"}),d.jsx(ct,{value:"Lendo",children:"Lendo"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(oi,{rating:D,editable:!0,onChange:L}),d.jsxs("span",{className:"ml-2",children:[D," / 5"]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Idioma"}),d.jsx(zn,{value:k.language,onChange:F=>Y("language",F.target.value),placeholder:"Português, Inglês, Espanhol, etc."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Notas e Anotações"}),d.jsx(Rd,{value:I,onChange:F=>C(F.target.value),placeholder:"Adicione suas anotações sobre este livro...",className:"min-h-32"})]})]}),d.jsx(yo,{value:"details",className:"space-y-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(zi,{children:"Título"}),d.jsx(zn,{value:k.title,onChange:F=>Y("title",F.target.value),placeholder:"Título do livro"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(zi,{children:"Autor"}),d.jsx(zn,{value:k.author,onChange:F=>Y("author",F.target.value),placeholder:"Autor do livro"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(zi,{children:"Número de Páginas"}),d.jsx(zn,{type:"number",value:k.pageCount,onChange:F=>Y("pageCount",F.target.value),placeholder:"Exemplo: 320"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(zi,{children:"Sinopse"}),d.jsx(Rd,{value:k.synopsis,onChange:F=>Y("synopsis",F.target.value),placeholder:"Sinopse do livro",className:"min-h-[100px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(zi,{children:"Gêneros"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:k.genres.map((F,ee)=>d.jsxs("div",{className:"flex items-center bg-secondary rounded-md px-2 py-1",children:[d.jsx("span",{className:"text-xs",children:F}),d.jsx("button",{type:"button",onClick:()=>Te(F),className:"ml-1 text-muted-foreground hover:text-destructive",children:"×"})]},ee))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(zn,{value:k.newGenre,onChange:F=>Y("newGenre",F.target.value),placeholder:"Adicionar gênero",className:"flex-1"}),d.jsx(Ae,{type:"button",onClick:se,size:"sm",children:"Adicionar"})]})]})]})})]})})]}),d.jsxs(Fy,{children:[d.jsx(Ae,{variant:"outline",onClick:()=>x(null),children:"Cancelar"}),d.jsx(Ae,{onClick:Q,children:"Salvar Alterações"})]})]})}),d.jsx(DR,{open:!!v,onOpenChange:F=>!F&&E(null),children:d.jsxs(By,{children:[d.jsxs(zy,{children:[d.jsx(Wy,{children:"Tem certeza?"}),d.jsxs(qy,{children:["Esta ação não pode ser desfeita. O livro",d.jsx("span",{className:"font-medium mx-1",children:v==null?void 0:v.title}),"será removido permanentemente da sua coleção."]})]}),d.jsxs(Hy,{children:[d.jsx(Gy,{children:"Cancelar"}),d.jsx(Ky,{onClick:ie,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})})]}):d.jsx(ih,{to:"/login"})},XB=()=>{const{currentUser:t,loading:e}=ta(),n=sh(),[r,s]=g.useState([]),[i,o]=g.useState([]),[a,l]=g.useState(!0),[u,h]=g.useState(""),[p,f]=g.useState("Todos"),[y,T]=g.useState(null),[v,E]=g.useState(null),[_,x]=g.useState("Não Lido"),[S,P]=g.useState(0),[D,L]=g.useState("");g.useEffect(()=>{t&&I()},[t]),g.useEffect(()=>{r.length>0&&C()},[r,u,p]);const I=async()=>{if(t){l(!0);try{const b=await yy(t.uid);s(b),o(b)}catch(b){console.error("Error loading books:",b),Je({title:"Erro ao carregar livros",description:"Não foi possível carregar sua coleção de livros. Tente novamente.",variant:"destructive"})}finally{l(!1)}}},C=()=>{let b=[...r];if(u.trim()!==""){const $=u.toLowerCase().trim();b=b.filter(ne=>ne.title.toLowerCase().includes($)||ne.author.toLowerCase().includes($))}p!=="Todos"&&(b=b.filter($=>$.status===p)),o(b)},R=b=>{T(b)},N=async()=>{if(!(!y||!y.id))try{await cA(y.id),s(r.filter(b=>b.id!==y.id)),Je({title:"Livro removido",description:`${y.title} foi removido da sua coleção.`})}catch(b){console.error("Error deleting book:",b),Je({title:"Erro ao remover livro",description:"Não foi possível remover o livro. Tente novamente.",variant:"destructive"})}finally{T(null)}},k=b=>{E(b),x(b.status),P(b.rating||0),L(b.notes||"")},O=async()=>{if(!(!v||!v.id))try{await Om(v.id,{status:_,rating:S,notes:D}),s(r.map(b=>b.id===v.id?{...b,status:_,rating:S,notes:D}:b)),Je({title:"Livro atualizado",description:`As informações de ${v.title} foram atualizadas.`}),E(null)}catch(b){console.error("Error updating book:",b),Je({title:"Erro ao atualizar livro",description:"Não foi possível atualizar as informações do livro. Tente novamente.",variant:"destructive"})}};return e?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Minha Coleção"}),d.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os seus livros em um só lugar"})]}),d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(fi,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[d.jsx("div",{className:"w-full md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(J1,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(zn,{placeholder:"Pesquisar livros...",value:u,onChange:b=>h(b.target.value),className:"pl-8"})]})}),d.jsxs(Nl,{value:p,onValueChange:f,children:[d.jsx(Fo,{className:"w-full md:w-40",children:d.jsx(kl,{placeholder:"Status"})}),d.jsxs(Uo,{children:[d.jsx(ct,{value:"Todos",children:"Todos"}),d.jsx(ct,{value:"Lido",children:"Lido"}),d.jsx(ct,{value:"Não Lido",children:"Não Lido"}),d.jsx(ct,{value:"Lendo",children:"Lendo"})]})]})]}),a?d.jsx("div",{className:"flex justify-center items-center py-20",children:d.jsx(Fg,{className:"h-8 w-8 animate-spin text-purple-500"})}):i.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx(ms,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-medium mb-2",children:"Nenhum livro encontrado"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Sua coleção está vazia. Adicione seu primeiro livro!":"Nenhum livro corresponde aos filtros selecionados."}),r.length===0&&d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(fi,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}):d.jsx("div",{className:"rounded-lg border overflow-hidden",children:d.jsxs(Cy,{children:[d.jsx(Iy,{children:d.jsxs(Dl,{children:[d.jsx(sn,{children:"Capa"}),d.jsx(sn,{children:"Título"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Autor"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Status"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Nota"}),d.jsx(sn,{children:"Ações"})]})}),d.jsx(by,{children:i.map(b=>d.jsxs(Dl,{children:[d.jsx(on,{children:d.jsx("div",{className:"h-16 w-12 overflow-hidden rounded-sm",children:d.jsx("img",{src:b.coverUrl||"/placeholder.svg",alt:b.title,className:"h-full w-full object-cover",onError:$=>{$.target.src="/placeholder.svg"}})})}),d.jsx(on,{className:"font-medium",children:d.jsxs("div",{children:[d.jsx("p",{className:"line-clamp-1",children:b.title}),d.jsx("p",{className:"text-xs text-muted-foreground md:hidden",children:b.author})]})}),d.jsx(on,{className:"hidden md:table-cell",children:b.author}),d.jsx(on,{className:"hidden md:table-cell",children:d.jsx(Ol,{status:b.status})}),d.jsx(on,{className:"hidden md:table-cell",children:b.rating?d.jsx(oi,{rating:b.rating,size:16}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"Sem avaliação"})}),d.jsx(on,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>k(b),className:"h-8 w-8",children:d.jsx(X1,{className:"h-4 w-4"})}),d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>R(b),className:"h-8 w-8 text-destructive",children:d.jsx(Z1,{className:"h-4 w-4"})})]})})]},b.id))})]})}),d.jsx(pR,{open:!!v,onOpenChange:b=>!b&&E(null),children:v&&d.jsxs(jy,{className:"max-w-3xl",children:[d.jsxs(Vy,{children:[d.jsx(Uy,{children:v.title}),d.jsx($y,{children:"Detalhes do livro"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 py-4",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"h-60 w-40 overflow-hidden rounded-md border mb-4",children:d.jsx("img",{src:v.coverUrl||"/placeholder.svg",alt:v.title,className:"h-full w-full object-cover",onError:b=>{b.target.src="/placeholder.svg"}})}),d.jsx("p",{className:"text-center font-medium",children:v.author}),v.pageCount&&d.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[v.pageCount," páginas"]})]})}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs(tP,{defaultValue:"info",className:"w-full",children:[d.jsxs(Xy,{className:"mb-4",children:[d.jsx(vo,{value:"info",children:"Informações"}),d.jsx(vo,{value:"edit",children:"Editar"})]}),d.jsxs(yo,{value:"info",className:"space-y-4",children:[v.genres&&v.genres.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Gêneros"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:v.genres.map((b,$)=>d.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs",children:b},$))})]}),v.synopsis&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Sinopse"}),d.jsx("p",{className:"text-sm leading-relaxed max-h-40 overflow-y-auto",children:v.synopsis})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Status"}),d.jsx(Ol,{status:v.status})]}),v.rating!==void 0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(oi,{rating:v.rating,size:20}),d.jsx("span",{className:"ml-2",children:v.rating.toFixed(1)})]})]}),v.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Anotações"}),d.jsx("div",{className:"bg-muted p-3 rounded-md text-sm",children:d.jsx("p",{className:"whitespace-pre-wrap",children:v.notes})})]})]}),d.jsxs(yo,{value:"edit",className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Status de Leitura"}),d.jsxs(Nl,{value:_,onValueChange:b=>x(b),children:[d.jsx(Fo,{children:d.jsx(kl,{placeholder:"Selecione o status"})}),d.jsxs(Uo,{children:[d.jsx(ct,{value:"Lido",children:"Lido"}),d.jsx(ct,{value:"Não Lido",children:"Não Lido"}),d.jsx(ct,{value:"Lendo",children:"Lendo"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(oi,{rating:S,editable:!0,onChange:P}),d.jsxs("span",{className:"ml-2",children:[S," / 5"]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Notas e Anotações"}),d.jsx(Rd,{value:D,onChange:b=>L(b.target.value),placeholder:"Adicione suas anotações sobre este livro...",className:"min-h-32"})]})]})]})})]}),d.jsxs(Fy,{children:[d.jsx(Ae,{variant:"outline",onClick:()=>E(null),children:"Cancelar"}),d.jsx(Ae,{onClick:O,children:"Salvar Alterações"})]})]})}),d.jsx(DR,{open:!!y,onOpenChange:b=>!b&&T(null),children:d.jsxs(By,{children:[d.jsxs(zy,{children:[d.jsx(Wy,{children:"Tem certeza?"}),d.jsxs(qy,{children:["Esta ação não pode ser desfeita. O livro",d.jsx("span",{className:"font-medium mx-1",children:y==null?void 0:y.title}),"será removido permanentemente da sua coleção."]})]}),d.jsxs(Hy,{children:[d.jsx(Gy,{children:"Cancelar"}),d.jsx(Ky,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})})]}):d.jsx(ih,{to:"/login"})},JB=()=>{const t=bi();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},ZB=new rM,ez=()=>d.jsx(oM,{client:ZB,children:d.jsx(VL,{children:d.jsx(u$,{children:d.jsxs(ej,{children:[d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(v6,{}),d.jsx("main",{className:"flex-1",children:d.jsxs(KM,{children:[d.jsx(Ks,{path:"/",element:d.jsx(Y6,{})}),d.jsx(Ks,{path:"/login",element:d.jsx(X6,{})}),d.jsx(Ks,{path:"/profile",element:d.jsx(eB,{})}),d.jsx(Ks,{path:"/add-book",element:d.jsx(YB,{})}),d.jsx(Ks,{path:"/collection",element:d.jsx(XB,{})}),d.jsx(Ks,{path:"*",element:d.jsx(JB,{})})]})})]}),d.jsx(MO,{}),d.jsx(dD,{})]})})})});Jf.createRoot(document.getElementById("root")).render(d.jsx(W.StrictMode,{children:d.jsx(tj,{children:d.jsx(ez,{})})}));
