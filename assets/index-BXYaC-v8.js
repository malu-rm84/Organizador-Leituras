function WP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function wx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _x={exports:{}},jd={},Ex={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bl=Symbol.for("react.element"),HP=Symbol.for("react.portal"),qP=Symbol.for("react.fragment"),KP=Symbol.for("react.strict_mode"),GP=Symbol.for("react.profiler"),QP=Symbol.for("react.provider"),YP=Symbol.for("react.context"),XP=Symbol.for("react.forward_ref"),JP=Symbol.for("react.suspense"),ZP=Symbol.for("react.memo"),eN=Symbol.for("react.lazy"),G0=Symbol.iterator;function tN(t){return t===null||typeof t!="object"?null:(t=G0&&t[G0]||t["@@iterator"],typeof t=="function"?t:null)}var xx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tx=Object.assign,Sx={};function Zo(t,e,n){this.props=t,this.context=e,this.refs=Sx,this.updater=n||xx}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cx(){}Cx.prototype=Zo.prototype;function Ym(t,e,n){this.props=t,this.context=e,this.refs=Sx,this.updater=n||xx}var Xm=Ym.prototype=new Cx;Xm.constructor=Ym;Tx(Xm,Zo.prototype);Xm.isPureReactComponent=!0;var Q0=Array.isArray,Ix=Object.prototype.hasOwnProperty,Jm={current:null},bx={key:!0,ref:!0,__self:!0,__source:!0};function Rx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ix.call(e,r)&&!bx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Bl,type:t,key:i,ref:o,props:s,_owner:Jm.current}}function nN(t,e){return{$$typeof:Bl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bl}function rN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Y0=/\/+/g;function rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rN(""+t.key):e.toString(36)}function cu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bl:case HP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rf(o,0):r,Q0(s)?(n="",t!=null&&(n=t.replace(Y0,"$&/")+"/"),cu(s,e,n,"",function(u){return u})):s!=null&&(Zm(s)&&(s=nN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Y0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Q0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+rf(i,a);o+=cu(i,e,n,l,s)}else if(l=tN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+rf(i,a++),o+=cu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rc(t,e,n){if(t==null)return t;var r=[],s=0;return cu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function sN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wt={current:null},uu={transition:null},iN={ReactCurrentDispatcher:Wt,ReactCurrentBatchConfig:uu,ReactCurrentOwner:Jm};function Ax(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Zo;_e.Fragment=qP;_e.Profiler=GP;_e.PureComponent=Ym;_e.StrictMode=KP;_e.Suspense=JP;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iN;_e.act=Ax;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Jm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ix.call(e,l)&&!bx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Bl,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:YP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QP,_context:t},t.Consumer=t};_e.createElement=Rx;_e.createFactory=function(t){var e=Rx.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:XP,render:t}};_e.isValidElement=Zm;_e.lazy=function(t){return{$$typeof:eN,_payload:{_status:-1,_result:t},_init:sN}};_e.memo=function(t,e){return{$$typeof:ZP,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=uu.transition;uu.transition={};try{t()}finally{uu.transition=e}};_e.unstable_act=Ax;_e.useCallback=function(t,e){return Wt.current.useCallback(t,e)};_e.useContext=function(t){return Wt.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return Wt.current.useDeferredValue(t)};_e.useEffect=function(t,e){return Wt.current.useEffect(t,e)};_e.useId=function(){return Wt.current.useId()};_e.useImperativeHandle=function(t,e,n){return Wt.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return Wt.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return Wt.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return Wt.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return Wt.current.useReducer(t,e,n)};_e.useRef=function(t){return Wt.current.useRef(t)};_e.useState=function(t){return Wt.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return Wt.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return Wt.current.useTransition()};_e.version="18.3.1";Ex.exports=_e;var m=Ex.exports;const H=wx(m),Px=WP({__proto__:null,default:H},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oN=m,aN=Symbol.for("react.element"),lN=Symbol.for("react.fragment"),cN=Object.prototype.hasOwnProperty,uN=oN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dN={key:!0,ref:!0,__self:!0,__source:!0};function Nx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)cN.call(e,r)&&!dN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:aN,type:t,key:i,ref:o,props:s,_owner:uN.current}}jd.Fragment=lN;jd.jsx=Nx;jd.jsxs=Nx;_x.exports=jd;var d=_x.exports,ip={},kx={exports:{}},pn={},Ox={exports:{}},Dx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var G=V.length;V.push(U);e:for(;0<G;){var oe=G-1>>>1,Y=V[oe];if(0<s(Y,U))V[oe]=U,V[G]=Y,G=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],G=V.pop();if(G!==U){V[0]=G;e:for(var oe=0,Y=V.length,te=Y>>>1;oe<te;){var le=2*(oe+1)-1,F=V[le],ie=le+1,W=V[ie];if(0>s(F,G))ie<Y&&0>s(W,F)?(V[oe]=W,V[ie]=G,oe=ie):(V[oe]=F,V[le]=G,oe=le);else if(ie<Y&&0>s(W,G))V[oe]=W,V[ie]=G,oe=ie;else break e}}return U}function s(V,U){var G=V.sortIndex-U.sortIndex;return G!==0?G:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,f=null,g=3,v=!1,T=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=V)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function P(V){if(y=!1,S(V),!T)if(n(l)!==null)T=!0,Q(D);else{var U=n(u);U!==null&&ee(P,U.startTime-V)}}function D(V,U){T=!1,y&&(y=!1,w(C),C=-1),v=!0;var G=g;try{for(S(U),f=n(l);f!==null&&(!(f.expirationTime>U)||V&&!k());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,g=f.priorityLevel;var Y=oe(f.expirationTime<=U);U=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),S(U)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var le=n(u);le!==null&&ee(P,le.startTime-U),te=!1}return te}finally{f=null,g=G,v=!1}}var L=!1,I=null,C=-1,A=5,N=-1;function k(){return!(t.unstable_now()-N<A)}function O(){if(I!==null){var V=t.unstable_now();N=V;var U=!0;try{U=I(!0,V)}finally{U?b():(L=!1,I=null)}}else L=!1}var b;if(typeof E=="function")b=function(){E(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,re=B.port2;B.port1.onmessage=O,b=function(){re.postMessage(null)}}else b=function(){x(O,0)};function Q(V){I=V,L||(L=!0,b())}function ee(V,U){C=x(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){T||v||(T=!0,Q(D))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var U=3;break;default:U=g}var G=g;g=U;try{return V()}finally{g=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var G=g;g=V;try{return U()}finally{g=G}},t.unstable_scheduleCallback=function(V,U,G){var oe=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?oe+G:oe):G=oe,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=G+Y,V={id:h++,callback:U,priorityLevel:V,startTime:G,expirationTime:Y,sortIndex:-1},G>oe?(V.sortIndex=G,e(u,V),n(l)===null&&V===n(u)&&(y?(w(C),C=-1):y=!0,ee(P,G-oe))):(V.sortIndex=Y,e(l,V),T||v||(T=!0,Q(D))),V},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(V){var U=g;return function(){var G=g;g=U;try{return V.apply(this,arguments)}finally{g=G}}}})(Dx);Ox.exports=Dx;var hN=Ox.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN=m,fn=hN;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lx=new Set,ul={};function Oi(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(ul[t]=e,t=0;t<e.length;t++)Lx.add(e[t])}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),op=Object.prototype.hasOwnProperty,pN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,X0={},J0={};function mN(t){return op.call(J0,t)?!0:op.call(X0,t)?!1:pN.test(t)?J0[t]=!0:(X0[t]=!0,!1)}function gN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vN(t,e,n,r){if(e===null||typeof e>"u"||gN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var St={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){St[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];St[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){St[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){St[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){St[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){St[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){St[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){St[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){St[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var eg=/[\-:]([a-z])/g;function tg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eg,tg);St[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eg,tg);St[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eg,tg);St[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){St[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});St.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){St[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function ng(t,e,n,r){var s=St.hasOwnProperty(e)?St[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vN(e,n,s,r)&&(n=null),r||s===null?mN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ur=fN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ac=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),Mx=Symbol.for("react.provider"),jx=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),cp=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),es=Symbol.for("react.lazy"),Vx=Symbol.for("react.offscreen"),Z0=Symbol.iterator;function ba(t){return t===null||typeof t!="object"?null:(t=Z0&&t[Z0]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,sf;function Fa(t){if(sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sf=e&&e[1]||""}return`
`+sf+t}var of=!1;function af(t,e){if(!t||of)return"";of=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{of=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fa(t):""}function yN(t){switch(t.tag){case 5:return Fa(t.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return t=af(t.type,!1),t;case 11:return t=af(t.type.render,!1),t;case 1:return t=af(t.type,!0),t;default:return""}}function up(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case no:return"Portal";case ap:return"Profiler";case rg:return"StrictMode";case lp:return"Suspense";case cp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jx:return(t.displayName||"Context")+".Consumer";case Mx:return(t._context.displayName||"Context")+".Provider";case sg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ig:return e=t.displayName||null,e!==null?e:up(t.type)||"Memo";case es:e=t._payload,t=t._init;try{return up(t(e))}catch{}}return null}function wN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(e);case 8:return e===rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Is(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _N(t){var e=Fx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Pc(t){t._valueTracker||(t._valueTracker=_N(t))}function Ux(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dp(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ew(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Is(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $x(t,e){e=e.checked,e!=null&&ng(t,"checked",e,!1)}function hp(t,e){$x(t,e);var n=Is(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fp(t,e.type,n):e.hasOwnProperty("defaultValue")&&fp(t,e.type,Is(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fp(t,e,n){(e!=="number"||Mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Is(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Ua(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Is(n)}}function Bx(t,e){var n=Is(e.value),r=Is(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nc,Wx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nc=Nc||document.createElement("div"),Nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EN=["Webkit","ms","Moz","O"];Object.keys(Ga).forEach(function(t){EN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ga[e]=Ga[t]})});function Hx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ga.hasOwnProperty(t)&&Ga[t]?(""+e).trim():e+"px"}function qx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xN=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(t,e){if(e){if(xN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function vp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yp=null;function og(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wp=null,go=null,vo=null;function sw(t){if(t=Hl(t)){if(typeof wp!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Bd(e),wp(t.stateNode,t.type,e))}}function Kx(t){go?vo?vo.push(t):vo=[t]:go=t}function Gx(){if(go){var t=go,e=vo;if(vo=go=null,sw(t),e)for(t=0;t<e.length;t++)sw(e[t])}}function Qx(t,e){return t(e)}function Yx(){}var lf=!1;function Xx(t,e,n){if(lf)return t(e,n);lf=!0;try{return Qx(t,e,n)}finally{lf=!1,(go!==null||vo!==null)&&(Yx(),Gx())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var _p=!1;if(Ar)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){_p=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{_p=!1}function TN(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Qa=!1,ju=null,Vu=!1,Ep=null,SN={onError:function(t){Qa=!0,ju=t}};function CN(t,e,n,r,s,i,o,a,l){Qa=!1,ju=null,TN.apply(SN,arguments)}function IN(t,e,n,r,s,i,o,a,l){if(CN.apply(this,arguments),Qa){if(Qa){var u=ju;Qa=!1,ju=null}else throw Error(q(198));Vu||(Vu=!0,Ep=u)}}function Di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iw(t){if(Di(t)!==t)throw Error(q(188))}function bN(t){var e=t.alternate;if(!e){if(e=Di(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return iw(s),t;if(i===r)return iw(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function Zx(t){return t=bN(t),t!==null?eT(t):null}function eT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eT(t);if(e!==null)return e;t=t.sibling}return null}var tT=fn.unstable_scheduleCallback,ow=fn.unstable_cancelCallback,RN=fn.unstable_shouldYield,AN=fn.unstable_requestPaint,nt=fn.unstable_now,PN=fn.unstable_getCurrentPriorityLevel,ag=fn.unstable_ImmediatePriority,nT=fn.unstable_UserBlockingPriority,Fu=fn.unstable_NormalPriority,NN=fn.unstable_LowPriority,rT=fn.unstable_IdlePriority,Vd=null,Xn=null;function kN(t){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Vd,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:LN,ON=Math.log,DN=Math.LN2;function LN(t){return t>>>=0,t===0?32:31-(ON(t)/DN|0)|0}var kc=64,Oc=4194304;function $a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=$a(a):(i&=o,i!==0&&(r=$a(i)))}else o=n&~s,o!==0?r=$a(o):i!==0&&(r=$a(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dn(e),s=1<<n,r|=t[n],e&=~s;return r}function MN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Dn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=MN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sT(){var t=kc;return kc<<=1,!(kc&4194240)&&(kc=64),t}function cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function VN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Dn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ne=0;function iT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oT,cg,aT,lT,cT,Tp=!1,Dc=[],fs=null,ps=null,ms=null,fl=new Map,pl=new Map,rs=[],FN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aw(t,e){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function Aa(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hl(e),e!==null&&cg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function UN(t,e,n,r,s){switch(e){case"focusin":return fs=Aa(fs,t,e,n,r,s),!0;case"dragenter":return ps=Aa(ps,t,e,n,r,s),!0;case"mouseover":return ms=Aa(ms,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return fl.set(i,Aa(fl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pl.set(i,Aa(pl.get(i)||null,t,e,n,r,s)),!0}return!1}function uT(t){var e=si(t.target);if(e!==null){var n=Di(e);if(n!==null){if(e=n.tag,e===13){if(e=Jx(n),e!==null){t.blockedOn=e,cT(t.priority,function(){aT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);yp=r,n.target.dispatchEvent(r),yp=null}else return e=Hl(n),e!==null&&cg(e),t.blockedOn=n,!1;e.shift()}return!0}function lw(t,e,n){du(t)&&n.delete(e)}function $N(){Tp=!1,fs!==null&&du(fs)&&(fs=null),ps!==null&&du(ps)&&(ps=null),ms!==null&&du(ms)&&(ms=null),fl.forEach(lw),pl.forEach(lw)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,Tp||(Tp=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,$N)))}function ml(t){function e(s){return Pa(s,t)}if(0<Dc.length){Pa(Dc[0],t);for(var n=1;n<Dc.length;n++){var r=Dc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fs!==null&&Pa(fs,t),ps!==null&&Pa(ps,t),ms!==null&&Pa(ms,t),fl.forEach(e),pl.forEach(e),n=0;n<rs.length;n++)r=rs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rs.length&&(n=rs[0],n.blockedOn===null);)uT(n),n.blockedOn===null&&rs.shift()}var yo=Ur.ReactCurrentBatchConfig,$u=!0;function BN(t,e,n,r){var s=Ne,i=yo.transition;yo.transition=null;try{Ne=1,ug(t,e,n,r)}finally{Ne=s,yo.transition=i}}function zN(t,e,n,r){var s=Ne,i=yo.transition;yo.transition=null;try{Ne=4,ug(t,e,n,r)}finally{Ne=s,yo.transition=i}}function ug(t,e,n,r){if($u){var s=Sp(t,e,n,r);if(s===null)wf(t,e,r,Bu,n),aw(t,r);else if(UN(s,t,e,n,r))r.stopPropagation();else if(aw(t,r),e&4&&-1<FN.indexOf(t)){for(;s!==null;){var i=Hl(s);if(i!==null&&oT(i),i=Sp(t,e,n,r),i===null&&wf(t,e,r,Bu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else wf(t,e,r,null,n)}}var Bu=null;function Sp(t,e,n,r){if(Bu=null,t=og(r),t=si(t),t!==null)if(e=Di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bu=t,null}function dT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PN()){case ag:return 1;case nT:return 4;case Fu:case NN:return 16;case rT:return 536870912;default:return 16}default:return 16}}var cs=null,dg=null,hu=null;function hT(){if(hu)return hu;var t,e=dg,n=e.length,r,s="value"in cs?cs.value:cs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hu=s.slice(t,1<r?1-r:void 0)}function fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lc(){return!0}function cw(){return!1}function mn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Lc:cw,this.isPropagationStopped=cw,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lc)},persist:function(){},isPersistent:Lc}),e}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hg=mn(ea),Wl=qe({},ea,{view:0,detail:0}),WN=mn(Wl),uf,df,Na,Fd=qe({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(uf=t.screenX-Na.screenX,df=t.screenY-Na.screenY):df=uf=0,Na=t),uf)},movementY:function(t){return"movementY"in t?t.movementY:df}}),uw=mn(Fd),HN=qe({},Fd,{dataTransfer:0}),qN=mn(HN),KN=qe({},Wl,{relatedTarget:0}),hf=mn(KN),GN=qe({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),QN=mn(GN),YN=qe({},ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XN=mn(YN),JN=qe({},ea,{data:0}),dw=mn(JN),ZN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tk[t])?!!e[t]:!1}function fg(){return nk}var rk=qe({},Wl,{key:function(t){if(t.key){var e=ZN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ek[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fg,charCode:function(t){return t.type==="keypress"?fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sk=mn(rk),ik=qe({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hw=mn(ik),ok=qe({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fg}),ak=mn(ok),lk=qe({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),ck=mn(lk),uk=qe({},Fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dk=mn(uk),hk=[9,13,27,32],pg=Ar&&"CompositionEvent"in window,Ya=null;Ar&&"documentMode"in document&&(Ya=document.documentMode);var fk=Ar&&"TextEvent"in window&&!Ya,fT=Ar&&(!pg||Ya&&8<Ya&&11>=Ya),fw=" ",pw=!1;function pT(t,e){switch(t){case"keyup":return hk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function pk(t,e){switch(t){case"compositionend":return mT(e);case"keypress":return e.which!==32?null:(pw=!0,fw);case"textInput":return t=e.data,t===fw&&pw?null:t;default:return null}}function mk(t,e){if(so)return t==="compositionend"||!pg&&pT(t,e)?(t=hT(),hu=dg=cs=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fT&&e.locale!=="ko"?null:e.data;default:return null}}var gk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gk[t.type]:e==="textarea"}function gT(t,e,n,r){Kx(r),e=zu(e,"onChange"),0<e.length&&(n=new hg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xa=null,gl=null;function vk(t){bT(t,0)}function Ud(t){var e=ao(t);if(Ux(e))return t}function yk(t,e){if(t==="change")return e}var vT=!1;if(Ar){var ff;if(Ar){var pf="oninput"in document;if(!pf){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),pf=typeof gw.oninput=="function"}ff=pf}else ff=!1;vT=ff&&(!document.documentMode||9<document.documentMode)}function vw(){Xa&&(Xa.detachEvent("onpropertychange",yT),gl=Xa=null)}function yT(t){if(t.propertyName==="value"&&Ud(gl)){var e=[];gT(e,gl,t,og(t)),Xx(vk,e)}}function wk(t,e,n){t==="focusin"?(vw(),Xa=e,gl=n,Xa.attachEvent("onpropertychange",yT)):t==="focusout"&&vw()}function _k(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ud(gl)}function Ek(t,e){if(t==="click")return Ud(e)}function xk(t,e){if(t==="input"||t==="change")return Ud(e)}function Tk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vn=typeof Object.is=="function"?Object.is:Tk;function vl(t,e){if(Vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!op.call(e,s)||!Vn(t[s],e[s]))return!1}return!0}function yw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ww(t,e){var n=yw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yw(n)}}function wT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _T(){for(var t=window,e=Mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mu(t.document)}return e}function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sk(t){var e=_T(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wT(n.ownerDocument.documentElement,n)){if(r!==null&&mg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ww(n,i);var o=ww(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ck=Ar&&"documentMode"in document&&11>=document.documentMode,io=null,Cp=null,Ja=null,Ip=!1;function _w(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ip||io==null||io!==Mu(r)||(r=io,"selectionStart"in r&&mg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ja&&vl(Ja,r)||(Ja=r,r=zu(Cp,"onSelect"),0<r.length&&(e=new hg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=io)))}function Mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},mf={},ET={};Ar&&(ET=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function $d(t){if(mf[t])return mf[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ET)return mf[t]=e[n];return t}var xT=$d("animationend"),TT=$d("animationiteration"),ST=$d("animationstart"),CT=$d("transitionend"),IT=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ms(t,e){IT.set(t,e),Oi(e,[t])}for(var gf=0;gf<Ew.length;gf++){var vf=Ew[gf],Ik=vf.toLowerCase(),bk=vf[0].toUpperCase()+vf.slice(1);Ms(Ik,"on"+bk)}Ms(xT,"onAnimationEnd");Ms(TT,"onAnimationIteration");Ms(ST,"onAnimationStart");Ms("dblclick","onDoubleClick");Ms("focusin","onFocus");Ms("focusout","onBlur");Ms(CT,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function xw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IN(r,e,void 0,t),t.currentTarget=null}function bT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;xw(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;xw(s,a,u),i=l}}}if(Vu)throw t=Ep,Vu=!1,Ep=null,t}function Fe(t,e){var n=e[Np];n===void 0&&(n=e[Np]=new Set);var r=t+"__bubble";n.has(r)||(RT(e,t,2,!1),n.add(r))}function yf(t,e,n){var r=0;e&&(r|=4),RT(n,t,r,e)}var jc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[jc]){t[jc]=!0,Lx.forEach(function(n){n!=="selectionchange"&&(Rk.has(n)||yf(n,!1,t),yf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jc]||(e[jc]=!0,yf("selectionchange",!1,e))}}function RT(t,e,n,r){switch(dT(e)){case 1:var s=BN;break;case 4:s=zN;break;default:s=ug}n=s.bind(null,e,n,t),s=void 0,!_p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function wf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=si(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Xx(function(){var u=i,h=og(n),f=[];e:{var g=IT.get(t);if(g!==void 0){var v=hg,T=t;switch(t){case"keypress":if(fu(n)===0)break e;case"keydown":case"keyup":v=sk;break;case"focusin":T="focus",v=hf;break;case"focusout":T="blur",v=hf;break;case"beforeblur":case"afterblur":v=hf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=qN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ak;break;case xT:case TT:case ST:v=QN;break;case CT:v=ck;break;case"scroll":v=WN;break;case"wheel":v=dk;break;case"copy":case"cut":case"paste":v=XN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=hw}var y=(e&4)!==0,x=!y&&t==="scroll",w=y?g!==null?g+"Capture":null:g;y=[];for(var E=u,S;E!==null;){S=E;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,w!==null&&(P=hl(E,w),P!=null&&y.push(wl(E,P,S)))),x)break;E=E.return}0<y.length&&(g=new v(g,T,null,n,h),f.push({event:g,listeners:y}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==yp&&(T=n.relatedTarget||n.fromElement)&&(si(T)||T[Pr]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(T=n.relatedTarget||n.toElement,v=u,T=T?si(T):null,T!==null&&(x=Di(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(v=null,T=u),v!==T)){if(y=uw,P="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(y=hw,P="onPointerLeave",w="onPointerEnter",E="pointer"),x=v==null?g:ao(v),S=T==null?g:ao(T),g=new y(P,E+"leave",v,n,h),g.target=x,g.relatedTarget=S,P=null,si(h)===u&&(y=new y(w,E+"enter",T,n,h),y.target=S,y.relatedTarget=x,P=y),x=P,v&&T)t:{for(y=v,w=T,E=0,S=y;S;S=Gi(S))E++;for(S=0,P=w;P;P=Gi(P))S++;for(;0<E-S;)y=Gi(y),E--;for(;0<S-E;)w=Gi(w),S--;for(;E--;){if(y===w||w!==null&&y===w.alternate)break t;y=Gi(y),w=Gi(w)}y=null}else y=null;v!==null&&Tw(f,g,v,y,!1),T!==null&&x!==null&&Tw(f,x,T,y,!0)}}e:{if(g=u?ao(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var D=yk;else if(mw(g))if(vT)D=xk;else{D=_k;var L=wk}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=Ek);if(D&&(D=D(t,u))){gT(f,D,n,h);break e}L&&L(t,g,u),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&fp(g,"number",g.value)}switch(L=u?ao(u):window,t){case"focusin":(mw(L)||L.contentEditable==="true")&&(io=L,Cp=u,Ja=null);break;case"focusout":Ja=Cp=io=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,_w(f,n,h);break;case"selectionchange":if(Ck)break;case"keydown":case"keyup":_w(f,n,h)}var I;if(pg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else so?pT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(fT&&n.locale!=="ko"&&(so||C!=="onCompositionStart"?C==="onCompositionEnd"&&so&&(I=hT()):(cs=h,dg="value"in cs?cs.value:cs.textContent,so=!0)),L=zu(u,C),0<L.length&&(C=new dw(C,t,null,n,h),f.push({event:C,listeners:L}),I?C.data=I:(I=mT(n),I!==null&&(C.data=I)))),(I=fk?pk(t,n):mk(t,n))&&(u=zu(u,"onBeforeInput"),0<u.length&&(h=new dw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=I))}bT(f,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hl(t,n),i!=null&&r.unshift(wl(t,i,s)),i=hl(t,e),i!=null&&r.push(wl(t,i,s))),t=t.return}return r}function Gi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=hl(n,i),l!=null&&o.unshift(wl(n,l,a))):s||(l=hl(n,i),l!=null&&o.push(wl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ak=/\r\n?/g,Pk=/\u0000|\uFFFD/g;function Sw(t){return(typeof t=="string"?t:""+t).replace(Ak,`
`).replace(Pk,"")}function Vc(t,e,n){if(e=Sw(e),Sw(t)!==e&&n)throw Error(q(425))}function Wu(){}var bp=null,Rp=null;function Ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,Nk=typeof clearTimeout=="function"?clearTimeout:void 0,Cw=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof Cw<"u"?function(t){return Cw.resolve(null).then(t).catch(Ok)}:Pp;function Ok(t){setTimeout(function(){throw t})}function _f(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ml(e)}function gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Iw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ta=Math.random().toString(36).slice(2),Gn="__reactFiber$"+ta,_l="__reactProps$"+ta,Pr="__reactContainer$"+ta,Np="__reactEvents$"+ta,Dk="__reactListeners$"+ta,Lk="__reactHandles$"+ta;function si(t){var e=t[Gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pr]||n[Gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Iw(t);t!==null;){if(n=t[Gn])return n;t=Iw(t)}return e}t=n,n=t.parentNode}return null}function Hl(t){return t=t[Gn]||t[Pr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Bd(t){return t[_l]||null}var kp=[],lo=-1;function js(t){return{current:t}}function $e(t){0>lo||(t.current=kp[lo],kp[lo]=null,lo--)}function Me(t,e){lo++,kp[lo]=t.current,t.current=e}var bs={},jt=js(bs),Jt=js(!1),gi=bs;function ko(t,e){var n=t.type.contextTypes;if(!n)return bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Zt(t){return t=t.childContextTypes,t!=null}function Hu(){$e(Jt),$e(jt)}function bw(t,e,n){if(jt.current!==bs)throw Error(q(168));Me(jt,e),Me(Jt,n)}function AT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,wN(t)||"Unknown",s));return qe({},n,r)}function qu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bs,gi=jt.current,Me(jt,t),Me(Jt,Jt.current),!0}function Rw(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=AT(t,e,gi),r.__reactInternalMemoizedMergedChildContext=t,$e(Jt),$e(jt),Me(jt,t)):$e(Jt),Me(Jt,n)}var yr=null,zd=!1,Ef=!1;function PT(t){yr===null?yr=[t]:yr.push(t)}function Mk(t){zd=!0,PT(t)}function Vs(){if(!Ef&&yr!==null){Ef=!0;var t=0,e=Ne;try{var n=yr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}yr=null,zd=!1}catch(s){throw yr!==null&&(yr=yr.slice(t+1)),tT(ag,Vs),s}finally{Ne=e,Ef=!1}}return null}var co=[],uo=0,Ku=null,Gu=0,vn=[],yn=0,vi=null,_r=1,Er="";function ei(t,e){co[uo++]=Gu,co[uo++]=Ku,Ku=t,Gu=e}function NT(t,e,n){vn[yn++]=_r,vn[yn++]=Er,vn[yn++]=vi,vi=t;var r=_r;t=Er;var s=32-Dn(r)-1;r&=~(1<<s),n+=1;var i=32-Dn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_r=1<<32-Dn(e)+s|n<<s|r,Er=i+t}else _r=1<<i|n<<s|r,Er=t}function gg(t){t.return!==null&&(ei(t,1),NT(t,1,0))}function vg(t){for(;t===Ku;)Ku=co[--uo],co[uo]=null,Gu=co[--uo],co[uo]=null;for(;t===vi;)vi=vn[--yn],vn[yn]=null,Er=vn[--yn],vn[yn]=null,_r=vn[--yn],vn[yn]=null}var dn=null,ln=null,ze=!1,On=null;function kT(t,e){var n=wn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Aw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,ln=gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vi!==null?{id:_r,overflow:Er}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dn=t,ln=null,!0):!1;default:return!1}}function Op(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dp(t){if(ze){var e=ln;if(e){var n=e;if(!Aw(t,e)){if(Op(t))throw Error(q(418));e=gs(n.nextSibling);var r=dn;e&&Aw(t,e)?kT(r,n):(t.flags=t.flags&-4097|2,ze=!1,dn=t)}}else{if(Op(t))throw Error(q(418));t.flags=t.flags&-4097|2,ze=!1,dn=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function Fc(t){if(t!==dn)return!1;if(!ze)return Pw(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ap(t.type,t.memoizedProps)),e&&(e=ln)){if(Op(t))throw OT(),Error(q(418));for(;e;)kT(t,e),e=gs(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ln=gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=dn?gs(t.stateNode.nextSibling):null;return!0}function OT(){for(var t=ln;t;)t=gs(t.nextSibling)}function Oo(){ln=dn=null,ze=!1}function yg(t){On===null?On=[t]:On.push(t)}var jk=Ur.ReactCurrentBatchConfig;function ka(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Uc(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nw(t){var e=t._init;return e(t._payload)}function DT(t){function e(w,E){if(t){var S=w.deletions;S===null?(w.deletions=[E],w.flags|=16):S.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function s(w,E){return w=_s(w,E),w.index=0,w.sibling=null,w}function i(w,E,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<E?(w.flags|=2,E):S):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,S,P){return E===null||E.tag!==6?(E=Rf(S,w.mode,P),E.return=w,E):(E=s(E,S),E.return=w,E)}function l(w,E,S,P){var D=S.type;return D===ro?h(w,E,S.props.children,P,S.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===es&&Nw(D)===E.type)?(P=s(E,S.props),P.ref=ka(w,E,S),P.return=w,P):(P=_u(S.type,S.key,S.props,null,w.mode,P),P.ref=ka(w,E,S),P.return=w,P)}function u(w,E,S,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=Af(S,w.mode,P),E.return=w,E):(E=s(E,S.children||[]),E.return=w,E)}function h(w,E,S,P,D){return E===null||E.tag!==7?(E=di(S,w.mode,P,D),E.return=w,E):(E=s(E,S),E.return=w,E)}function f(w,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Rf(""+E,w.mode,S),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ac:return S=_u(E.type,E.key,E.props,null,w.mode,S),S.ref=ka(w,null,E),S.return=w,S;case no:return E=Af(E,w.mode,S),E.return=w,E;case es:var P=E._init;return f(w,P(E._payload),S)}if(Ua(E)||ba(E))return E=di(E,w.mode,S,null),E.return=w,E;Uc(w,E)}return null}function g(w,E,S,P){var D=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:a(w,E,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ac:return S.key===D?l(w,E,S,P):null;case no:return S.key===D?u(w,E,S,P):null;case es:return D=S._init,g(w,E,D(S._payload),P)}if(Ua(S)||ba(S))return D!==null?null:h(w,E,S,P,null);Uc(w,S)}return null}function v(w,E,S,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(S)||null,a(E,w,""+P,D);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ac:return w=w.get(P.key===null?S:P.key)||null,l(E,w,P,D);case no:return w=w.get(P.key===null?S:P.key)||null,u(E,w,P,D);case es:var L=P._init;return v(w,E,S,L(P._payload),D)}if(Ua(P)||ba(P))return w=w.get(S)||null,h(E,w,P,D,null);Uc(E,P)}return null}function T(w,E,S,P){for(var D=null,L=null,I=E,C=E=0,A=null;I!==null&&C<S.length;C++){I.index>C?(A=I,I=null):A=I.sibling;var N=g(w,I,S[C],P);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(w,I),E=i(N,E,C),L===null?D=N:L.sibling=N,L=N,I=A}if(C===S.length)return n(w,I),ze&&ei(w,C),D;if(I===null){for(;C<S.length;C++)I=f(w,S[C],P),I!==null&&(E=i(I,E,C),L===null?D=I:L.sibling=I,L=I);return ze&&ei(w,C),D}for(I=r(w,I);C<S.length;C++)A=v(I,w,C,S[C],P),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?C:A.key),E=i(A,E,C),L===null?D=A:L.sibling=A,L=A);return t&&I.forEach(function(k){return e(w,k)}),ze&&ei(w,C),D}function y(w,E,S,P){var D=ba(S);if(typeof D!="function")throw Error(q(150));if(S=D.call(S),S==null)throw Error(q(151));for(var L=D=null,I=E,C=E=0,A=null,N=S.next();I!==null&&!N.done;C++,N=S.next()){I.index>C?(A=I,I=null):A=I.sibling;var k=g(w,I,N.value,P);if(k===null){I===null&&(I=A);break}t&&I&&k.alternate===null&&e(w,I),E=i(k,E,C),L===null?D=k:L.sibling=k,L=k,I=A}if(N.done)return n(w,I),ze&&ei(w,C),D;if(I===null){for(;!N.done;C++,N=S.next())N=f(w,N.value,P),N!==null&&(E=i(N,E,C),L===null?D=N:L.sibling=N,L=N);return ze&&ei(w,C),D}for(I=r(w,I);!N.done;C++,N=S.next())N=v(I,w,C,N.value,P),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?C:N.key),E=i(N,E,C),L===null?D=N:L.sibling=N,L=N);return t&&I.forEach(function(O){return e(w,O)}),ze&&ei(w,C),D}function x(w,E,S,P){if(typeof S=="object"&&S!==null&&S.type===ro&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ac:e:{for(var D=S.key,L=E;L!==null;){if(L.key===D){if(D=S.type,D===ro){if(L.tag===7){n(w,L.sibling),E=s(L,S.props.children),E.return=w,w=E;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===es&&Nw(D)===L.type){n(w,L.sibling),E=s(L,S.props),E.ref=ka(w,L,S),E.return=w,w=E;break e}n(w,L);break}else e(w,L);L=L.sibling}S.type===ro?(E=di(S.props.children,w.mode,P,S.key),E.return=w,w=E):(P=_u(S.type,S.key,S.props,null,w.mode,P),P.ref=ka(w,E,S),P.return=w,w=P)}return o(w);case no:e:{for(L=S.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(w,E.sibling),E=s(E,S.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=Af(S,w.mode,P),E.return=w,w=E}return o(w);case es:return L=S._init,x(w,E,L(S._payload),P)}if(Ua(S))return T(w,E,S,P);if(ba(S))return y(w,E,S,P);Uc(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(w,E.sibling),E=s(E,S),E.return=w,w=E):(n(w,E),E=Rf(S,w.mode,P),E.return=w,w=E),o(w)):n(w,E)}return x}var Do=DT(!0),LT=DT(!1),Qu=js(null),Yu=null,ho=null,wg=null;function _g(){wg=ho=Yu=null}function Eg(t){var e=Qu.current;$e(Qu),t._currentValue=e}function Lp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Yu=t,wg=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(wg!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(Yu===null)throw Error(q(308));ho=t,Yu.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var ii=null;function xg(t){ii===null?ii=[t]:ii.push(t)}function MT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ts=!1;function Tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ir(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Nr(t,n)}return s=r.interleaved,s===null?(e.next=e,xg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Nr(t,n)}function pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lg(t,n)}}function kw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xu(t,e,n,r){var s=t.updateQueue;ts=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=u=l=null,a=i;do{var g=a.lane,v=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,y=a;switch(g=e,v=n,y.tag){case 1:if(T=y.payload,typeof T=="function"){f=T.call(v,f,g);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=y.payload,g=typeof T=="function"?T.call(v,f,g):T,g==null)break e;f=qe({},f,g);break e;case 2:ts=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,l=f):h=h.next=v,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);wi|=o,t.lanes=o,t.memoizedState=f}}function Ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var ql={},Jn=js(ql),El=js(ql),xl=js(ql);function oi(t){if(t===ql)throw Error(q(174));return t}function Sg(t,e){switch(Me(xl,e),Me(El,t),Me(Jn,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mp(e,t)}$e(Jn),Me(Jn,e)}function Lo(){$e(Jn),$e(El),$e(xl)}function VT(t){oi(xl.current);var e=oi(Jn.current),n=mp(e,t.type);e!==n&&(Me(El,t),Me(Jn,n))}function Cg(t){El.current===t&&($e(Jn),$e(El))}var We=js(0);function Ju(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function Ig(){for(var t=0;t<xf.length;t++)xf[t]._workInProgressVersionPrimary=null;xf.length=0}var mu=Ur.ReactCurrentDispatcher,Tf=Ur.ReactCurrentBatchConfig,yi=0,He=null,ct=null,pt=null,Zu=!1,Za=!1,Tl=0,Vk=0;function Nt(){throw Error(q(321))}function bg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vn(t[n],e[n]))return!1;return!0}function Rg(t,e,n,r,s,i){if(yi=i,He=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mu.current=t===null||t.memoizedState===null?Bk:zk,t=n(r,s),Za){i=0;do{if(Za=!1,Tl=0,25<=i)throw Error(q(301));i+=1,pt=ct=null,e.updateQueue=null,mu.current=Wk,t=n(r,s)}while(Za)}if(mu.current=ed,e=ct!==null&&ct.next!==null,yi=0,pt=ct=He=null,Zu=!1,e)throw Error(q(300));return t}function Ag(){var t=Tl!==0;return Tl=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?He.memoizedState=pt=t:pt=pt.next=t,pt}function xn(){if(ct===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=pt===null?He.memoizedState:pt.next;if(e!==null)pt=e,ct=t;else{if(t===null)throw Error(q(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},pt===null?He.memoizedState=pt=t:pt=pt.next=t}return pt}function Sl(t,e){return typeof e=="function"?e(t):e}function Sf(t){var e=xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=ct,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var h=u.lane;if((yi&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,He.lanes|=h,wi|=h}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Vn(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,He.lanes|=i,wi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cf(t){var e=xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Vn(i,e.memoizedState)||(Xt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FT(){}function UT(t,e){var n=He,r=xn(),s=e(),i=!Vn(r.memoizedState,s);if(i&&(r.memoizedState=s,Xt=!0),r=r.queue,Pg(zT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Cl(9,BT.bind(null,n,r,s,e),void 0,null),mt===null)throw Error(q(349));yi&30||$T(n,e,s)}return s}function $T(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BT(t,e,n,r){e.value=n,e.getSnapshot=r,WT(e)&&HT(t)}function zT(t,e,n){return n(function(){WT(e)&&HT(t)})}function WT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vn(t,n)}catch{return!0}}function HT(t){var e=Nr(t,1);e!==null&&Ln(e,t,1,-1)}function Dw(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=$k.bind(null,He,t),[e.memoizedState,t]}function Cl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=He.updateQueue,e===null?(e={lastEffect:null,stores:null},He.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qT(){return xn().memoizedState}function gu(t,e,n,r){var s=Hn();He.flags|=t,s.memoizedState=Cl(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var s=xn();r=r===void 0?null:r;var i=void 0;if(ct!==null){var o=ct.memoizedState;if(i=o.destroy,r!==null&&bg(r,o.deps)){s.memoizedState=Cl(e,n,i,r);return}}He.flags|=t,s.memoizedState=Cl(1|e,n,i,r)}function Lw(t,e){return gu(8390656,8,t,e)}function Pg(t,e){return Wd(2048,8,t,e)}function KT(t,e){return Wd(4,2,t,e)}function GT(t,e){return Wd(4,4,t,e)}function QT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YT(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,4,QT.bind(null,e,t),n)}function Ng(){}function XT(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JT(t,e){var n=xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZT(t,e,n){return yi&21?(Vn(n,e)||(n=sT(),He.lanes|=n,wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function Fk(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Tf.transition;Tf.transition={};try{t(!1),e()}finally{Ne=n,Tf.transition=r}}function e1(){return xn().memoizedState}function Uk(t,e,n){var r=ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t1(t))n1(e,n);else if(n=MT(t,e,n,r),n!==null){var s=Bt();Ln(n,t,r,s),r1(n,e,r)}}function $k(t,e,n){var r=ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t1(t))n1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Vn(a,o)){var l=e.interleaved;l===null?(s.next=s,xg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=MT(t,e,s,r),n!==null&&(s=Bt(),Ln(n,t,r,s),r1(n,e,r))}}function t1(t){var e=t.alternate;return t===He||e!==null&&e===He}function n1(t,e){Za=Zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lg(t,n)}}var ed={readContext:En,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},Bk={readContext:En,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:Lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gu(4194308,4,QT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Uk.bind(null,He,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:Dw,useDebugValue:Ng,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=Dw(!1),e=t[0];return t=Fk.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=He,s=Hn();if(ze){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),mt===null)throw Error(q(349));yi&30||$T(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Lw(zT.bind(null,r,i,t),[t]),r.flags|=2048,Cl(9,BT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Hn(),e=mt.identifierPrefix;if(ze){var n=Er,r=_r;n=(r&~(1<<32-Dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Tl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Vk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zk={readContext:En,useCallback:XT,useContext:En,useEffect:Pg,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:GT,useMemo:JT,useReducer:Sf,useRef:qT,useState:function(){return Sf(Sl)},useDebugValue:Ng,useDeferredValue:function(t){var e=xn();return ZT(e,ct.memoizedState,t)},useTransition:function(){var t=Sf(Sl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:FT,useSyncExternalStore:UT,useId:e1,unstable_isNewReconciler:!1},Wk={readContext:En,useCallback:XT,useContext:En,useEffect:Pg,useImperativeHandle:YT,useInsertionEffect:KT,useLayoutEffect:GT,useMemo:JT,useReducer:Cf,useRef:qT,useState:function(){return Cf(Sl)},useDebugValue:Ng,useDeferredValue:function(t){var e=xn();return ct===null?e.memoizedState=t:ZT(e,ct.memoizedState,t)},useTransition:function(){var t=Cf(Sl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:FT,useSyncExternalStore:UT,useId:e1,unstable_isNewReconciler:!1};function Pn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hd={isMounted:function(t){return(t=t._reactInternals)?Di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=ws(t),i=Ir(r,s);i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(Ln(e,t,s,r),pu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),s=ws(t),i=Ir(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vs(t,i,s),e!==null&&(Ln(e,t,s,r),pu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=ws(t),s=Ir(n,r);s.tag=2,e!=null&&(s.callback=e),e=vs(t,s,r),e!==null&&(Ln(e,t,r,n),pu(e,t,r))}};function Mw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(s,i):!0}function s1(t,e,n){var r=!1,s=bs,i=e.contextType;return typeof i=="object"&&i!==null?i=En(i):(s=Zt(e)?gi:jt.current,r=e.contextTypes,i=(r=r!=null)?ko(t,s):bs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function jw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hd.enqueueReplaceState(e,e.state,null)}function jp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Tg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=En(i):(i=Zt(e)?gi:jt.current,s.context=ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Mp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hd.enqueueReplaceState(s,s.state,null),Xu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Mo(t,e){try{var n="",r=e;do n+=yN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function If(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hk=typeof WeakMap=="function"?WeakMap:Map;function i1(t,e,n){n=Ir(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nd||(nd=!0,Gp=r),Vp(t,e)},n}function o1(t,e,n){n=Ir(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vp(t,e),typeof r!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=i2.bind(null,t,e,n),e.then(t,t))}function Fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Uw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ir(-1,1),e.tag=2,vs(n,e,1))),n.lanes|=1),t)}var qk=Ur.ReactCurrentOwner,Xt=!1;function Ut(t,e,n,r){e.child=t===null?LT(e,null,n,r):Do(e,t.child,n,r)}function $w(t,e,n,r,s){n=n.render;var i=e.ref;return wo(e,s),r=Rg(t,e,n,r,i,s),n=Ag(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(ze&&n&&gg(e),e.flags|=1,Ut(t,e,r,s),e.child)}function Bw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,a1(t,e,i,r,s)):(t=_u(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(o,r)&&t.ref===e.ref)return kr(t,e,s)}return e.flags|=1,t=_s(i,r),t.ref=e.ref,t.return=e,e.child=t}function a1(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(vl(i,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,kr(t,e,s)}return Fp(t,e,n,r,s)}function l1(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(po,nn),nn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(po,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(po,nn),nn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Me(po,nn),nn|=r;return Ut(t,e,s,n),e.child}function c1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fp(t,e,n,r,s){var i=Zt(n)?gi:jt.current;return i=ko(e,i),wo(e,s),n=Rg(t,e,n,r,i,s),r=Ag(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kr(t,e,s)):(ze&&r&&gg(e),e.flags|=1,Ut(t,e,n,s),e.child)}function zw(t,e,n,r,s){if(Zt(n)){var i=!0;qu(e)}else i=!1;if(wo(e,s),e.stateNode===null)vu(t,e),s1(e,n,r),jp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=Zt(n)?gi:jt.current,u=ko(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&jw(e,o,r,u),ts=!1;var g=e.memoizedState;o.state=g,Xu(e,r,o,s),l=e.memoizedState,a!==r||g!==l||Jt.current||ts?(typeof h=="function"&&(Mp(e,n,h,r),l=e.memoizedState),(a=ts||Mw(e,n,a,r,g,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Pn(e.type,a),o.props=u,f=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=En(l):(l=Zt(n)?gi:jt.current,l=ko(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==l)&&jw(e,o,r,l),ts=!1,g=e.memoizedState,o.state=g,Xu(e,r,o,s);var T=e.memoizedState;a!==f||g!==T||Jt.current||ts?(typeof v=="function"&&(Mp(e,n,v,r),T=e.memoizedState),(u=ts||Mw(e,n,u,r,g,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Up(t,e,n,r,i,s)}function Up(t,e,n,r,s,i){c1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Rw(e,n,!1),kr(t,e,i);r=e.stateNode,qk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Do(e,t.child,null,i),e.child=Do(e,null,a,i)):Ut(t,e,a,i),e.memoizedState=r.state,s&&Rw(e,n,!0),e.child}function u1(t){var e=t.stateNode;e.pendingContext?bw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bw(t,e.context,!1),Sg(t,e.containerInfo)}function Ww(t,e,n,r,s){return Oo(),yg(s),e.flags|=256,Ut(t,e,n,r),e.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Bp(t){return{baseLanes:t,cachePool:null,transitions:null}}function d1(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Me(We,s&1),t===null)return Dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gd(o,r,0,null),t=di(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bp(n),e.memoizedState=$p,t):kg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Kk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_s(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_s(a,i):(i=di(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Bp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=$p,r}return i=t.child,t=i.sibling,r=_s(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kg(t,e){return e=Gd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $c(t,e,n,r){return r!==null&&yg(r),Do(e,t.child,null,n),t=kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=If(Error(q(422))),$c(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gd({mode:"visible",children:r.children},s,0,null),i=di(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Do(e,t.child,null,o),e.child.memoizedState=Bp(o),e.memoizedState=$p,i);if(!(e.mode&1))return $c(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=If(i,r,void 0),$c(t,e,o,r)}if(a=(o&t.childLanes)!==0,Xt||a){if(r=mt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Nr(t,s),Ln(r,t,s,-1))}return Vg(),r=If(Error(q(421))),$c(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=o2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ln=gs(s.nextSibling),dn=e,ze=!0,On=null,t!==null&&(vn[yn++]=_r,vn[yn++]=Er,vn[yn++]=vi,_r=t.id,Er=t.overflow,vi=e),e=kg(e,r.children),e.flags|=4096,e)}function Hw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lp(t.return,e,n)}function bf(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function h1(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ut(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hw(t,n,e);else if(t.tag===19)Hw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ju(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bf(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ju(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bf(e,!0,n,null,i);break;case"together":bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=_s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gk(t,e,n){switch(e.tag){case 3:u1(e),Oo();break;case 5:VT(e);break;case 1:Zt(e.type)&&qu(e);break;case 4:Sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Me(Qu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?d1(t,e,n):(Me(We,We.current&1),t=kr(t,e,n),t!==null?t.sibling:null);Me(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,l1(t,e,n)}return kr(t,e,n)}var f1,zp,p1,m1;f1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zp=function(){};p1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,oi(Jn.current);var i=null;switch(n){case"input":s=dp(t,s),r=dp(t,r),i=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),i=[];break;case"textarea":s=pp(t,s),r=pp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wu)}gp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ul.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ul.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};m1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oa(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qk(t,e,n){var r=e.pendingProps;switch(vg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(e),null;case 1:return Zt(e.type)&&Hu(),kt(e),null;case 3:return r=e.stateNode,Lo(),$e(Jt),$e(jt),Ig(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(Xp(On),On=null))),zp(t,e),kt(e),null;case 5:Cg(e);var s=oi(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)p1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return kt(e),null}if(t=oi(Jn.current),Fc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gn]=e,r[_l]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<Ba.length;s++)Fe(Ba[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":ew(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":nw(r,i),Fe("invalid",r)}gp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vc(r.textContent,a,t),s=["children",""+a]):ul.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Pc(r),tw(r,i,!0);break;case"textarea":Pc(r),rw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Wu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Gn]=e,t[_l]=r,f1(t,e,!1,!1),e.stateNode=t;e:{switch(o=vp(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ba.length;s++)Fe(Ba[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":ew(t,r),s=dp(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":nw(t,r),s=pp(t,r),Fe("invalid",t);break;default:s=r}gp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?qx(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Wx(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dl(t,l):typeof l=="number"&&dl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ul.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",t):l!=null&&ng(t,i,l,o))}switch(n){case"input":Pc(t),tw(t,r,!1);break;case"textarea":Pc(t),rw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Is(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?mo(t,!!r.multiple,i,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kt(e),null;case 6:if(t&&e.stateNode!=null)m1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=oi(xl.current),oi(Jn.current),Fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gn]=e,(i=r.nodeValue!==n)&&(t=dn,t!==null))switch(t.tag){case 3:Vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=e,e.stateNode=r}return kt(e),null;case 13:if($e(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&ln!==null&&e.mode&1&&!(e.flags&128))OT(),Oo(),e.flags|=98560,i=!1;else if(i=Fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Gn]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kt(e),i=!1}else On!==null&&(Xp(On),On=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?dt===0&&(dt=3):Vg())),e.updateQueue!==null&&(e.flags|=4),kt(e),null);case 4:return Lo(),zp(t,e),t===null&&yl(e.stateNode.containerInfo),kt(e),null;case 10:return Eg(e.type._context),kt(e),null;case 17:return Zt(e.type)&&Hu(),kt(e),null;case 19:if($e(We),i=e.memoizedState,i===null)return kt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Oa(i,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ju(t),o!==null){for(e.flags|=128,Oa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&nt()>jo&&(e.flags|=128,r=!0,Oa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ju(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ze)return kt(e),null}else 2*nt()-i.renderingStartTime>jo&&n!==1073741824&&(e.flags|=128,r=!0,Oa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=nt(),e.sibling=null,n=We.current,Me(We,r?n&1|2:n&1),e):(kt(e),null);case 22:case 23:return jg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(kt(e),e.subtreeFlags&6&&(e.flags|=8192)):kt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function Yk(t,e){switch(vg(e),e.tag){case 1:return Zt(e.type)&&Hu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),$e(Jt),$e(jt),Ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cg(e),null;case 13:if($e(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(We),null;case 4:return Lo(),null;case 10:return Eg(e.type._context),null;case 22:case 23:return jg(),null;case 24:return null;default:return null}}var Bc=!1,Lt=!1,Xk=typeof WeakSet=="function"?WeakSet:Set,X=null;function fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ye(t,e,r)}else n.current=null}function Wp(t,e,n){try{n()}catch(r){Ye(t,e,r)}}var qw=!1;function Jk(t,e){if(bp=$u,t=_T(),mg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,f=t,g=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===t)break t;if(g===n&&++u===s&&(a=o),g===i&&++h===r&&(l=o),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rp={focusedElem:t,selectionRange:n},$u=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var y=T.memoizedProps,x=T.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Pn(e.type,y),x);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(P){Ye(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return T=qw,qw=!1,T}function el(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wp(e,n,i)}s=s.next}while(s!==r)}}function qd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g1(t){var e=t.alternate;e!==null&&(t.alternate=null,g1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gn],delete e[_l],delete e[Np],delete e[Dk],delete e[Lk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v1(t){return t.tag===5||t.tag===3||t.tag===4}function Kw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wu));else if(r!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}function Kp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kp(t,e,n),t=t.sibling;t!==null;)Kp(t,e,n),t=t.sibling}var wt=null,kn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)y1(t,e,n),n=n.sibling}function y1(t,e,n){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Vd,n)}catch{}switch(n.tag){case 5:Lt||fo(n,e);case 6:var r=wt,s=kn;wt=null,Qr(t,e,n),wt=r,kn=s,wt!==null&&(kn?(t=wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(kn?(t=wt,n=n.stateNode,t.nodeType===8?_f(t.parentNode,n):t.nodeType===1&&_f(t,n),ml(t)):_f(wt,n.stateNode));break;case 4:r=wt,s=kn,wt=n.stateNode.containerInfo,kn=!0,Qr(t,e,n),wt=r,kn=s;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wp(n,e,o),s=s.next}while(s!==r)}Qr(t,e,n);break;case 1:if(!Lt&&(fo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ye(n,e,a)}Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Qr(t,e,n),Lt=r):Qr(t,e,n);break;default:Qr(t,e,n)}}function Gw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Xk),e.forEach(function(r){var s=a2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,kn=!1;break e;case 3:wt=a.stateNode.containerInfo,kn=!0;break e;case 4:wt=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(wt===null)throw Error(q(160));y1(i,o,s),wt=null,kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ye(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w1(e,t),e=e.sibling}function w1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Wn(t),r&4){try{el(3,t,t.return),qd(3,t)}catch(y){Ye(t,t.return,y)}try{el(5,t,t.return)}catch(y){Ye(t,t.return,y)}}break;case 1:bn(e,t),Wn(t),r&512&&n!==null&&fo(n,n.return);break;case 5:if(bn(e,t),Wn(t),r&512&&n!==null&&fo(n,n.return),t.flags&32){var s=t.stateNode;try{dl(s,"")}catch(y){Ye(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$x(s,i),vp(a,o);var u=vp(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?qx(s,f):h==="dangerouslySetInnerHTML"?Wx(s,f):h==="children"?dl(s,f):ng(s,h,f,u)}switch(a){case"input":hp(s,i);break;case"textarea":Bx(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?mo(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?mo(s,!!i.multiple,i.defaultValue,!0):mo(s,!!i.multiple,i.multiple?[]:"",!1))}s[_l]=i}catch(y){Ye(t,t.return,y)}}break;case 6:if(bn(e,t),Wn(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){Ye(t,t.return,y)}}break;case 3:if(bn(e,t),Wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(y){Ye(t,t.return,y)}break;case 4:bn(e,t),Wn(t);break;case 13:bn(e,t),Wn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lg=nt())),r&4&&Gw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(u=Lt)||h,bn(e,t),Lt=u):bn(e,t),Wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(X=t,h=t.child;h!==null;){for(f=X=h;X!==null;){switch(g=X,v=g.child,g.tag){case 0:case 11:case 14:case 15:el(4,g,g.return);break;case 1:fo(g,g.return);var T=g.stateNode;if(typeof T.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(y){Ye(r,n,y)}}break;case 5:fo(g,g.return);break;case 22:if(g.memoizedState!==null){Yw(f);continue}}v!==null?(v.return=g,X=v):Yw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hx("display",o))}catch(y){Ye(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Ye(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(e,t),Wn(t),r&4&&Gw(t);break;case 21:break;default:bn(e,t),Wn(t)}}function Wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(v1(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(dl(s,""),r.flags&=-33);var i=Kw(t);Kp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Kw(t);qp(t,a,o);break;default:throw Error(q(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zk(t,e,n){X=t,_1(t)}function _1(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Bc;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=Bc;var u=Lt;if(Bc=o,(Lt=l)&&!u)for(X=s;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?Xw(s):l!==null?(l.return=o,X=l):Xw(s);for(;i!==null;)X=i,_1(i),i=i.sibling;X=s,Bc=a,Lt=u}Qw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):Qw(t)}}function Qw(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||qd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Pn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ow(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ow(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Lt||e.flags&512&&Hp(e)}catch(g){Ye(e,e.return,g)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function Yw(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function Xw(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qd(4,e)}catch(l){Ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ye(e,s,l)}}var i=e.return;try{Hp(e)}catch(l){Ye(e,i,l)}break;case 5:var o=e.return;try{Hp(e)}catch(l){Ye(e,o,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){X=null;break}var a=e.sibling;if(a!==null){a.return=e.return,X=a;break}X=e.return}}var e2=Math.ceil,td=Ur.ReactCurrentDispatcher,Og=Ur.ReactCurrentOwner,_n=Ur.ReactCurrentBatchConfig,Ie=0,mt=null,at=null,xt=0,nn=0,po=js(0),dt=0,Il=null,wi=0,Kd=0,Dg=0,tl=null,Qt=null,Lg=0,jo=1/0,vr=null,nd=!1,Gp=null,ys=null,zc=!1,us=null,rd=0,nl=0,Qp=null,yu=-1,wu=0;function Bt(){return Ie&6?nt():yu!==-1?yu:yu=nt()}function ws(t){return t.mode&1?Ie&2&&xt!==0?xt&-xt:jk.transition!==null?(wu===0&&(wu=sT()),wu):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:dT(t.type)),t):1}function Ln(t,e,n,r){if(50<nl)throw nl=0,Qp=null,Error(q(185));zl(t,n,r),(!(Ie&2)||t!==mt)&&(t===mt&&(!(Ie&2)&&(Kd|=n),dt===4&&ss(t,xt)),en(t,r),n===1&&Ie===0&&!(e.mode&1)&&(jo=nt()+500,zd&&Vs()))}function en(t,e){var n=t.callbackNode;jN(t,e);var r=Uu(t,t===mt?xt:0);if(r===0)n!==null&&ow(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ow(n),e===1)t.tag===0?Mk(Jw.bind(null,t)):PT(Jw.bind(null,t)),kk(function(){!(Ie&6)&&Vs()}),n=null;else{switch(iT(r)){case 1:n=ag;break;case 4:n=nT;break;case 16:n=Fu;break;case 536870912:n=rT;break;default:n=Fu}n=R1(n,E1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E1(t,e){if(yu=-1,wu=0,Ie&6)throw Error(q(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=Uu(t,t===mt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sd(t,r);else{e=r;var s=Ie;Ie|=2;var i=T1();(mt!==t||xt!==e)&&(vr=null,jo=nt()+500,ui(t,e));do try{r2();break}catch(a){x1(t,a)}while(!0);_g(),td.current=i,Ie=s,at!==null?e=0:(mt=null,xt=0,e=dt)}if(e!==0){if(e===2&&(s=xp(t),s!==0&&(r=s,e=Yp(t,s))),e===1)throw n=Il,ui(t,0),ss(t,r),en(t,nt()),n;if(e===6)ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!t2(s)&&(e=sd(t,r),e===2&&(i=xp(t),i!==0&&(r=i,e=Yp(t,i))),e===1))throw n=Il,ui(t,0),ss(t,r),en(t,nt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:ti(t,Qt,vr);break;case 3:if(ss(t,r),(r&130023424)===r&&(e=Lg+500-nt(),10<e)){if(Uu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Pp(ti.bind(null,t,Qt,vr),e);break}ti(t,Qt,vr);break;case 4:if(ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Dn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*e2(r/1960))-r,10<r){t.timeoutHandle=Pp(ti.bind(null,t,Qt,vr),r);break}ti(t,Qt,vr);break;case 5:ti(t,Qt,vr);break;default:throw Error(q(329))}}}return en(t,nt()),t.callbackNode===n?E1.bind(null,t):null}function Yp(t,e){var n=tl;return t.current.memoizedState.isDehydrated&&(ui(t,e).flags|=256),t=sd(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Xp(e)),t}function Xp(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function t2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ss(t,e){for(e&=~Dg,e&=~Kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),r=1<<n;t[n]=-1,e&=~r}}function Jw(t){if(Ie&6)throw Error(q(327));_o();var e=Uu(t,0);if(!(e&1))return en(t,nt()),null;var n=sd(t,e);if(t.tag!==0&&n===2){var r=xp(t);r!==0&&(e=r,n=Yp(t,r))}if(n===1)throw n=Il,ui(t,0),ss(t,e),en(t,nt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ti(t,Qt,vr),en(t,nt()),null}function Mg(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(jo=nt()+500,zd&&Vs())}}function _i(t){us!==null&&us.tag===0&&!(Ie&6)&&_o();var e=Ie;Ie|=1;var n=_n.transition,r=Ne;try{if(_n.transition=null,Ne=1,t)return t()}finally{Ne=r,_n.transition=n,Ie=e,!(Ie&6)&&Vs()}}function jg(){nn=po.current,$e(po)}function ui(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nk(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(vg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Hu();break;case 3:Lo(),$e(Jt),$e(jt),Ig();break;case 5:Cg(r);break;case 4:Lo();break;case 13:$e(We);break;case 19:$e(We);break;case 10:Eg(r.type._context);break;case 22:case 23:jg()}n=n.return}if(mt=t,at=t=_s(t.current,null),xt=nn=e,dt=0,Il=null,Dg=Kd=wi=0,Qt=tl=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ii=null}return t}function x1(t,e){do{var n=at;try{if(_g(),mu.current=ed,Zu){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zu=!1}if(yi=0,pt=ct=He=null,Za=!1,Tl=0,Og.current=null,n===null||n.return===null){dt=1,Il=e,at=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Fw(o);if(v!==null){v.flags&=-257,Uw(v,o,a,i,e),v.mode&1&&Vw(i,u,e),e=v,l=u;var T=e.updateQueue;if(T===null){var y=new Set;y.add(l),e.updateQueue=y}else T.add(l);break e}else{if(!(e&1)){Vw(i,u,e),Vg();break e}l=Error(q(426))}}else if(ze&&a.mode&1){var x=Fw(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Uw(x,o,a,i,e),yg(Mo(l,a));break e}}i=l=Mo(l,a),dt!==4&&(dt=2),tl===null?tl=[i]:tl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=i1(i,l,e);kw(i,w);break e;case 1:a=l;var E=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ys===null||!ys.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=o1(i,a,e);kw(i,P);break e}}i=i.return}while(i!==null)}C1(n)}catch(D){e=D,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function T1(){var t=td.current;return td.current=ed,t===null?ed:t}function Vg(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||!(wi&268435455)&&!(Kd&268435455)||ss(mt,xt)}function sd(t,e){var n=Ie;Ie|=2;var r=T1();(mt!==t||xt!==e)&&(vr=null,ui(t,e));do try{n2();break}catch(s){x1(t,s)}while(!0);if(_g(),Ie=n,td.current=r,at!==null)throw Error(q(261));return mt=null,xt=0,dt}function n2(){for(;at!==null;)S1(at)}function r2(){for(;at!==null&&!RN();)S1(at)}function S1(t){var e=b1(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?C1(t):at=e,Og.current=null}function C1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Yk(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,at=null;return}}else if(n=Qk(n,e,nn),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);dt===0&&(dt=5)}function ti(t,e,n){var r=Ne,s=_n.transition;try{_n.transition=null,Ne=1,s2(t,e,n,r)}finally{_n.transition=s,Ne=r}return null}function s2(t,e,n,r){do _o();while(us!==null);if(Ie&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(VN(t,i),t===mt&&(at=mt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zc||(zc=!0,R1(Fu,function(){return _o(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=_n.transition,_n.transition=null;var o=Ne;Ne=1;var a=Ie;Ie|=4,Og.current=null,Jk(t,n),w1(n,t),Sk(Rp),$u=!!bp,Rp=bp=null,t.current=n,Zk(n),AN(),Ie=a,Ne=o,_n.transition=i}else t.current=n;if(zc&&(zc=!1,us=t,rd=s),i=t.pendingLanes,i===0&&(ys=null),kN(n.stateNode),en(t,nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(nd)throw nd=!1,t=Gp,Gp=null,t;return rd&1&&t.tag!==0&&_o(),i=t.pendingLanes,i&1?t===Qp?nl++:(nl=0,Qp=t):nl=0,Vs(),null}function _o(){if(us!==null){var t=iT(rd),e=_n.transition,n=Ne;try{if(_n.transition=null,Ne=16>t?16:t,us===null)var r=!1;else{if(t=us,us=null,rd=0,Ie&6)throw Error(q(331));var s=Ie;for(Ie|=4,X=t.current;X!==null;){var i=X,o=i.child;if(X.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(X=u;X!==null;){var h=X;switch(h.tag){case 0:case 11:case 15:el(8,h,i)}var f=h.child;if(f!==null)f.return=h,X=f;else for(;X!==null;){h=X;var g=h.sibling,v=h.return;if(g1(h),h===u){X=null;break}if(g!==null){g.return=v,X=g;break}X=v}}}var T=i.alternate;if(T!==null){var y=T.child;if(y!==null){T.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}X=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,X=o;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:el(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,X=w;break e}X=i.return}}var E=t.current;for(X=E;X!==null;){o=X;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,X=S;else e:for(o=E;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qd(9,a)}}catch(D){Ye(a,a.return,D)}if(a===o){X=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,X=P;break e}X=a.return}}if(Ie=s,Vs(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Vd,t)}catch{}r=!0}return r}finally{Ne=n,_n.transition=e}}return!1}function Zw(t,e,n){e=Mo(n,e),e=i1(t,e,1),t=vs(t,e,1),e=Bt(),t!==null&&(zl(t,1,e),en(t,e))}function Ye(t,e,n){if(t.tag===3)Zw(t,t,n);else for(;e!==null;){if(e.tag===3){Zw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ys===null||!ys.has(r))){t=Mo(n,t),t=o1(e,t,1),e=vs(e,t,1),t=Bt(),e!==null&&(zl(e,1,t),en(e,t));break}}e=e.return}}function i2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(xt&n)===n&&(dt===4||dt===3&&(xt&130023424)===xt&&500>nt()-Lg?ui(t,0):Dg|=n),en(t,e)}function I1(t,e){e===0&&(t.mode&1?(e=Oc,Oc<<=1,!(Oc&130023424)&&(Oc=4194304)):e=1);var n=Bt();t=Nr(t,e),t!==null&&(zl(t,e,n),en(t,n))}function o2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I1(t,n)}function a2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),I1(t,n)}var b1;b1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,Gk(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,ze&&e.flags&1048576&&NT(e,Gu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vu(t,e),t=e.pendingProps;var s=ko(e,jt.current);wo(e,n),s=Rg(null,e,r,t,s,n);var i=Ag();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(i=!0,qu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tg(e),s.updater=Hd,e.stateNode=s,s._reactInternals=e,jp(e,r,t,n),e=Up(null,e,r,!0,i,n)):(e.tag=0,ze&&i&&gg(e),Ut(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=c2(r),t=Pn(r,t),s){case 0:e=Fp(null,e,r,t,n);break e;case 1:e=zw(null,e,r,t,n);break e;case 11:e=$w(null,e,r,t,n);break e;case 14:e=Bw(null,e,r,Pn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),Fp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),zw(t,e,r,s,n);case 3:e:{if(u1(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,jT(t,e),Xu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Mo(Error(q(423)),e),e=Ww(t,e,r,n,s);break e}else if(r!==s){s=Mo(Error(q(424)),e),e=Ww(t,e,r,n,s);break e}else for(ln=gs(e.stateNode.containerInfo.firstChild),dn=e,ze=!0,On=null,n=LT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===s){e=kr(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return VT(e),t===null&&Dp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ap(r,s)?o=null:i!==null&&Ap(r,i)&&(e.flags|=32),c1(t,e),Ut(t,e,o,n),e.child;case 6:return t===null&&Dp(e),null;case 13:return d1(t,e,n);case 4:return Sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Do(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),$w(t,e,r,s,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Me(Qu,r._currentValue),r._currentValue=o,i!==null)if(Vn(i.value,o)){if(i.children===s.children&&!Jt.current){e=kr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Ir(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Lp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,wo(e,n),s=En(s),r=r(s),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,s=Pn(r,e.pendingProps),s=Pn(r.type,s),Bw(t,e,r,s,n);case 15:return a1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Pn(r,s),vu(t,e),e.tag=1,Zt(r)?(t=!0,qu(e)):t=!1,wo(e,n),s1(e,r,s),jp(e,r,s,n),Up(null,e,r,!0,t,n);case 19:return h1(t,e,n);case 22:return l1(t,e,n)}throw Error(q(156,e.tag))};function R1(t,e){return tT(t,e)}function l2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,e,n,r){return new l2(t,e,n,r)}function Fg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c2(t){if(typeof t=="function")return Fg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sg)return 11;if(t===ig)return 14}return 2}function _s(t,e){var n=t.alternate;return n===null?(n=wn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _u(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ro:return di(n.children,s,i,e);case rg:o=8,s|=8;break;case ap:return t=wn(12,n,e,s|2),t.elementType=ap,t.lanes=i,t;case lp:return t=wn(13,n,e,s),t.elementType=lp,t.lanes=i,t;case cp:return t=wn(19,n,e,s),t.elementType=cp,t.lanes=i,t;case Vx:return Gd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mx:o=10;break e;case jx:o=9;break e;case sg:o=11;break e;case ig:o=14;break e;case es:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=wn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function di(t,e,n,r){return t=wn(7,t,r,e),t.lanes=n,t}function Gd(t,e,n,r){return t=wn(22,t,r,e),t.elementType=Vx,t.lanes=n,t.stateNode={isHidden:!1},t}function Rf(t,e,n){return t=wn(6,t,null,e),t.lanes=n,t}function Af(t,e,n){return e=wn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cf(0),this.expirationTimes=cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ug(t,e,n,r,s,i,o,a,l){return t=new u2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=wn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(i),t}function d2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function A1(t){if(!t)return bs;t=t._reactInternals;e:{if(Di(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Zt(n))return AT(t,n,e)}return e}function P1(t,e,n,r,s,i,o,a,l){return t=Ug(n,r,!0,t,s,i,o,a,l),t.context=A1(null),n=t.current,r=Bt(),s=ws(n),i=Ir(r,s),i.callback=e??null,vs(n,i,s),t.current.lanes=s,zl(t,s,r),en(t,r),t}function Qd(t,e,n,r){var s=e.current,i=Bt(),o=ws(s);return n=A1(n),e.context===null?e.context=n:e.pendingContext=n,e=Ir(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vs(s,e,o),t!==null&&(Ln(t,s,o,i),pu(t,s,o)),o}function id(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function e_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $g(t,e){e_(t,e),(t=t.alternate)&&e_(t,e)}function h2(){return null}var N1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bg(t){this._internalRoot=t}Yd.prototype.render=Bg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Qd(t,e,null,null)};Yd.prototype.unmount=Bg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_i(function(){Qd(null,t,null,null)}),e[Pr]=null}};function Yd(t){this._internalRoot=t}Yd.prototype.unstable_scheduleHydration=function(t){if(t){var e=lT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rs.length&&e!==0&&e<rs[n].priority;n++);rs.splice(n,0,t),n===0&&uT(t)}};function zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function t_(){}function f2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=id(o);i.call(u)}}var o=P1(e,r,t,0,null,!1,!1,"",t_);return t._reactRootContainer=o,t[Pr]=o.current,yl(t.nodeType===8?t.parentNode:t),_i(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=id(l);a.call(u)}}var l=Ug(t,0,!1,null,null,!1,!1,"",t_);return t._reactRootContainer=l,t[Pr]=l.current,yl(t.nodeType===8?t.parentNode:t),_i(function(){Qd(e,l,n,r)}),l}function Jd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=id(o);a.call(l)}}Qd(e,o,t,s)}else o=f2(n,e,t,s,r);return id(o)}oT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$a(e.pendingLanes);n!==0&&(lg(e,n|1),en(e,nt()),!(Ie&6)&&(jo=nt()+500,Vs()))}break;case 13:_i(function(){var r=Nr(t,1);if(r!==null){var s=Bt();Ln(r,t,1,s)}}),$g(t,1)}};cg=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=Bt();Ln(e,t,134217728,n)}$g(t,134217728)}};aT=function(t){if(t.tag===13){var e=ws(t),n=Nr(t,e);if(n!==null){var r=Bt();Ln(n,t,e,r)}$g(t,e)}};lT=function(){return Ne};cT=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};wp=function(t,e,n){switch(e){case"input":if(hp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bd(r);if(!s)throw Error(q(90));Ux(r),hp(r,s)}}}break;case"textarea":Bx(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};Qx=Mg;Yx=_i;var p2={usingClientEntryPoint:!1,Events:[Hl,ao,Bd,Kx,Gx,Mg]},Da={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m2={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zx(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||h2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Vd=Wc.inject(m2),Xn=Wc}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p2;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(e))throw Error(q(200));return d2(t,e,null,n)};pn.createRoot=function(t,e){if(!zg(t))throw Error(q(299));var n=!1,r="",s=N1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ug(t,1,!1,null,null,n,!1,r,s),t[Pr]=e.current,yl(t.nodeType===8?t.parentNode:t),new Bg(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Zx(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return _i(t)};pn.hydrate=function(t,e,n){if(!Xd(e))throw Error(q(200));return Jd(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!zg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=N1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=P1(e,null,t,1,n??null,s,!1,i,o),t[Pr]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yd(e)};pn.render=function(t,e,n){if(!Xd(e))throw Error(q(200));return Jd(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Xd(t))throw Error(q(40));return t._reactRootContainer?(_i(function(){Jd(null,null,t,!1,function(){t._reactRootContainer=null,t[Pr]=null})}),!0):!1};pn.unstable_batchedUpdates=Mg;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xd(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Jd(t,e,n,!1,r)};pn.version="18.3.1-next-f1338f8080-20240426";function k1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k1)}catch(t){console.error(t)}}k1(),kx.exports=pn;var Fs=kx.exports;const Wg=wx(Fs);var n_=Fs;ip.createRoot=n_.createRoot,ip.hydrateRoot=n_.hydrateRoot;const g2=1,v2=5e3;let Pf=0;function y2(){return Pf=(Pf+1)%Number.MAX_SAFE_INTEGER,Pf.toString()}const Nf=new Map,r_=t=>{if(Nf.has(t))return;const e=setTimeout(()=>{Nf.delete(t),rl({type:"REMOVE_TOAST",toastId:t})},v2);Nf.set(t,e)},w2=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,g2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?r_(n):t.toasts.forEach(r=>{r_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Eu=[];let xu={toasts:[]};function rl(t){xu=w2(xu,t),Eu.forEach(e=>{e(xu)})}function et({...t}){const e=y2(),n=s=>rl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>rl({type:"DISMISS_TOAST",toastId:e});return rl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),setTimeout(r,5e3),{id:e,dismiss:r,update:n}}function O1(){const[t,e]=m.useState(xu);return m.useEffect(()=>(Eu.push(e),()=>{const n=Eu.indexOf(e);n>-1&&Eu.splice(n,1)}),[t]),{...t,toast:et,dismiss:n=>rl({type:"DISMISS_TOAST",toastId:n})}}function an(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function s_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function D1(...t){return e=>{let n=!1;const r=t.map(s=>{const i=s_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():s_(t[s],null)}}}}function Ei(...t){return m.useCallback(D1(...t),t)}function _2(t,e){const n=m.createContext(e),r=i=>{const{children:o,...a}=i,l=m.useMemo(()=>a,Object.values(a));return d.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=m.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function $r(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];const u=f=>{var w;const{scope:g,children:v,...T}=f,y=((w=g==null?void 0:g[t])==null?void 0:w[l])||a,x=m.useMemo(()=>T,Object.values(T));return d.jsx(y.Provider,{value:x,children:v})};u.displayName=i+"Provider";function h(f,g){var y;const v=((y=g==null?void 0:g[t])==null?void 0:y[l])||a,T=m.useContext(v);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,E2(s,...e)]}function E2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var od=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(T2);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(Jp,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(Jp,{...r,ref:e,children:n})});od.displayName="Slot";var Jp=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=C2(n),i=S2(r,n.props);return n.type!==m.Fragment&&(i.ref=e?D1(e,s):s),m.cloneElement(n,i)}return m.Children.count(n)>1?m.Children.only(null):null});Jp.displayName="SlotClone";var x2=({children:t})=>d.jsx(d.Fragment,{children:t});function T2(t){return m.isValidElement(t)&&t.type===x2}function S2(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function C2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function I2(t){const e=t+"CollectionProvider",[n,r]=$r(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:T,children:y}=v,x=H.useRef(null),w=H.useRef(new Map).current;return d.jsx(s,{scope:T,itemMap:w,collectionRef:x,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((v,T)=>{const{scope:y,children:x}=v,w=i(a,y),E=Ei(T,w.collectionRef);return d.jsx(od,{ref:E,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=H.forwardRef((v,T)=>{const{scope:y,children:x,...w}=v,E=H.useRef(null),S=Ei(T,E),P=i(u,y);return H.useEffect(()=>(P.itemMap.set(E,{ref:E,...w}),()=>void P.itemMap.delete(E))),d.jsx(od,{[h]:"",ref:S,children:x})});f.displayName=u;function g(v){const T=i(t+"CollectionConsumer",v);return H.useCallback(()=>{const x=T.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((P,D)=>w.indexOf(P.ref.current)-w.indexOf(D.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},g,r]}var b2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ar=b2.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?od:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function L1(t,e){t&&Fs.flushSync(()=>t.dispatchEvent(e))}function Ct(t){const e=m.useRef(t);return m.useEffect(()=>{e.current=t}),m.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function M1(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var R2="DismissableLayer",Zp="dismissableLayer.update",A2="dismissableLayer.pointerDownOutside",P2="dismissableLayer.focusOutside",i_,j1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V1=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=m.useContext(j1),[h,f]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),T=Ei(e,I=>f(I)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(x),E=h?y.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,P=E>=w,D=k2(I=>{const C=I.target,A=[...u.branches].some(N=>N.contains(C));!P||A||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},g),L=O2(I=>{const C=I.target;[...u.branches].some(N=>N.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},g);return M1(I=>{E===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(i_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),o_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=i_)}},[h,g,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),o_())},[h,u]),m.useEffect(()=>{const I=()=>v({});return document.addEventListener(Zp,I),()=>document.removeEventListener(Zp,I)},[]),d.jsx(ar.div,{...l,ref:T,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:an(t.onFocusCapture,L.onFocusCapture),onBlurCapture:an(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:an(t.onPointerDownCapture,D.onPointerDownCapture)})});V1.displayName=R2;var N2="DismissableLayerBranch",F1=m.forwardRef((t,e)=>{const n=m.useContext(j1),r=m.useRef(null),s=Ei(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ar.div,{...t,ref:s})});F1.displayName=N2;function k2(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){U1(A2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function O2(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&U1(P2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function o_(){const t=new CustomEvent(Zp);document.dispatchEvent(t)}function U1(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?L1(s,i):s.dispatchEvent(i)}var D2=V1,L2=F1,st=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},M2="Portal",$1=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);st(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Wg.createPortal(d.jsx(ar.div,{...r,ref:e}),o):null});$1.displayName=M2;function j2(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var B1=t=>{const{present:e,children:n}=t,r=V2(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Ei(r.ref,F2(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};B1.displayName="Presence";function V2(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=j2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Hc(r.current);i.current=a==="mounted"?u:"none"},[a]),st(()=>{const u=r.current,h=s.current;if(h!==t){const g=i.current,v=Hc(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),st(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=v=>{const y=Hc(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=v=>{v.target===e&&(i.current=Hc(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Hc(t){return(t==null?void 0:t.animationName)||"none"}function F2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=U2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Ct(n),l=m.useCallback(u=>{if(i){const f=typeof u=="function"?u(t):u;f!==t&&a(f)}else s(u)},[i,t,s,a]);return[o,l]}function U2({defaultProp:t,onChange:e}){const n=m.useState(t),[r]=n,s=m.useRef(r),i=Ct(e);return m.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var $2="VisuallyHidden",Hg=m.forwardRef((t,e)=>d.jsx(ar.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Hg.displayName=$2;var qg="ToastProvider",[Kg,B2,z2]=I2("Toast"),[z1,$z]=$r("Toast",[z2]),[W2,Zd]=z1(qg),W1=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=m.useState(null),[u,h]=m.useState(0),f=m.useRef(!1),g=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qg}\`. Expected non-empty \`string\`.`),d.jsx(Kg.Provider,{scope:e,children:d.jsx(W2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>h(v=>v+1),[]),onToastRemove:m.useCallback(()=>h(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};W1.displayName=qg;var H1="ToastViewport",H2=["F8"],em="toast.viewportPause",tm="toast.viewportResume",q1=m.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=H2,label:s="Notifications ({hotkey})",...i}=t,o=Zd(H1,n),a=B2(n),l=m.useRef(null),u=m.useRef(null),h=m.useRef(null),f=m.useRef(null),g=Ei(e,f,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;m.useEffect(()=>{const x=w=>{var S;r.length!==0&&r.every(P=>w[P]||w.code===P)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),m.useEffect(()=>{const x=l.current,w=f.current;if(T&&x&&w){const E=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(em);w.dispatchEvent(L),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(tm);w.dispatchEvent(L),o.isClosePausedRef.current=!1}},P=L=>{!x.contains(L.relatedTarget)&&S()},D=()=>{x.contains(document.activeElement)||S()};return x.addEventListener("focusin",E),x.addEventListener("focusout",P),x.addEventListener("pointermove",E),x.addEventListener("pointerleave",D),window.addEventListener("blur",E),window.addEventListener("focus",S),()=>{x.removeEventListener("focusin",E),x.removeEventListener("focusout",P),x.removeEventListener("pointermove",E),x.removeEventListener("pointerleave",D),window.removeEventListener("blur",E),window.removeEventListener("focus",S)}}},[T,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:x})=>{const E=a().map(S=>{const P=S.ref.current,D=[P,...sO(P)];return x==="forwards"?D:D.reverse()});return(x==="forwards"?E.reverse():E).flat()},[a]);return m.useEffect(()=>{const x=f.current;if(x){const w=E=>{var D,L,I;const S=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!S){const C=document.activeElement,A=E.shiftKey;if(E.target===x&&A){(D=u.current)==null||D.focus();return}const O=y({tabbingDirection:A?"backwards":"forwards"}),b=O.findIndex(B=>B===C);kf(O.slice(b+1))?E.preventDefault():A?(L=u.current)==null||L.focus():(I=h.current)==null||I.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,y]),d.jsxs(L2,{ref:l,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&d.jsx(nm,{ref:u,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"forwards"});kf(x)}}),d.jsx(Kg.Slot,{scope:n,children:d.jsx(ar.ol,{tabIndex:-1,...i,ref:g})}),T&&d.jsx(nm,{ref:h,onFocusFromOutsideViewport:()=>{const x=y({tabbingDirection:"backwards"});kf(x)}})]})});q1.displayName=H1;var K1="ToastFocusProxy",nm=m.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zd(K1,n);return d.jsx(Hg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});nm.displayName=K1;var eh="Toast",q2="toast.swipeStart",K2="toast.swipeMove",G2="toast.swipeCancel",Q2="toast.swipeEnd",G1=m.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,l]=xi({prop:r,defaultProp:s,onChange:i});return d.jsx(B1,{present:n||a,children:d.jsx(J2,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ct(t.onPause),onResume:Ct(t.onResume),onSwipeStart:an(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:an(t.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:an(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:an(t.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});G1.displayName=eh;var[Y2,X2]=z1(eh,{onClose(){}}),J2=m.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:v,...T}=t,y=Zd(eh,n),[x,w]=m.useState(null),E=Ei(e,B=>w(B)),S=m.useRef(null),P=m.useRef(null),D=s||y.duration,L=m.useRef(0),I=m.useRef(D),C=m.useRef(0),{onToastAdd:A,onToastRemove:N}=y,k=Ct(()=>{var re;(x==null?void 0:x.contains(document.activeElement))&&((re=y.viewport)==null||re.focus()),o()}),O=m.useCallback(B=>{!B||B===1/0||(window.clearTimeout(C.current),L.current=new Date().getTime(),C.current=window.setTimeout(k,B))},[k]);m.useEffect(()=>{const B=y.viewport;if(B){const re=()=>{O(I.current),u==null||u()},Q=()=>{const ee=new Date().getTime()-L.current;I.current=I.current-ee,window.clearTimeout(C.current),l==null||l()};return B.addEventListener(em,Q),B.addEventListener(tm,re),()=>{B.removeEventListener(em,Q),B.removeEventListener(tm,re)}}},[y.viewport,D,l,u,O]),m.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(D)},[i,D,y.isClosePausedRef,O]),m.useEffect(()=>(A(),()=>N()),[A,N]);const b=m.useMemo(()=>x?tS(x):null,[x]);return y.viewport?d.jsxs(d.Fragment,{children:[b&&d.jsx(Z2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:b}),d.jsx(Y2,{scope:n,onClose:k,children:Fs.createPortal(d.jsx(Kg.ItemSlot,{scope:n,children:d.jsx(D2,{asChild:!0,onEscapeKeyDown:an(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ar.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...T,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:an(t.onKeyDown,B=>{B.key==="Escape"&&(a==null||a(B.nativeEvent),B.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:an(t.onPointerDown,B=>{B.button===0&&(S.current={x:B.clientX,y:B.clientY})}),onPointerMove:an(t.onPointerMove,B=>{if(!S.current)return;const re=B.clientX-S.current.x,Q=B.clientY-S.current.y,ee=!!P.current,V=["left","right"].includes(y.swipeDirection),U=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,G=V?U(0,re):0,oe=V?0:U(0,Q),Y=B.pointerType==="touch"?10:2,te={x:G,y:oe},le={originalEvent:B,delta:te};ee?(P.current=te,qc(K2,f,le,{discrete:!1})):a_(te,y.swipeDirection,Y)?(P.current=te,qc(q2,h,le,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(re)>Y||Math.abs(Q)>Y)&&(S.current=null)}),onPointerUp:an(t.onPointerUp,B=>{const re=P.current,Q=B.target;if(Q.hasPointerCapture(B.pointerId)&&Q.releasePointerCapture(B.pointerId),P.current=null,S.current=null,re){const ee=B.currentTarget,V={originalEvent:B,delta:re};a_(re,y.swipeDirection,y.swipeThreshold)?qc(Q2,v,V,{discrete:!0}):qc(G2,g,V,{discrete:!0}),ee.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Z2=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zd(eh,e),[i,o]=m.useState(!1),[a,l]=m.useState(!1);return nO(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx($1,{asChild:!0,children:d.jsx(Hg,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},eO="ToastTitle",Q1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ar.div,{...r,ref:e})});Q1.displayName=eO;var tO="ToastDescription",Y1=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ar.div,{...r,ref:e})});Y1.displayName=tO;var X1="ToastAction",J1=m.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(eS,{altText:n,asChild:!0,children:d.jsx(Gg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${X1}\`. Expected non-empty \`string\`.`),null)});J1.displayName=X1;var Z1="ToastClose",Gg=m.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=X2(Z1,n);return d.jsx(eS,{asChild:!0,children:d.jsx(ar.button,{type:"button",...r,ref:e,onClick:an(t.onClick,s.onClose)})})});Gg.displayName=Z1;var eS=m.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ar.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function tS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),rO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...tS(r))}}),e}function qc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?L1(s,i):s.dispatchEvent(i)}var a_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function nO(t=()=>{}){const e=Ct(t);st(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function rO(t){return t.nodeType===t.ELEMENT_NODE}function sO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var iO=W1,nS=q1,rS=G1,sS=Q1,iS=Y1,oS=J1,aS=Gg;function lS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=lS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function cS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=lS(t))&&(r&&(r+=" "),r+=e);return r}const l_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,c_=cS,th=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return c_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=i==null?void 0:i[u];if(h===null)return null;const g=l_(h)||l_(f);return s[u][g]}),a=n&&Object.entries(n).reduce((u,h)=>{let[f,g]=h;return g===void 0||(u[f]=g),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:g,...v}=h;return Object.entries(v).every(T=>{let[y,x]=T;return Array.isArray(x)?x.includes({...i,...a}[y]):{...i,...a}[y]===x})?[...u,f,g]:u},[]);return c_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=m.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>m.createElement("svg",{ref:l,...aO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:uS("lucide",s),...a},[...o.map(([u,h])=>m.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=(t,e)=>{const n=m.forwardRef(({className:r,...s},i)=>m.createElement(lO,{ref:i,iconNode:e,className:uS(`lucide-${oO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=bt("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=bt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=bt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=bt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=bt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=bt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=bt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=bt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=bt("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=bt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=bt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=bt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=bt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=bt("StarHalf",[["path",{d:"M12 18.338a2.1 2.1 0 0 0-.987.244L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.12 2.12 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.12 2.12 0 0 0 1.597-1.16l2.309-4.679A.53.53 0 0 1 12 2",key:"2ksp49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=bt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=bt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=bt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Yg="-",gO=t=>{const e=yO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Yg);return a[0]===""&&a.length!==1&&a.shift(),gS(a,e)||vO(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},gS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?gS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Yg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},d_=/^\[(.+)\]$/,vO=t=>{if(d_.test(t)){const e=d_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},yO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return _O(Object.entries(t.classGroups),n).forEach(([i,o])=>{rm(o,r,i,e)}),r},rm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:h_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(wO(s)){rm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{rm(o,h_(e,i),n,r)})})},h_=(t,e)=>{let n=t;return e.split(Yg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},wO=t=>t.isThemeGetter,_O=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,EO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},vS="!",xO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let u=0,h=0,f;for(let x=0;x<a.length;x++){let w=a[x];if(u===0){if(w===s&&(r||a.slice(x,x+i)===e)){l.push(a.slice(h,x)),h=x+i;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const g=l.length===0?a:a.substring(h),v=g.startsWith(vS),T=v?g.substring(1):g,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:T,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},TO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},SO=t=>({cache:EO(t.cacheSize),parseClassName:xO(t),...gO(t)}),CO=/\s+/,IO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(CO);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:v}=n(u);let T=!!v,y=r(T?g.substring(0,v):g);if(!y){if(!T){a=u+(a.length>0?" "+a:a);continue}if(y=r(g),!y){a=u+(a.length>0?" "+a:a);continue}T=!1}const x=TO(h).join(":"),w=f?x+vS:x,E=w+y;if(i.includes(E))continue;i.push(E);const S=s(y,T);for(let P=0;P<S.length;++P){const D=S[P];i.push(w+D)}a=u+(a.length>0?" "+a:a)}return a};function bO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yS(e))&&(r&&(r+=" "),r+=n);return r}const yS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yS(t[r]))&&(n&&(n+=" "),n+=e);return n};function RO(t,...e){let n,r,s,i=o;function o(l){const u=e.reduce((h,f)=>f(h),t());return n=SO(u),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=IO(l,n);return s(l,h),h}return function(){return i(bO.apply(null,arguments))}}const Ve=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wS=/^\[(?:([a-z-]+):)?(.+)\]$/i,AO=/^\d+\/\d+$/,PO=new Set(["px","full","screen"]),NO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gr=t=>Eo(t)||PO.has(t)||AO.test(t),Yr=t=>na(t,"length",zO),Eo=t=>!!t&&!Number.isNaN(Number(t)),Of=t=>na(t,"number",Eo),La=t=>!!t&&Number.isInteger(Number(t)),MO=t=>t.endsWith("%")&&Eo(t.slice(0,-1)),ve=t=>wS.test(t),Xr=t=>NO.test(t),jO=new Set(["length","size","percentage"]),VO=t=>na(t,jO,_S),FO=t=>na(t,"position",_S),UO=new Set(["image","url"]),$O=t=>na(t,UO,HO),BO=t=>na(t,"",WO),Ma=()=>!0,na=(t,e,n)=>{const r=wS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},zO=t=>kO.test(t)&&!OO.test(t),_S=()=>!1,WO=t=>DO.test(t),HO=t=>LO.test(t),qO=()=>{const t=Ve("colors"),e=Ve("spacing"),n=Ve("blur"),r=Ve("brightness"),s=Ve("borderColor"),i=Ve("borderRadius"),o=Ve("borderSpacing"),a=Ve("borderWidth"),l=Ve("contrast"),u=Ve("grayscale"),h=Ve("hueRotate"),f=Ve("invert"),g=Ve("gap"),v=Ve("gradientColorStops"),T=Ve("gradientColorStopPositions"),y=Ve("inset"),x=Ve("margin"),w=Ve("opacity"),E=Ve("padding"),S=Ve("saturate"),P=Ve("scale"),D=Ve("sepia"),L=Ve("skew"),I=Ve("space"),C=Ve("translate"),A=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ve,e],O=()=>[ve,e],b=()=>["",gr,Yr],B=()=>["auto",Eo,ve],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ve],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Eo,ve];return{cacheSize:500,separator:":",theme:{colors:[Ma],spacing:[gr,Yr],blur:["none","",Xr,ve],brightness:oe(),borderColor:[t],borderRadius:["none","","full",Xr,ve],borderSpacing:O(),borderWidth:b(),contrast:oe(),grayscale:U(),hueRotate:oe(),invert:U(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[MO,Yr],inset:k(),margin:k(),opacity:oe(),padding:O(),saturate:oe(),scale:oe(),sepia:U(),skew:oe(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Xr]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),ve]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",La,ve]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",La,ve]}],"grid-cols":[{"grid-cols":[Ma]}],"col-start-end":[{col:["auto",{span:["full",La,ve]},ve]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[Ma]}],"row-start-end":[{row:["auto",{span:[La,ve]},ve]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[Xr]},Xr]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xr,Yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Of]}],"font-family":[{font:[Ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Eo,Of]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gr,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gr,Yr]}],"underline-offset":[{"underline-offset":["auto",gr,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),FO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$O]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[gr,ve]}],"outline-w":[{outline:[gr,Yr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[gr,Yr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xr,BO]}],"shadow-color":[{shadow:[Ma]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xr,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[La,ve]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gr,Yr,Of]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KO=RO(qO);function ne(...t){return KO(cS(t))}const GO=iO,ES=m.forwardRef(({className:t,...e},n)=>d.jsx(nS,{ref:n,className:ne("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ES.displayName=nS.displayName;const QO=th("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xS=m.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(rS,{ref:r,className:ne(QO({variant:e}),t),...n}));xS.displayName=rS.displayName;const YO=m.forwardRef(({className:t,...e},n)=>d.jsx(oS,{ref:n,className:ne("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));YO.displayName=oS.displayName;const TS=m.forwardRef(({className:t,...e},n)=>d.jsx(aS,{ref:n,className:ne("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(mS,{className:"h-4 w-4"})}));TS.displayName=aS.displayName;const SS=m.forwardRef(({className:t,...e},n)=>d.jsx(sS,{ref:n,className:ne("text-sm font-semibold",t),...e}));SS.displayName=sS.displayName;const CS=m.forwardRef(({className:t,...e},n)=>d.jsx(iS,{ref:n,className:ne("text-sm opacity-90",t),...e}));CS.displayName=iS.displayName;function XO(){const{toasts:t}=O1();return d.jsxs(GO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(xS,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(SS,{children:n}),r&&d.jsx(CS,{children:r})]}),s,d.jsx(TS,{})]},e)}),d.jsx(ES,{})]})}var f_=["light","dark"],JO="(prefers-color-scheme: dark)",ZO=m.createContext(void 0),eD={setTheme:t=>{},themes:[]},tD=()=>{var t;return(t=m.useContext(ZO))!=null?t:eD};m.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let u=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?f_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(T,y=!1,x=!0)=>{let w=o?o[T]:T,E=y?T+"|| ''":`'${w}'`,S="";return s&&x&&!y&&f_.includes(T)&&(S+=`d.style.colorScheme = '${T}';`),n==="class"?y||w?S+=`c.add(${E})`:S+="null":w&&(S+=`d[s](n,${E})`),S},v=t?`!function(){${h}${g(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${JO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${u?"":"else{"+g(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(i,!1,!1)};}${f}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:v}})});var nD=t=>{switch(t){case"success":return iD;case"info":return aD;case"warning":return oD;case"error":return lD;default:return null}},rD=Array(12).fill(0),sD=({visible:t,className:e})=>H.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},H.createElement("div",{className:"sonner-spinner"},rD.map((n,r)=>H.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),aD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),lD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},H.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cD=H.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},H.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),H.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),uD=()=>{let[t,e]=H.useState(document.hidden);return H.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},sm=1,dD=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:sm++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],H.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(fD(l)&&!l.ok){s=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:u,description:h})}else if(e.success!==void 0){s=!1;let u=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let u=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,u)=>o.then(()=>i[0]==="reject"?u(i[1]):l(i[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||sm++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Gt=new dD,hD=(t,e)=>{let n=(e==null?void 0:e.id)||sm++;return Gt.addToast({title:t,...e,id:n}),n},fD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",pD=hD,mD=()=>Gt.toasts,gD=()=>Gt.getActiveToasts();Object.assign(pD,{success:Gt.success,info:Gt.info,warning:Gt.warning,error:Gt.error,custom:Gt.custom,message:Gt.message,promise:Gt.promise,dismiss:Gt.dismiss,loading:Gt.loading},{getHistory:mD,getToasts:gD});function vD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}vD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Gc(t){return t.label!==void 0}var yD=3,wD="32px",_D="16px",p_=4e3,ED=356,xD=14,TD=20,SD=200;function Rn(...t){return t.filter(Boolean).join(" ")}function CD(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var ID=t=>{var e,n,r,s,i,o,a,l,u,h,f;let{invert:g,toast:v,unstyled:T,interacting:y,setHeights:x,visibleToasts:w,heights:E,index:S,toasts:P,expanded:D,removeToast:L,defaultRichColors:I,closeButton:C,style:A,cancelButtonStyle:N,actionButtonStyle:k,className:O="",descriptionClassName:b="",duration:B,position:re,gap:Q,loadingIcon:ee,expandByDefault:V,classNames:U,icons:G,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:Y}=t,[te,le]=H.useState(null),[F,ie]=H.useState(null),[W,ge]=H.useState(!1),[xe,fe]=H.useState(!1),[ae,ye]=H.useState(!1),[it,Rt]=H.useState(!1),[Tn,Sn]=H.useState(!1),[ur,Ks]=H.useState(0),[dr,Ui]=H.useState(0),zr=H.useRef(v.duration||B||p_),dc=H.useRef(null),Cn=H.useRef(null),ma=S===0,hc=S+1<=w,Pe=v.type,Ge=v.dismissible!==!1,$i=v.className||"",fc=v.descriptionClassName||"",Gs=H.useMemo(()=>E.findIndex(ce=>ce.toastId===v.id)||0,[E,v.id]),zh=H.useMemo(()=>{var ce;return(ce=v.closeButton)!=null?ce:C},[v.closeButton,C]),Wr=H.useMemo(()=>v.duration||B||p_,[v.duration,B]),Bi=H.useRef(0),hr=H.useRef(0),zi=H.useRef(0),Hr=H.useRef(null),[Wh,ga]=re.split("-"),va=H.useMemo(()=>E.reduce((ce,Ce,De)=>De>=Gs?ce:ce+Ce.height,0),[E,Gs]),ya=uD(),Qs=v.invert||g,Ys=Pe==="loading";hr.current=H.useMemo(()=>Gs*Q+va,[Gs,va]),H.useEffect(()=>{zr.current=Wr},[Wr]),H.useEffect(()=>{ge(!0)},[]),H.useEffect(()=>{let ce=Cn.current;if(ce){let Ce=ce.getBoundingClientRect().height;return Ui(Ce),x(De=>[{toastId:v.id,height:Ce,position:v.position},...De]),()=>x(De=>De.filter(gt=>gt.toastId!==v.id))}},[x,v.id]),H.useLayoutEffect(()=>{if(!W)return;let ce=Cn.current,Ce=ce.style.height;ce.style.height="auto";let De=ce.getBoundingClientRect().height;ce.style.height=Ce,Ui(De),x(gt=>gt.find(qt=>qt.toastId===v.id)?gt.map(qt=>qt.toastId===v.id?{...qt,height:De}:qt):[{toastId:v.id,height:De,position:v.position},...gt])},[W,v.title,v.description,x,v.id]);let gn=H.useCallback(()=>{fe(!0),Ks(hr.current),x(ce=>ce.filter(Ce=>Ce.toastId!==v.id)),setTimeout(()=>{L(v)},SD)},[v,L,x,hr]);H.useEffect(()=>{if(v.promise&&Pe==="loading"||v.duration===1/0||v.type==="loading")return;let ce;return D||y||Y&&ya?(()=>{if(zi.current<Bi.current){let Ce=new Date().getTime()-Bi.current;zr.current=zr.current-Ce}zi.current=new Date().getTime()})():zr.current!==1/0&&(Bi.current=new Date().getTime(),ce=setTimeout(()=>{var Ce;(Ce=v.onAutoClose)==null||Ce.call(v,v),gn()},zr.current)),()=>clearTimeout(ce)},[D,y,v,Pe,Y,ya,gn]),H.useEffect(()=>{v.delete&&gn()},[gn,v.delete]);function fr(){var ce,Ce,De;return G!=null&&G.loading?H.createElement("div",{className:Rn(U==null?void 0:U.loader,(ce=v==null?void 0:v.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":Pe==="loading"},G.loading):ee?H.createElement("div",{className:Rn(U==null?void 0:U.loader,(Ce=v==null?void 0:v.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":Pe==="loading"},ee):H.createElement(sD,{className:Rn(U==null?void 0:U.loader,(De=v==null?void 0:v.classNames)==null?void 0:De.loader),visible:Pe==="loading"})}return H.createElement("li",{tabIndex:0,ref:Cn,className:Rn(O,$i,U==null?void 0:U.toast,(e=v==null?void 0:v.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[Pe],(n=v==null?void 0:v.classNames)==null?void 0:n[Pe]),"data-sonner-toast":"","data-rich-colors":(r=v.richColors)!=null?r:I,"data-styled":!(v.jsx||v.unstyled||T),"data-mounted":W,"data-promise":!!v.promise,"data-swiped":Tn,"data-removed":xe,"data-visible":hc,"data-y-position":Wh,"data-x-position":ga,"data-index":S,"data-front":ma,"data-swiping":ae,"data-dismissible":Ge,"data-type":Pe,"data-invert":Qs,"data-swipe-out":it,"data-swipe-direction":F,"data-expanded":!!(D||V&&W),style:{"--index":S,"--toasts-before":S,"--z-index":P.length-S,"--offset":`${xe?ur:hr.current}px`,"--initial-height":V?"auto":`${dr}px`,...A,...v.style},onDragEnd:()=>{ye(!1),le(null),Hr.current=null},onPointerDown:ce=>{Ys||!Ge||(dc.current=new Date,Ks(hr.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(ye(!0),Hr.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Ce,De,gt;if(it||!Ge)return;Hr.current=null;let qt=Number(((ce=Cn.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Be=Number(((Ce=Cn.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zn=new Date().getTime()-((De=dc.current)==null?void 0:De.getTime()),vt=te==="x"?qt:Be,Kt=Math.abs(vt)/zn;if(Math.abs(vt)>=TD||Kt>.11){Ks(hr.current),(gt=v.onDismiss)==null||gt.call(v,v),ie(te==="x"?qt>0?"right":"left":Be>0?"down":"up"),gn(),Rt(!0),Sn(!1);return}ye(!1),le(null)},onPointerMove:ce=>{var Ce,De,gt,qt;if(!Hr.current||!Ge||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let Be=ce.clientY-Hr.current.y,zn=ce.clientX-Hr.current.x,vt=(De=t.swipeDirections)!=null?De:CD(re);!te&&(Math.abs(zn)>1||Math.abs(Be)>1)&&le(Math.abs(zn)>Math.abs(Be)?"x":"y");let Kt={x:0,y:0};te==="y"?(vt.includes("top")||vt.includes("bottom"))&&(vt.includes("top")&&Be<0||vt.includes("bottom")&&Be>0)&&(Kt.y=Be):te==="x"&&(vt.includes("left")||vt.includes("right"))&&(vt.includes("left")&&zn<0||vt.includes("right")&&zn>0)&&(Kt.x=zn),(Math.abs(Kt.x)>0||Math.abs(Kt.y)>0)&&Sn(!0),(gt=Cn.current)==null||gt.style.setProperty("--swipe-amount-x",`${Kt.x}px`),(qt=Cn.current)==null||qt.style.setProperty("--swipe-amount-y",`${Kt.y}px`)}},zh&&!v.jsx?H.createElement("button",{"aria-label":oe,"data-disabled":Ys,"data-close-button":!0,onClick:Ys||!Ge?()=>{}:()=>{var ce;gn(),(ce=v.onDismiss)==null||ce.call(v,v)},className:Rn(U==null?void 0:U.closeButton,(s=v==null?void 0:v.classNames)==null?void 0:s.closeButton)},(i=G==null?void 0:G.close)!=null?i:cD):null,v.jsx||m.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:H.createElement(H.Fragment,null,Pe||v.icon||v.promise?H.createElement("div",{"data-icon":"",className:Rn(U==null?void 0:U.icon,(o=v==null?void 0:v.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||fr():null,v.type!=="loading"?v.icon||(G==null?void 0:G[Pe])||nD(Pe):null):null,H.createElement("div",{"data-content":"",className:Rn(U==null?void 0:U.content,(a=v==null?void 0:v.classNames)==null?void 0:a.content)},H.createElement("div",{"data-title":"",className:Rn(U==null?void 0:U.title,(l=v==null?void 0:v.classNames)==null?void 0:l.title)},typeof v.title=="function"?v.title():v.title),v.description?H.createElement("div",{"data-description":"",className:Rn(b,fc,U==null?void 0:U.description,(u=v==null?void 0:v.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),m.isValidElement(v.cancel)?v.cancel:v.cancel&&Gc(v.cancel)?H.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||N,onClick:ce=>{var Ce,De;Gc(v.cancel)&&Ge&&((De=(Ce=v.cancel).onClick)==null||De.call(Ce,ce),gn())},className:Rn(U==null?void 0:U.cancelButton,(h=v==null?void 0:v.classNames)==null?void 0:h.cancelButton)},v.cancel.label):null,m.isValidElement(v.action)?v.action:v.action&&Gc(v.action)?H.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||k,onClick:ce=>{var Ce,De;Gc(v.action)&&((De=(Ce=v.action).onClick)==null||De.call(Ce,ce),!ce.defaultPrevented&&gn())},className:Rn(U==null?void 0:U.actionButton,(f=v==null?void 0:v.classNames)==null?void 0:f.actionButton)},v.action.label):null))};function m_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bD(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?_D:wD;function l(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=a:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var RD=m.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:u,theme:h="light",richColors:f,duration:g,style:v,visibleToasts:T=yD,toastOptions:y,dir:x=m_(),gap:w=xD,loadingIcon:E,icons:S,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:D}=t,[L,I]=H.useState([]),C=H.useMemo(()=>Array.from(new Set([r].concat(L.filter(Y=>Y.position).map(Y=>Y.position)))),[L,r]),[A,N]=H.useState([]),[k,O]=H.useState(!1),[b,B]=H.useState(!1),[re,Q]=H.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=H.useRef(null),V=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=H.useRef(null),G=H.useRef(!1),oe=H.useCallback(Y=>{I(te=>{var le;return(le=te.find(F=>F.id===Y.id))!=null&&le.delete||Gt.dismiss(Y.id),te.filter(({id:F})=>F!==Y.id)})},[]);return H.useEffect(()=>Gt.subscribe(Y=>{if(Y.dismiss){I(te=>te.map(le=>le.id===Y.id?{...le,delete:!0}:le));return}setTimeout(()=>{Wg.flushSync(()=>{I(te=>{let le=te.findIndex(F=>F.id===Y.id);return le!==-1?[...te.slice(0,le),{...te[le],...Y},...te.slice(le+1)]:[Y,...te]})})})}),[]),H.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:te})=>{Q(te?"dark":"light")})}catch{Y.addListener(({matches:le})=>{try{Q(le?"dark":"light")}catch(F){console.error(F)}})}},[h]),H.useEffect(()=>{L.length<=1&&O(!1)},[L]),H.useEffect(()=>{let Y=te=>{var le,F;s.every(ie=>te[ie]||te.code===ie)&&(O(!0),(le=ee.current)==null||le.focus()),te.code==="Escape"&&(document.activeElement===ee.current||(F=ee.current)!=null&&F.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),H.useEffect(()=>{if(ee.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,G.current=!1)}},[ee.current]),H.createElement("section",{ref:e,"aria-label":`${P} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((Y,te)=>{var le;let[F,ie]=Y.split("-");return L.length?H.createElement("ol",{key:Y,dir:x==="auto"?m_():x,tabIndex:-1,ref:ee,className:a,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":F,"data-lifted":k&&L.length>1&&!i,"data-x-position":ie,style:{"--front-toast-height":`${((le=A[0])==null?void 0:le.height)||0}px`,"--width":`${ED}px`,"--gap":`${w}px`,...v,...bD(l,u)},onBlur:W=>{G.current&&!W.currentTarget.contains(W.relatedTarget)&&(G.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||G.current||(G.current=!0,U.current=W.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{b||O(!1)},onDragEnd:()=>O(!1),onPointerDown:W=>{W.target instanceof HTMLElement&&W.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},L.filter(W=>!W.position&&te===0||W.position===Y).map((W,ge)=>{var xe,fe;return H.createElement(ID,{key:W.id,icons:S,index:ge,toast:W,defaultRichColors:f,duration:(xe=y==null?void 0:y.duration)!=null?xe:g,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:T,closeButton:(fe=y==null?void 0:y.closeButton)!=null?fe:o,interacting:b,position:Y,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:oe,toasts:L.filter(ae=>ae.position==W.position),heights:A.filter(ae=>ae.position==W.position),setHeights:N,expandByDefault:i,gap:w,loadingIcon:E,expanded:k,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const AD=({...t})=>{const{theme:e="system"}=tD();return d.jsx(RD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function PD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function IS(...t){return e=>t.forEach(n=>PD(n,e))}function Oe(...t){return m.useCallback(IS(...t),t)}var Or=m.forwardRef((t,e)=>{const{children:n,...r}=t,s=m.Children.toArray(n),i=s.find(ND);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return d.jsx(im,{...r,ref:e,children:m.isValidElement(o)?m.cloneElement(o,void 0,a):null})}return d.jsx(im,{...r,ref:e,children:n})});Or.displayName="Slot";var im=m.forwardRef((t,e)=>{const{children:n,...r}=t;if(m.isValidElement(n)){const s=OD(n);return m.cloneElement(n,{...kD(r,n.props),ref:e?IS(e,s):s})}return m.Children.count(n)>1?m.Children.only(null):null});im.displayName="SlotClone";var Xg=({children:t})=>d.jsx(d.Fragment,{children:t});function ND(t){return m.isValidElement(t)&&t.type===Xg}function kD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function OD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var DD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],we=DD.reduce((t,e)=>{const n=m.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Or:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function LD(t,e){t&&Fs.flushSync(()=>t.dispatchEvent(e))}var MD="DismissableLayer",om="dismissableLayer.update",jD="dismissableLayer.pointerDownOutside",VD="dismissableLayer.focusOutside",g_,bS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kl=m.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,u=m.useContext(bS),[h,f]=m.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=m.useState({}),T=Oe(e,I=>f(I)),y=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(x),E=h?y.indexOf(h):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,P=E>=w,D=$D(I=>{const C=I.target,A=[...u.branches].some(N=>N.contains(C));!P||A||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},g),L=BD(I=>{const C=I.target;[...u.branches].some(N=>N.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},g);return M1(I=>{E===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),m.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(g_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),v_(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=g_)}},[h,g,n,u]),m.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),v_())},[h,u]),m.useEffect(()=>{const I=()=>v({});return document.addEventListener(om,I),()=>document.removeEventListener(om,I)},[]),d.jsx(we.div,{...l,ref:T,style:{pointerEvents:S?P?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,D.onPointerDownCapture)})});Kl.displayName=MD;var FD="DismissableLayerBranch",UD=m.forwardRef((t,e)=>{const n=m.useContext(bS),r=m.useRef(null),s=Oe(e,r);return m.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(we.div,{...t,ref:s})});UD.displayName=FD;function $D(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){RS(jD,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function BD(t,e=globalThis==null?void 0:globalThis.document){const n=Ct(t),r=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!r.current&&RS(VD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function v_(){const t=new CustomEvent(om);document.dispatchEvent(t)}function RS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?LD(s,i):s.dispatchEvent(i)}var zD=Px.useId||(()=>{}),WD=0;function br(t){const[e,n]=m.useState(zD());return st(()=>{n(r=>r??String(WD++))},[t]),e?`radix-${e}`:""}const HD=["top","right","bottom","left"],Rs=Math.min,rn=Math.max,ad=Math.round,Qc=Math.floor,As=t=>({x:t,y:t}),qD={left:"right",right:"left",bottom:"top",top:"bottom"},KD={start:"end",end:"start"};function am(t,e,n){return rn(t,Rs(e,n))}function Dr(t,e){return typeof t=="function"?t(e):t}function Lr(t){return t.split("-")[0]}function ra(t){return t.split("-")[1]}function Jg(t){return t==="x"?"y":"x"}function Zg(t){return t==="y"?"height":"width"}function Ps(t){return["top","bottom"].includes(Lr(t))?"y":"x"}function ev(t){return Jg(Ps(t))}function GD(t,e,n){n===void 0&&(n=!1);const r=ra(t),s=ev(t),i=Zg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=ld(o)),[o,ld(o)]}function QD(t){const e=ld(t);return[lm(t),e,lm(e)]}function lm(t){return t.replace(/start|end/g,e=>KD[e])}function YD(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function XD(t,e,n,r){const s=ra(t);let i=YD(Lr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(lm)))),i}function ld(t){return t.replace(/left|right|bottom|top/g,e=>qD[e])}function JD(t){return{top:0,right:0,bottom:0,left:0,...t}}function AS(t){return typeof t!="number"?JD(t):{top:t,right:t,bottom:t,left:t}}function cd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function y_(t,e,n){let{reference:r,floating:s}=t;const i=Ps(e),o=ev(e),a=Zg(o),l=Lr(e),u=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[a]/2-s[a]/2;let v;switch(l){case"top":v={x:h,y:r.y-s.height};break;case"bottom":v={x:h,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:f};break;case"left":v={x:r.x-s.width,y:f};break;default:v={x:r.x,y:r.y}}switch(ra(e)){case"start":v[o]-=g*(n&&u?-1:1);break;case"end":v[o]+=g*(n&&u?-1:1);break}return v}const ZD=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=y_(u,r,l),g=r,v={},T=0;for(let y=0;y<a.length;y++){const{name:x,fn:w}=a[y],{x:E,y:S,data:P,reset:D}=await w({x:h,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});h=E??h,f=S??f,v={...v,[x]:{...v[x],...P}},D&&T<=50&&(T++,typeof D=="object"&&(D.placement&&(g=D.placement),D.rects&&(u=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:h,y:f}=y_(u,g,l)),y=-1)}return{x:h,y:f,placement:g,strategy:s,middlewareData:v}};async function bl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:v=0}=Dr(e,t),T=AS(v),x=a[g?f==="floating"?"reference":"floating":f],w=cd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:h,strategy:l})),E=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},D=cd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:S,strategy:l}):E);return{top:(w.top-D.top+T.top)/P.y,bottom:(D.bottom-w.bottom+T.bottom)/P.y,left:(w.left-D.left+T.left)/P.x,right:(D.right-w.right+T.right)/P.x}}const eL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:h=0}=Dr(t,e)||{};if(u==null)return{};const f=AS(h),g={x:n,y:r},v=ev(s),T=Zg(v),y=await o.getDimensions(u),x=v==="y",w=x?"top":"left",E=x?"bottom":"right",S=x?"clientHeight":"clientWidth",P=i.reference[T]+i.reference[v]-g[v]-i.floating[T],D=g[v]-i.reference[v],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let I=L?L[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(L)))&&(I=a.floating[S]||i.floating[T]);const C=P/2-D/2,A=I/2-y[T]/2-1,N=Rs(f[w],A),k=Rs(f[E],A),O=N,b=I-y[T]-k,B=I/2-y[T]/2+C,re=am(O,B,b),Q=!l.arrow&&ra(s)!=null&&B!==re&&i.reference[T]/2-(B<O?N:k)-y[T]/2<0,ee=Q?B<O?B-O:B-b:0;return{[v]:g[v]+ee,data:{[v]:re,centerOffset:B-re-ee,...Q&&{alignmentOffset:ee}},reset:Q}}}),tL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:y=!0,...x}=Dr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const w=Lr(s),E=Ps(a),S=Lr(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),D=g||(S||!y?[ld(a)]:QD(a)),L=T!=="none";!g&&L&&D.push(...XD(a,y,T,P));const I=[a,...D],C=await bl(e,x),A=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&A.push(C[w]),f){const B=GD(s,o,P);A.push(C[B[0]],C[B[1]])}if(N=[...N,{placement:s,overflows:A}],!A.every(B=>B<=0)){var k,O;const B=(((k=i.flip)==null?void 0:k.index)||0)+1,re=I[B];if(re)return{data:{index:B,overflows:N},reset:{placement:re}};let Q=(O=N.filter(ee=>ee.overflows[0]<=0).sort((ee,V)=>ee.overflows[1]-V.overflows[1])[0])==null?void 0:O.placement;if(!Q)switch(v){case"bestFit":{var b;const ee=(b=N.filter(V=>{if(L){const U=Ps(V.placement);return U===E||U==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(U=>U>0).reduce((U,G)=>U+G,0)]).sort((V,U)=>V[1]-U[1])[0])==null?void 0:b[0];ee&&(Q=ee);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function w_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function __(t){return HD.some(e=>t[e]>=0)}const nL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Dr(t,e);switch(r){case"referenceHidden":{const i=await bl(e,{...s,elementContext:"reference"}),o=w_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:__(o)}}}case"escaped":{const i=await bl(e,{...s,altBoundary:!0}),o=w_(i,n.floating);return{data:{escapedOffsets:o,escaped:__(o)}}}default:return{}}}}};async function rL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Lr(n),a=ra(n),l=Ps(n)==="y",u=["left","top"].includes(o)?-1:1,h=i&&l?-1:1,f=Dr(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(v=a==="end"?T*-1:T),l?{x:v*h,y:g*u}:{x:g*u,y:v*h}}const sL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await rL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},iL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:E}=x;return{x:w,y:E}}},...l}=Dr(t,e),u={x:n,y:r},h=await bl(e,l),f=Ps(Lr(s)),g=Jg(f);let v=u[g],T=u[f];if(i){const x=g==="y"?"top":"left",w=g==="y"?"bottom":"right",E=v+h[x],S=v-h[w];v=am(E,v,S)}if(o){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",E=T+h[x],S=T-h[w];T=am(E,T,S)}const y=a.fn({...e,[g]:v,[f]:T});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[g]:i,[f]:o}}}}}},oL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Dr(t,e),h={x:n,y:r},f=Ps(s),g=Jg(f);let v=h[g],T=h[f];const y=Dr(a,e),x=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=g==="y"?"height":"width",P=i.reference[g]-i.floating[S]+x.mainAxis,D=i.reference[g]+i.reference[S]-x.mainAxis;v<P?v=P:v>D&&(v=D)}if(u){var w,E;const S=g==="y"?"width":"height",P=["top","left"].includes(Lr(s)),D=i.reference[f]-i.floating[S]+(P&&((w=o.offset)==null?void 0:w[f])||0)+(P?0:x.crossAxis),L=i.reference[f]+i.reference[S]+(P?0:((E=o.offset)==null?void 0:E[f])||0)-(P?x.crossAxis:0);T<D?T=D:T>L&&(T=L)}return{[g]:v,[f]:T}}}},aL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...u}=Dr(t,e),h=await bl(e,u),f=Lr(s),g=ra(s),v=Ps(s)==="y",{width:T,height:y}=i.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=g===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,x=g==="end"?"top":"bottom");const E=y-h.top-h.bottom,S=T-h.left-h.right,P=Rs(y-h[x],E),D=Rs(T-h[w],S),L=!e.middlewareData.shift;let I=P,C=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=E),L&&!g){const N=rn(h.left,0),k=rn(h.right,0),O=rn(h.top,0),b=rn(h.bottom,0);v?C=T-2*(N!==0||k!==0?N+k:rn(h.left,h.right)):I=y-2*(O!==0||b!==0?O+b:rn(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:I});const A=await o.getDimensions(a.floating);return T!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function nh(){return typeof window<"u"}function sa(t){return PS(t)?(t.nodeName||"").toLowerCase():"#document"}function hn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function lr(t){var e;return(e=(PS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PS(t){return nh()?t instanceof Node||t instanceof hn(t).Node:!1}function Fn(t){return nh()?t instanceof Element||t instanceof hn(t).Element:!1}function rr(t){return nh()?t instanceof HTMLElement||t instanceof hn(t).HTMLElement:!1}function E_(t){return!nh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof hn(t).ShadowRoot}function Gl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Un(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function lL(t){return["table","td","th"].includes(sa(t))}function rh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function tv(t){const e=nv(),n=Fn(t)?Un(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cL(t){let e=Ns(t);for(;rr(e)&&!Vo(e);){if(tv(e))return e;if(rh(e))return null;e=Ns(e)}return null}function nv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vo(t){return["html","body","#document"].includes(sa(t))}function Un(t){return hn(t).getComputedStyle(t)}function sh(t){return Fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ns(t){if(sa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||E_(t)&&t.host||lr(t);return E_(e)?e.host:e}function NS(t){const e=Ns(t);return Vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:rr(e)&&Gl(e)?e:NS(e)}function Rl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=NS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=hn(s);if(i){const a=cm(o);return e.concat(o,o.visualViewport||[],Gl(s)?s:[],a&&n?Rl(a):[])}return e.concat(s,Rl(s,[],n))}function cm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kS(t){const e=Un(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=rr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=ad(n)!==i||ad(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function rv(t){return Fn(t)?t:t.contextElement}function xo(t){const e=rv(t);if(!rr(e))return As(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=kS(e);let o=(i?ad(n.width):n.width)/r,a=(i?ad(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const uL=As(0);function OS(t){const e=hn(t);return!nv()||!e.visualViewport?uL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function dL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==hn(t)?!1:e}function Si(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=rv(t);let o=As(1);e&&(r?Fn(r)&&(o=xo(r)):o=xo(t));const a=dL(i,n,r)?OS(i):As(0);let l=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const g=hn(i),v=r&&Fn(r)?hn(r):r;let T=g,y=cm(T);for(;y&&r&&v!==T;){const x=xo(y),w=y.getBoundingClientRect(),E=Un(y),S=w.left+(y.clientLeft+parseFloat(E.paddingLeft))*x.x,P=w.top+(y.clientTop+parseFloat(E.paddingTop))*x.y;l*=x.x,u*=x.y,h*=x.x,f*=x.y,l+=S,u+=P,T=hn(y),y=cm(T)}}return cd({width:h,height:f,x:l,y:u})}function hL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=lr(r),a=e?rh(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},u=As(1);const h=As(0),f=rr(r);if((f||!f&&!i)&&((sa(r)!=="body"||Gl(o))&&(l=sh(r)),rr(r))){const g=Si(r);u=xo(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+h.x,y:n.y*u.y-l.scrollTop*u.y+h.y}}function fL(t){return Array.from(t.getClientRects())}function um(t,e){const n=sh(t).scrollLeft;return e?e.left+n:Si(lr(t)).left+n}function pL(t){const e=lr(t),n=sh(t),r=t.ownerDocument.body,s=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+um(t);const a=-n.scrollTop;return Un(r).direction==="rtl"&&(o+=rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function mL(t,e){const n=hn(t),r=lr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const u=nv();(!u||u&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function gL(t,e){const n=Si(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=rr(t)?xo(t):As(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,u=r*i.y;return{width:o,height:a,x:l,y:u}}function x_(t,e,n){let r;if(e==="viewport")r=mL(t,n);else if(e==="document")r=pL(lr(t));else if(Fn(e))r=gL(e,n);else{const s=OS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return cd(r)}function DS(t,e){const n=Ns(t);return n===e||!Fn(n)||Vo(n)?!1:Un(n).position==="fixed"||DS(n,e)}function vL(t,e){const n=e.get(t);if(n)return n;let r=Rl(t,[],!1).filter(a=>Fn(a)&&sa(a)!=="body"),s=null;const i=Un(t).position==="fixed";let o=i?Ns(t):t;for(;Fn(o)&&!Vo(o);){const a=Un(o),l=tv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Gl(o)&&!l&&DS(t,o))?r=r.filter(h=>h!==o):s=a,o=Ns(o)}return e.set(t,r),r}function yL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?rh(e)?[]:vL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,h)=>{const f=x_(e,h,s);return u.top=rn(f.top,u.top),u.right=Rs(f.right,u.right),u.bottom=Rs(f.bottom,u.bottom),u.left=rn(f.left,u.left),u},x_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function wL(t){const{width:e,height:n}=kS(t);return{width:e,height:n}}function _L(t,e,n){const r=rr(e),s=lr(e),i=n==="fixed",o=Si(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=As(0);if(r||!r&&!i)if((sa(e)!=="body"||Gl(s))&&(a=sh(e)),r){const v=Si(e,!0,i,e);l.x=v.x+e.clientLeft,l.y=v.y+e.clientTop}else s&&(l.x=um(s));let u=0,h=0;if(s&&!r&&!i){const v=s.getBoundingClientRect();h=v.top+a.scrollTop,u=v.left+a.scrollLeft-um(s,v)}const f=o.left+a.scrollLeft-l.x-u,g=o.top+a.scrollTop-l.y-h;return{x:f,y:g,width:o.width,height:o.height}}function Df(t){return Un(t).position==="static"}function T_(t,e){if(!rr(t)||Un(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return lr(t)===n&&(n=n.ownerDocument.body),n}function LS(t,e){const n=hn(t);if(rh(t))return n;if(!rr(t)){let s=Ns(t);for(;s&&!Vo(s);){if(Fn(s)&&!Df(s))return s;s=Ns(s)}return n}let r=T_(t,e);for(;r&&lL(r)&&Df(r);)r=T_(r,e);return r&&Vo(r)&&Df(r)&&!tv(r)?n:r||cL(t)||n}const EL=async function(t){const e=this.getOffsetParent||LS,n=this.getDimensions,r=await n(t.floating);return{reference:_L(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xL(t){return Un(t).direction==="rtl"}const TL={convertOffsetParentRelativeRectToViewportRelativeRect:hL,getDocumentElement:lr,getClippingRect:yL,getOffsetParent:LS,getElementRects:EL,getClientRects:fL,getDimensions:wL,getScale:xo,isElement:Fn,isRTL:xL};function SL(t,e){let n=null,r;const s=lr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const{left:u,top:h,width:f,height:g}=t.getBoundingClientRect();if(a||e(),!f||!g)return;const v=Qc(h),T=Qc(s.clientWidth-(u+f)),y=Qc(s.clientHeight-(h+g)),x=Qc(u),E={rootMargin:-v+"px "+-T+"px "+-y+"px "+-x+"px",threshold:rn(0,Rs(1,l))||1};let S=!0;function P(D){const L=D[0].intersectionRatio;if(L!==l){if(!S)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(P,{...E,root:s.ownerDocument})}catch{n=new IntersectionObserver(P,E)}n.observe(t)}return o(!0),i}function CL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=rv(t),h=s||i?[...u?Rl(u):[],...Rl(e)]:[];h.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),i&&w.addEventListener("resize",n)});const f=u&&a?SL(u,n):null;let g=-1,v=null;o&&(v=new ResizeObserver(w=>{let[E]=w;E&&E.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=v)==null||S.observe(e)})),n()}),u&&!l&&v.observe(u),v.observe(e));let T,y=l?Si(t):null;l&&x();function x(){const w=Si(t);y&&(w.x!==y.x||w.y!==y.y||w.width!==y.width||w.height!==y.height)&&n(),y=w,T=requestAnimationFrame(x)}return n(),()=>{var w;h.forEach(E=>{s&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,l&&cancelAnimationFrame(T)}}const IL=sL,bL=iL,RL=tL,AL=aL,PL=nL,S_=eL,NL=oL,kL=(t,e,n)=>{const r=new Map,s={platform:TL,...n},i={...s.platform,_c:r};return ZD(t,e,{...s,platform:i})};var Tu=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ud(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ud(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ud(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function MS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function C_(t,e){const n=MS(t);return Math.round(e*n)/n}function Lf(t){const e=m.useRef(t);return Tu(()=>{e.current=t}),e}function OL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[h,f]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=m.useState(r);ud(g,r)||v(r);const[T,y]=m.useState(null),[x,w]=m.useState(null),E=m.useCallback(V=>{V!==L.current&&(L.current=V,y(V))},[]),S=m.useCallback(V=>{V!==I.current&&(I.current=V,w(V))},[]),P=i||T,D=o||x,L=m.useRef(null),I=m.useRef(null),C=m.useRef(h),A=l!=null,N=Lf(l),k=Lf(s),O=Lf(u),b=m.useCallback(()=>{if(!L.current||!I.current)return;const V={placement:e,strategy:n,middleware:g};k.current&&(V.platform=k.current),kL(L.current,I.current,V).then(U=>{const G={...U,isPositioned:O.current!==!1};B.current&&!ud(C.current,G)&&(C.current=G,Fs.flushSync(()=>{f(G)}))})},[g,e,n,k,O]);Tu(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const B=m.useRef(!1);Tu(()=>(B.current=!0,()=>{B.current=!1}),[]),Tu(()=>{if(P&&(L.current=P),D&&(I.current=D),P&&D){if(N.current)return N.current(P,D,b);b()}},[P,D,b,N,A]);const re=m.useMemo(()=>({reference:L,floating:I,setReference:E,setFloating:S}),[E,S]),Q=m.useMemo(()=>({reference:P,floating:D}),[P,D]),ee=m.useMemo(()=>{const V={position:n,left:0,top:0};if(!Q.floating)return V;const U=C_(Q.floating,h.x),G=C_(Q.floating,h.y);return a?{...V,transform:"translate("+U+"px, "+G+"px)",...MS(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:G}},[n,a,Q.floating,h.x,h.y]);return m.useMemo(()=>({...h,update:b,refs:re,elements:Q,floatingStyles:ee}),[h,b,re,Q,ee])}const DL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?S_({element:r.current,padding:s}).fn(n):{}:r?S_({element:r,padding:s}).fn(n):{}}}},LL=(t,e)=>({...IL(t),options:[t,e]}),ML=(t,e)=>({...bL(t),options:[t,e]}),jL=(t,e)=>({...NL(t),options:[t,e]}),VL=(t,e)=>({...RL(t),options:[t,e]}),FL=(t,e)=>({...AL(t),options:[t,e]}),UL=(t,e)=>({...PL(t),options:[t,e]}),$L=(t,e)=>({...DL(t),options:[t,e]});var BL="Arrow",jS=m.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(we.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});jS.displayName=BL;var zL=jS;function WL(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:g,children:v,...T}=f,y=(g==null?void 0:g[t][l])||a,x=m.useMemo(()=>T,Object.values(T));return d.jsx(y.Provider,{value:x,children:v})}function h(f,g){const v=(g==null?void 0:g[t][l])||a,T=m.useContext(v);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,HL(s,...e)]}function HL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qL(t){const[e,n]=m.useState(void 0);return st(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var sv="Popper",[VS,ia]=WL(sv),[KL,FS]=VS(sv),US=t=>{const{__scopePopper:e,children:n}=t,[r,s]=m.useState(null);return d.jsx(KL,{scope:e,anchor:r,onAnchorChange:s,children:n})};US.displayName=sv;var $S="PopperAnchor",BS=m.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=FS($S,n),o=m.useRef(null),a=Oe(e,o);return m.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(we.div,{...s,ref:a})});BS.displayName=$S;var iv="PopperContent",[GL,QL]=VS(iv),zS=m.forwardRef((t,e)=>{var W,ge,xe,fe,ae,ye;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:T,...y}=t,x=FS(iv,n),[w,E]=m.useState(null),S=Oe(e,it=>E(it)),[P,D]=m.useState(null),L=qL(P),I=(L==null?void 0:L.width)??0,C=(L==null?void 0:L.height)??0,A=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(u)?u:[u],O=k.length>0,b={padding:N,boundary:k.filter(XL),altBoundary:O},{refs:B,floatingStyles:re,placement:Q,isPositioned:ee,middlewareData:V}=OL({strategy:"fixed",placement:A,whileElementsMounted:(...it)=>CL(...it,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[LL({mainAxis:s+C,alignmentAxis:o}),l&&ML({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?jL():void 0,...b}),l&&VL({...b}),FL({...b,apply:({elements:it,rects:Rt,availableWidth:Tn,availableHeight:Sn})=>{const{width:ur,height:Ks}=Rt.reference,dr=it.floating.style;dr.setProperty("--radix-popper-available-width",`${Tn}px`),dr.setProperty("--radix-popper-available-height",`${Sn}px`),dr.setProperty("--radix-popper-anchor-width",`${ur}px`),dr.setProperty("--radix-popper-anchor-height",`${Ks}px`)}}),P&&$L({element:P,padding:a}),JL({arrowWidth:I,arrowHeight:C}),g&&UL({strategy:"referenceHidden",...b})]}),[U,G]=qS(Q),oe=Ct(T);st(()=>{ee&&(oe==null||oe())},[ee,oe]);const Y=(W=V.arrow)==null?void 0:W.x,te=(ge=V.arrow)==null?void 0:ge.y,le=((xe=V.arrow)==null?void 0:xe.centerOffset)!==0,[F,ie]=m.useState();return st(()=>{w&&ie(window.getComputedStyle(w).zIndex)},[w]),d.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ee?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:F,"--radix-popper-transform-origin":[(fe=V.transformOrigin)==null?void 0:fe.x,(ae=V.transformOrigin)==null?void 0:ae.y].join(" "),...((ye=V.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(GL,{scope:n,placedSide:U,onArrowChange:D,arrowX:Y,arrowY:te,shouldHideArrow:le,children:d.jsx(we.div,{"data-side":U,"data-align":G,...y,ref:S,style:{...y.style,animation:ee?void 0:"none"}})})})});zS.displayName=iv;var WS="PopperArrow",YL={top:"bottom",right:"left",bottom:"top",left:"right"},HS=m.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=QL(WS,r),o=YL[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(zL,{...s,ref:n,style:{...s.style,display:"block"}})})});HS.displayName=WS;function XL(t){return t!==null}var JL=t=>({name:"transformOrigin",options:t,fn(e){var x,w,E;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[u,h]=qS(n),f={start:"0%",center:"50%",end:"100%"}[h],g=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,v=(((E=s.arrow)==null?void 0:E.y)??0)+l/2;let T="",y="";return u==="bottom"?(T=o?f:`${g}px`,y=`${-l}px`):u==="top"?(T=o?f:`${g}px`,y=`${r.floating.height+l}px`):u==="right"?(T=`${-l}px`,y=o?f:`${v}px`):u==="left"&&(T=`${r.floating.width+l}px`,y=o?f:`${v}px`),{data:{x:T,y}}}});function qS(t){const[e,n="center"]=t.split("-");return[e,n]}var KS=US,ih=BS,ov=zS,av=HS,ZL="Portal",oh=m.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=m.useState(!1);st(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Wg.createPortal(d.jsx(we.div,{...r,ref:e}),o):null});oh.displayName=ZL;function eM(t,e){return m.useReducer((n,r)=>e[n][r]??n,t)}var Us=t=>{const{present:e,children:n}=t,r=tM(e),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),i=Oe(r.ref,nM(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:i}):null};Us.displayName="Presence";function tM(t){const[e,n]=m.useState(),r=m.useRef({}),s=m.useRef(t),i=m.useRef("none"),o=t?"mounted":"unmounted",[a,l]=eM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Yc(r.current);i.current=a==="mounted"?u:"none"},[a]),st(()=>{const u=r.current,h=s.current;if(h!==t){const g=i.current,v=Yc(u);t?l("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),st(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,f=v=>{const y=Yc(r.current).includes(v.animationName);if(v.target===e&&y&&(l("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=v=>{v.target===e&&(i.current=Yc(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Yc(t){return(t==null?void 0:t.animationName)||"none"}function nM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rM="VisuallyHidden",lv=m.forwardRef((t,e)=>d.jsx(we.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));lv.displayName=rM;var sM=lv,[ah,Bz]=$r("Tooltip",[ia]),cv=ia(),GS="TooltipProvider",iM=700,I_="tooltip.open",[oM,QS]=ah(GS),YS=t=>{const{__scopeTooltip:e,delayDuration:n=iM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=m.useState(!0),l=m.useRef(!1),u=m.useRef(0);return m.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),d.jsx(oM,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:m.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(h=>{l.current=h},[]),disableHoverableContent:s,children:i})};YS.displayName=GS;var XS="Tooltip",[zz,lh]=ah(XS),dm="TooltipTrigger",aM=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=lh(dm,n),i=QS(dm,n),o=cv(n),a=m.useRef(null),l=Oe(e,a,s.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(ih,{asChild:!0,...o,children:d.jsx(we.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ue(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ue(t.onBlur,s.onClose),onClick:ue(t.onClick,s.onClose)})})});aM.displayName=dm;var lM="TooltipPortal",[Wz,cM]=ah(lM,{forceMount:void 0}),Fo="TooltipContent",JS=m.forwardRef((t,e)=>{const n=cM(Fo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=lh(Fo,t.__scopeTooltip);return d.jsx(Us,{present:r||o.open,children:o.disableHoverableContent?d.jsx(ZS,{side:s,...i,ref:e}):d.jsx(uM,{side:s,...i,ref:e})})}),uM=m.forwardRef((t,e)=>{const n=lh(Fo,t.__scopeTooltip),r=QS(Fo,t.__scopeTooltip),s=m.useRef(null),i=Oe(e,s),[o,a]=m.useState(null),{trigger:l,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,g=m.useCallback(()=>{a(null),f(!1)},[f]),v=m.useCallback((T,y)=>{const x=T.currentTarget,w={x:T.clientX,y:T.clientY},E=pM(w,x.getBoundingClientRect()),S=mM(w,E),P=gM(y.getBoundingClientRect()),D=yM([...S,...P]);a(D),f(!0)},[f]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(l&&h){const T=x=>v(x,h),y=x=>v(x,l);return l.addEventListener("pointerleave",T),h.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",y)}}},[l,h,v,g]),m.useEffect(()=>{if(o){const T=y=>{const x=y.target,w={x:y.clientX,y:y.clientY},E=(l==null?void 0:l.contains(x))||(h==null?void 0:h.contains(x)),S=!vM(w,o);E?g():S&&(g(),u())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,h,o,u,g]),d.jsx(ZS,{...t,ref:i})}),[dM,hM]=ah(XS,{isInside:!1}),ZS=m.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=lh(Fo,n),u=cv(n),{onClose:h}=l;return m.useEffect(()=>(document.addEventListener(I_,h),()=>document.removeEventListener(I_,h)),[h]),m.useEffect(()=>{if(l.trigger){const f=g=>{const v=g.target;v!=null&&v.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),d.jsx(Kl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:d.jsxs(ov,{"data-state":l.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(Xg,{children:r}),d.jsx(dM,{scope:n,isInside:!0,children:d.jsx(sM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});JS.displayName=Fo;var eC="TooltipArrow",fM=m.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cv(n);return hM(eC,n).isInside?null:d.jsx(av,{...s,...r,ref:e})});fM.displayName=eC;function pM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function mM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function gM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function vM(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,l=e[i].y,u=e[o].x,h=e[o].y;l>r!=h>r&&n<(u-a)*(r-l)/(h-l)+a&&(s=!s)}return s}function yM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),wM(e)}function wM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _M=YS,tC=JS;const EM=_M,xM=m.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(tC,{ref:r,sideOffset:e,className:ne("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));xM.displayName=tC.displayName;class ch{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const uv=typeof window>"u"||"Deno"in window;function Nn(){}function TM(t,e){return typeof t=="function"?t(e):t}function SM(t){return typeof t=="number"&&t>=0&&t!==1/0}function CM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Xc(t,e,n){return uh(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function ns(t,e,n){return uh(t)?[{...e,queryKey:t},n]:[t||{},e]}function b_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(uh(o)){if(r){if(e.queryHash!==dv(o,e.options))return!1}else if(!dd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function R_(t,e){const{exact:n,fetching:r,predicate:s,mutationKey:i}=t;if(uh(i)){if(!e.options.mutationKey)return!1;if(n){if(ai(e.options.mutationKey)!==ai(i))return!1}else if(!dd(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function dv(t,e){return((e==null?void 0:e.queryKeyHashFn)||ai)(t)}function ai(t){return JSON.stringify(t,(e,n)=>hm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function dd(t,e){return nC(t,e)}function nC(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nC(t[n],e[n])):!1}function rC(t,e){if(t===e)return t;const n=A_(t)&&A_(e);if(n||hm(t)&&hm(e)){const r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{};let a=0;for(let l=0;l<i;l++){const u=n?l:s[l];o[u]=rC(t[u],e[u]),o[u]===t[u]&&a++}return r===i&&a===r?t:o}return e}function A_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hm(t){if(!P_(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!P_(n)||!n.hasOwnProperty("isPrototypeOf"))}function P_(t){return Object.prototype.toString.call(t)==="[object Object]"}function uh(t){return Array.isArray(t)}function sC(t){return new Promise(e=>{setTimeout(e,t)})}function N_(t){sC(0).then(t)}function IM(){if(typeof AbortController=="function")return new AbortController}function bM(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rC(t,e):e}class RM extends ch{constructor(){super(),this.setup=e=>{if(!uv&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const fm=new RM,k_=["online","offline"];class AM extends ch{constructor(){super(),this.setup=e=>{if(!uv&&window.addEventListener){const n=()=>e();return k_.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{k_.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const hd=new AM;function PM(t){return Math.min(1e3*2**t,3e4)}function hv(t){return(t??"online")==="online"?hd.isOnline():!0}class iC{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Mf(t){return t instanceof iC}function oC(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((x,w)=>{i=x,o=w}),l=x=>{r||(v(new iC(x)),t.abort==null||t.abort())},u=()=>{e=!0},h=()=>{e=!1},f=()=>!fm.isFocused()||t.networkMode!=="always"&&!hd.isOnline(),g=x=>{r||(r=!0,t.onSuccess==null||t.onSuccess(x),s==null||s(),i(x))},v=x=>{r||(r=!0,t.onError==null||t.onError(x),s==null||s(),o(x))},T=()=>new Promise(x=>{s=w=>{const E=r||!f();return E&&x(w),E},t.onPause==null||t.onPause()}).then(()=>{s=void 0,r||t.onContinue==null||t.onContinue()}),y=()=>{if(r)return;let x;try{x=t.fn()}catch(w){x=Promise.reject(w)}Promise.resolve(x).then(g).catch(w=>{var E,S;if(r)return;const P=(E=t.retry)!=null?E:3,D=(S=t.retryDelay)!=null?S:PM,L=typeof D=="function"?D(n,w):D,I=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,w);if(e||!I){v(w);return}n++,t.onFail==null||t.onFail(n,w),sC(L).then(()=>{if(f())return T()}).then(()=>{e?v(w):y()})})};return hv(t.networkMode)?y():T().then(y),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:u,continueRetry:h}}const fv=console;function NM(){let t=[],e=0,n=h=>{h()},r=h=>{h()};const s=h=>{let f;e++;try{f=h()}finally{e--,e||a()}return f},i=h=>{e?t.push(h):N_(()=>{n(h)})},o=h=>(...f)=>{i(()=>{h(...f)})},a=()=>{const h=t;t=[],h.length&&N_(()=>{r(()=>{h.forEach(f=>{n(f)})})})};return{batch:s,batchCalls:o,schedule:i,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h}}}const $t=NM();class aC{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SM(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(uv?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let kM=class extends aC{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||fv,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||OM(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=bM(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Nn).catch(Nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!CM(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(T=>T.options.queryFn);v&&this.setOptions(v.options)}const o=IM(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(h),(r=this.options.behavior)==null||r.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=h.fetchOptions)==null?void 0:s.meta)){var f;this.dispatch({type:"fetch",meta:(f=h.fetchOptions)==null?void 0:f.meta})}const g=v=>{if(Mf(v)&&v.silent||this.dispatch({type:"error",error:v}),!Mf(v)){var T,y,x,w;(T=(y=this.cache.config).onError)==null||T.call(y,v,this),(x=(w=this.cache.config).onSettled)==null||x.call(w,this.state.data,v,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=oC({fn:h.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:v=>{var T,y,x,w;if(typeof v>"u"){g(new Error(this.queryHash+" data is undefined"));return}this.setData(v),(T=(y=this.cache.config).onSuccess)==null||T.call(y,v,this),(x=(w=this.cache.config).onSettled)==null||x.call(w,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:g,onFail:(v,T)=>{this.dispatch({type:"failed",failureCount:v,error:T})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var s,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:hv(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Mf(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function OM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class DM extends ch{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var s;const i=n.queryKey,o=(s=n.queryHash)!=null?s:dv(i,n);let a=this.get(o);return a||(a=new kM({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){$t.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=ns(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>b_(r,s))}findAll(e,n){const[r]=ns(e,n);return Object.keys(r).length>0?this.queries.filter(s=>b_(r,s)):this.queries}notify(e){$t.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){$t.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){$t.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let LM=class extends aC{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||fv,this.observers=[],this.state=e.state||MM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var I;return this.retryer=oC({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(C,A)=>{this.dispatch({type:"failed",failureCount:C,error:A})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(I=this.options.retry)!=null?I:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,s,i,o,a,l,u,h;if(!n){var f,g,v,T;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(g=this.mutationCache.config).onMutate)==null?void 0:f.call(g,this.state.variables,this));const C=await((v=(T=this.options).onMutate)==null?void 0:v.call(T,this.state.variables));C!==this.state.context&&this.dispatch({type:"loading",context:C,variables:this.state.variables})}const I=await e();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,I,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,I,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,I,null,this.state.variables,this.state.context,this)),await((u=(h=this.options).onSettled)==null?void 0:u.call(h,I,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:I}),I}catch(I){try{var y,x,w,E,S,P,D,L;throw await((y=(x=this.mutationCache.config).onError)==null?void 0:y.call(x,I,this.state.variables,this.state.context,this)),await((w=(E=this.options).onError)==null?void 0:w.call(E,I,this.state.variables,this.state.context)),await((S=(P=this.mutationCache.config).onSettled)==null?void 0:S.call(P,void 0,I,this.state.variables,this.state.context,this)),await((D=(L=this.options).onSettled)==null?void 0:D.call(L,void 0,I,this.state.variables,this.state.context)),I}finally{this.dispatch({type:"error",error:I})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!hv(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),$t.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function MM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class jM extends ch{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const s=new LM({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){$t.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>R_(e,n))}findAll(e){return this.mutations.filter(n=>R_(e,n))}notify(e){$t.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return $t.batch(()=>n.reduce((r,s)=>r.then(()=>s.continue().catch(Nn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function VM(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,s,i,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,u=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",g=((i=t.state.data)==null?void 0:i.pages)||[],v=((o=t.state.data)==null?void 0:o.pageParams)||[];let T=v,y=!1;const x=L=>{Object.defineProperty(L,"signal",{enumerable:!0,get:()=>{var I;if((I=t.signal)!=null&&I.aborted)y=!0;else{var C;(C=t.signal)==null||C.addEventListener("abort",()=>{y=!0})}return t.signal}})},w=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),E=(L,I,C,A)=>(T=A?[I,...T]:[...T,I],A?[C,...L]:[...L,C]),S=(L,I,C,A)=>{if(y)return Promise.reject("Cancelled");if(typeof C>"u"&&!I&&L.length)return Promise.resolve(L);const N={queryKey:t.queryKey,pageParam:C,meta:t.options.meta};x(N);const k=w(N);return Promise.resolve(k).then(b=>E(L,C,b,A))};let P;if(!g.length)P=S([]);else if(h){const L=typeof u<"u",I=L?u:O_(t.options,g);P=S(g,L,I)}else if(f){const L=typeof u<"u",I=L?u:FM(t.options,g);P=S(g,L,I,!0)}else{T=[];const L=typeof t.options.getNextPageParam>"u";P=(a&&g[0]?a(g[0],0,g):!0)?S([],L,v[0]):Promise.resolve(E([],v[0],g[0]));for(let C=1;C<g.length;C++)P=P.then(A=>{if(a&&g[C]?a(g[C],C,g):!0){const k=L?v[C]:O_(t.options,A);return S(A,L,k)}return Promise.resolve(E(A,v[C],g[C]))})}return P.then(L=>({pages:L,pageParams:T}))}}}}function O_(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function FM(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class UM{constructor(e={}){this.queryCache=e.queryCache||new DM,this.mutationCache=e.mutationCache||new jM,this.logger=e.logger||fv,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=fm.subscribe(()=>{fm.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=hd.subscribe(()=>{hd.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=ns(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const s=Xc(e,n,r),i=this.getQueryData(s.queryKey);return i?Promise.resolve(i):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.queryCache.find(e),i=s==null?void 0:s.state.data,o=TM(n,i);if(typeof o>"u")return;const a=Xc(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return $t.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=ns(e,n),s=this.queryCache;$t.batch(()=>{s.findAll(r).forEach(i=>{s.remove(i)})})}resetQueries(e,n,r){const[s,i]=ns(e,n,r),o=this.queryCache,a={type:"active",...s};return $t.batch(()=>(o.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries(a,i)))}cancelQueries(e,n,r){const[s,i={}]=ns(e,n,r);typeof i.revert>"u"&&(i.revert=!0);const o=$t.batch(()=>this.queryCache.findAll(s).map(a=>a.cancel(i)));return Promise.all(o).then(Nn).catch(Nn)}invalidateQueries(e,n,r){const[s,i]=ns(e,n,r);return $t.batch(()=>{var o,a;if(this.queryCache.findAll(s).forEach(u=>{u.invalidate()}),s.refetchType==="none")return Promise.resolve();const l={...s,type:(o=(a=s.refetchType)!=null?a:s.type)!=null?o:"active"};return this.refetchQueries(l,i)})}refetchQueries(e,n,r){const[s,i]=ns(e,n,r),o=$t.batch(()=>this.queryCache.findAll(s).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...i,cancelRefetch:(u=i==null?void 0:i.cancelRefetch)!=null?u:!0,meta:{refetchPage:s.refetchPage}})}));let a=Promise.all(o).then(Nn);return i!=null&&i.throwOnError||(a=a.catch(Nn)),a}fetchQuery(e,n,r){const s=Xc(e,n,r),i=this.defaultQueryOptions(s);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Nn).catch(Nn)}fetchInfiniteQuery(e,n,r){const s=Xc(e,n,r);return s.behavior=VM(),this.fetchQuery(s)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Nn).catch(Nn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(s=>ai(e)===ai(s.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>dd(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(s=>ai(e)===ai(s.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>dd(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=dv(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const D_=m.createContext(void 0),$M=m.createContext(!1);function BM(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=D_),window.ReactQueryClientContext):D_)}const zM=({client:t,children:e,context:n,contextSharing:r=!1})=>{m.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const s=BM(n,r);return m.createElement($M.Provider,{value:!n&&r},m.createElement(s.Provider,{value:t},e))};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}var ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ds||(ds={}));const L_="popstate";function WM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return pm("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:fd(s)}return qM(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HM(){return Math.random().toString(36).substr(2,8)}function M_(t,e){return{usr:t.state,key:t.key,idx:e}}function pm(t,e,n,r){return n===void 0&&(n=null),Al({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oa(e):e,{state:n,key:e&&e.key||r||HM()})}function fd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ds.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Al({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=ds.Pop;let x=h(),w=x==null?null:x-u;u=x,l&&l({action:a,location:y.location,delta:w})}function g(x,w){a=ds.Push;let E=pm(y.location,x,w);u=h()+1;let S=M_(E,u),P=y.createHref(E);try{o.pushState(S,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}i&&l&&l({action:a,location:y.location,delta:1})}function v(x,w){a=ds.Replace;let E=pm(y.location,x,w);u=h();let S=M_(E,u),P=y.createHref(E);o.replaceState(S,"",P),i&&l&&l({action:a,location:y.location,delta:0})}function T(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof x=="string"?x:fd(x);return E=E.replace(/ $/,"%20"),rt(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let y={get action(){return a},get location(){return t(s,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(L_,f),l=x,()=>{s.removeEventListener(L_,f),l=null}},createHref(x){return e(s,x)},createURL:T,encodeLocation(x){let w=T(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:v,go(x){return o.go(x)}};return y}var j_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(j_||(j_={}));function KM(t,e,n){return n===void 0&&(n="/"),GM(t,e,n,!1)}function GM(t,e,n,r){let s=typeof e=="string"?oa(e):e,i=pv(s.pathname||"/",n);if(i==null)return null;let o=cC(t);QM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=oj(i);a=sj(o[l],u,r)}return a}function cC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(rt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=xs([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cC(i.children,e,h,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:nj(u,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of uC(i.path))s(i,o,l)}),e}function uC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YM=/^:[\w-]+$/,XM=3,JM=2,ZM=1,ej=10,tj=-2,V_=t=>t==="*";function nj(t,e){let n=t.split("/"),r=n.length;return n.some(V_)&&(r+=tj),e&&(r+=JM),n.filter(s=>!V_(s)).reduce((s,i)=>s+(YM.test(i)?XM:i===""?ZM:ej),r)}function rj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function sj(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=F_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=F_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:xs([i,f.pathname]),pathnameBase:uj(xs([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=xs([i,f.pathnameBase]))}return o}function F_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ij(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:g,isOptional:v}=h;if(g==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const T=a[f];return v&&!T?u[g]=void 0:u[g]=(T||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function ij(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function oj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aj(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?oa(t):t;return{pathname:n?n.startsWith("/")?n:lj(n,e):e,search:dj(r),hash:hj(s)}}function lj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mv(t,e){let n=cj(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=oa(t):(s=Al({},t),rt(!s.pathname||!s.pathname.includes("?"),jf("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),jf("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),jf("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?e[f]:"/"}let l=aj(s,a),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const xs=t=>t.join("/").replace(/\/\/+/g,"/"),uj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dC=["post","put","patch","delete"];new Set(dC);const pj=["get",...dC];new Set(pj);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pl(){return Pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pl.apply(this,arguments)}const vv=m.createContext(null),mj=m.createContext(null),$s=m.createContext(null),dh=m.createContext(null),Bs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),hC=m.createContext(null);function gj(t,e){let{relative:n}=e===void 0?{}:e;aa()||rt(!1);let{basename:r,navigator:s}=m.useContext($s),{hash:i,pathname:o,search:a}=pC(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function aa(){return m.useContext(dh)!=null}function Li(){return aa()||rt(!1),m.useContext(dh).location}function fC(t){m.useContext($s).static||m.useLayoutEffect(t)}function hh(){let{isDataRoute:t}=m.useContext(Bs);return t?Aj():vj()}function vj(){aa()||rt(!1);let t=m.useContext(vv),{basename:e,future:n,navigator:r}=m.useContext($s),{matches:s}=m.useContext(Bs),{pathname:i}=Li(),o=JSON.stringify(mv(s,n.v7_relativeSplatPath)),a=m.useRef(!1);return fC(()=>{a.current=!0}),m.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=gv(u,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:xs([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function pC(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=m.useContext($s),{matches:s}=m.useContext(Bs),{pathname:i}=Li(),o=JSON.stringify(mv(s,r.v7_relativeSplatPath));return m.useMemo(()=>gv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function yj(t,e){return wj(t,e)}function wj(t,e,n,r){aa()||rt(!1);let{navigator:s,static:i}=m.useContext($s),{matches:o}=m.useContext(Bs),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=Li(),f;if(e){var g;let w=typeof e=="string"?oa(e):e;u==="/"||(g=w.pathname)!=null&&g.startsWith(u)||rt(!1),f=w}else f=h;let v=f.pathname||"/",T=v;if(u!=="/"){let w=u.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=!i&&n&&n.matches&&n.matches.length>0?n.matches:KM(t,{pathname:T}),x=Sj(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:xs([u,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:xs([u,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&x?m.createElement(dh.Provider,{value:{location:Pl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ds.Pop}},x):x}function _j(){let t=Rj(),e=fj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:s},n):null,null)}const Ej=m.createElement(_j,null);class xj extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?m.createElement(Bs.Provider,{value:this.props.routeContext},m.createElement(hC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tj(t){let{routeContext:e,match:n,children:r}=t,s=m.useContext(vv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Bs.Provider,{value:e},r)}function Sj(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||rt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:v}=n,T=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||T){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,g)=>{let v,T=!1,y=null,x=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||Ej,l&&(u<0&&g===0?(T=!0,x=null):u===g&&(T=!0,x=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,g+1)),E=()=>{let S;return v?S=y:T?S=x:f.route.Component?S=m.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,m.createElement(Tj,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?m.createElement(xj,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}var mC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mC||{}),pd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pd||{});function Cj(t){let e=m.useContext(vv);return e||rt(!1),e}function Ij(t){let e=m.useContext(mj);return e||rt(!1),e}function bj(t){let e=m.useContext(Bs);return e||rt(!1),e}function gC(t){let e=bj(),n=e.matches[e.matches.length-1];return n.route.id||rt(!1),n.route.id}function Rj(){var t;let e=m.useContext(hC),n=Ij(pd.UseRouteError),r=gC(pd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Aj(){let{router:t}=Cj(mC.UseNavigateStable),e=gC(pd.UseNavigateStable),n=m.useRef(!1);return fC(()=>{n.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pl({fromRouteId:e},i)))},[t,e])}function Pj(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fh(t){let{to:e,replace:n,state:r,relative:s}=t;aa()||rt(!1);let{future:i,static:o}=m.useContext($s),{matches:a}=m.useContext(Bs),{pathname:l}=Li(),u=hh(),h=gv(e,mv(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return m.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function ni(t){rt(!1)}function Nj(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ds.Pop,navigator:i,static:o=!1,future:a}=t;aa()&&rt(!1);let l=e.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:i,static:o,future:Pl({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=oa(r));let{pathname:h="/",search:f="",hash:g="",state:v=null,key:T="default"}=r,y=m.useMemo(()=>{let x=pv(h,l);return x==null?null:{location:{pathname:x,search:f,hash:g,state:v,key:T},navigationType:s}},[l,h,f,g,v,T,s]);return y==null?null:m.createElement($s.Provider,{value:u},m.createElement(dh.Provider,{children:n,value:y}))}function kj(t){let{children:e,location:n}=t;return yj(mm(e),n)}new Promise(()=>{});function mm(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,s)=>{if(!m.isValidElement(r))return;let i=[...e,s];if(r.type===m.Fragment){n.push.apply(n,mm(r.props.children,i));return}r.type!==ni&&rt(!1),!r.props.index||!r.props.children||rt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mm(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gm.apply(this,arguments)}function Oj(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Dj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Lj(t,e){return t.button===0&&(!e||e==="_self")&&!Dj(t)}const Mj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jj="6";try{window.__reactRouterVersion=jj}catch{}const Vj="startTransition",U_=Px[Vj];function Fj(t){let{basename:e,children:n,future:r,window:s}=t,i=m.useRef();i.current==null&&(i.current=WM({window:s,v5Compat:!0}));let o=i.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=m.useCallback(f=>{u&&U_?U_(()=>l(f)):l(f)},[l,u]);return m.useLayoutEffect(()=>o.listen(h),[o,h]),m.useEffect(()=>Pj(r),[r]),m.createElement(Nj,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Uj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qn=m.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:f}=e,g=Oj(e,Mj),{basename:v}=m.useContext($s),T,y=!1;if(typeof u=="string"&&$j.test(u)&&(T=u,Uj))try{let S=new URL(window.location.href),P=u.startsWith("//")?new URL(S.protocol+u):new URL(u),D=pv(P.pathname,v);P.origin===S.origin&&D!=null?u=D+P.search+P.hash:y=!0}catch{}let x=gj(u,{relative:s}),w=Bj(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function E(S){r&&r(S),S.defaultPrevented||w(S)}return m.createElement("a",gm({},g,{href:T||x,onClick:y||i?r:E,ref:n,target:l}))});var $_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($_||($_={}));var B_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(B_||(B_={}));function Bj(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=hh(),u=Li(),h=pC(t,{relative:o});return m.useCallback(f=>{if(Lj(f,n)){f.preventDefault();let g=r!==void 0?r:fd(u)===fd(h);l(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,l,h,r,s,n,t,i,o,a])}var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},yC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|u>>6,v=u&63;l||(v=64,o||(g=64)),r.push(n[h],n[f],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new Wj;const g=i<<2|a>>4;if(r.push(g),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const T=u<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hj=function(t){const e=vC(t);return yC.encodeByteArray(e,!0)},md=function(t){return Hj(t).replace(/\./g,"")},wC=function(t){try{return yC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=()=>qj().__FIREBASE_DEFAULTS__,Gj=()=>{if(typeof process>"u"||typeof z_>"u")return;const t=z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wC(t[1]);return e&&JSON.parse(e)},ph=()=>{try{return Kj()||Gj()||Qj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_C=t=>{var e,n;return(n=(e=ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EC=t=>{const e=_C(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xC=()=>{var t;return(t=ph())===null||t===void 0?void 0:t.config},TC=t=>{var e;return(e=ph())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[md(JSON.stringify(n)),md(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function Jj(){var t;const e=(t=ph())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nV(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rV(){return!Jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sV(){try{return typeof indexedDB=="object"}catch{return!1}}function iV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="FirebaseError";class cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oV,Object.setPrototypeOf(this,cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?aV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new cr(s,a,r)}}function aV(t,e){return t.replace(lV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lV=/\{\$([^}]+)}/g;function cV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(W_(i)&&W_(o)){if(!gd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function W_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uV(t,e){const n=new dV(t,e);return n.subscribe.bind(n)}class dV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vf),s.error===void 0&&(s.error=Vf),s.complete===void 0&&(s.complete=Vf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Yj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mV(e))try{this.getOrInitializeService({instanceIdentifier:ri})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ri){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ri){return this.instances.has(e)}getOptions(e=ri){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ri){return this.component?this.component.multipleInstances?e:ri:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pV(t){return t===ri?void 0:t}function mV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const vV={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},yV=Te.INFO,wV={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},_V=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=wV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yv{constructor(e){this.name=e,this._logLevel=yV,this._logHandler=_V,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const EV=(t,e)=>e.some(n=>t instanceof n);let H_,q_;function xV(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TV(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CC=new WeakMap,vm=new WeakMap,IC=new WeakMap,Ff=new WeakMap,wv=new WeakMap;function SV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ts(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&CC.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function CV(t){if(vm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});vm.set(t,e)}let ym={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ts(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IV(t){ym=t(ym)}function bV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uf(this),e,...n);return IC.set(r,e.sort?e.sort():[e]),Ts(r)}:TV().includes(t)?function(...e){return t.apply(Uf(this),e),Ts(CC.get(this))}:function(...e){return Ts(t.apply(Uf(this),e))}}function RV(t){return typeof t=="function"?bV(t):(t instanceof IDBTransaction&&CV(t),EV(t,xV())?new Proxy(t,ym):t)}function Ts(t){if(t instanceof IDBRequest)return SV(t);if(Ff.has(t))return Ff.get(t);const e=RV(t);return e!==t&&(Ff.set(t,e),wv.set(e,t)),e}const Uf=t=>wv.get(t);function AV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ts(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ts(o.result),l.oldVersion,l.newVersion,Ts(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const PV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],$f=new Map;function K_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($f.get(e))return $f.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=NV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||PV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return $f.set(e,i),i}IV(t=>({...t,get:(e,n,r)=>K_(e,n)||t.get(e,n,r),has:(e,n)=>!!K_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wm="@firebase/app",G_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new yv("@firebase/app"),DV="@firebase/app-compat",LV="@firebase/analytics-compat",MV="@firebase/analytics",jV="@firebase/app-check-compat",VV="@firebase/app-check",FV="@firebase/auth",UV="@firebase/auth-compat",$V="@firebase/database",BV="@firebase/data-connect",zV="@firebase/database-compat",WV="@firebase/functions",HV="@firebase/functions-compat",qV="@firebase/installations",KV="@firebase/installations-compat",GV="@firebase/messaging",QV="@firebase/messaging-compat",YV="@firebase/performance",XV="@firebase/performance-compat",JV="@firebase/remote-config",ZV="@firebase/remote-config-compat",eF="@firebase/storage",tF="@firebase/storage-compat",nF="@firebase/firestore",rF="@firebase/vertexai-preview",sF="@firebase/firestore-compat",iF="firebase",oF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="[DEFAULT]",aF={[wm]:"fire-core",[DV]:"fire-core-compat",[MV]:"fire-analytics",[LV]:"fire-analytics-compat",[VV]:"fire-app-check",[jV]:"fire-app-check-compat",[FV]:"fire-auth",[UV]:"fire-auth-compat",[$V]:"fire-rtdb",[BV]:"fire-data-connect",[zV]:"fire-rtdb-compat",[WV]:"fire-fn",[HV]:"fire-fn-compat",[qV]:"fire-iid",[KV]:"fire-iid-compat",[GV]:"fire-fcm",[QV]:"fire-fcm-compat",[YV]:"fire-perf",[XV]:"fire-perf-compat",[JV]:"fire-rc",[ZV]:"fire-rc-compat",[eF]:"fire-gcs",[tF]:"fire-gcs-compat",[nF]:"fire-fst",[sF]:"fire-fst-compat",[rF]:"fire-vertex","fire-js":"fire-js",[iF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Map,lF=new Map,Em=new Map;function Q_(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ci(t){const e=t.name;if(Em.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,t);for(const n of vd.values())Q_(n,t);for(const n of lF.values())Q_(n,t);return!0}function mh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new Ql("app","Firebase",cF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=oF;function bC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_m,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ss.create("bad-app-name",{appName:String(s)});if(n||(n=xC()),!n)throw Ss.create("no-options");const i=vd.get(s);if(i){if(gd(n,i.options)&&gd(r,i.config))return i;throw Ss.create("duplicate-app",{appName:s})}const o=new gV(s);for(const l of Em.values())o.addComponent(l);const a=new uF(n,r,o);return vd.set(s,a),a}function _v(t=_m){const e=vd.get(t);if(!e&&t===_m&&xC())return bC();if(!e)throw Ss.create("no-app",{appName:t});return e}function Zn(t,e,n){var r;let s=(r=aF[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}Ci(new ks(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="firebase-heartbeat-database",hF=1,Nl="firebase-heartbeat-store";let Bf=null;function RC(){return Bf||(Bf=AV(dF,hF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),Bf}async function fF(t){try{const n=(await RC()).transaction(Nl),r=await n.objectStore(Nl).get(AC(t));return await n.done,r}catch(e){if(e instanceof cr)Mr.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mr.warn(n.message)}}}async function Y_(t,e){try{const r=(await RC()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(e,AC(t)),await r.done}catch(n){if(n instanceof cr)Mr.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mr.warn(r.message)}}}function AC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=1024,mF=30*24*60*60*1e3;class gF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=X_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=mF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X_(),{heartbeatsToSend:r,unsentEntries:s}=vF(this._heartbeatsCache.heartbeats),i=md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mr.warn(n),""}}}function X_(){return new Date().toISOString().substring(0,10)}function vF(t,e=pF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),J_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),J_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sV()?iV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await fF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function J_(t){return md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t){Ci(new ks("platform-logger",e=>new kV(e),"PRIVATE")),Ci(new ks("heartbeat",e=>new gF(e),"PRIVATE")),Zn(wm,G_,t),Zn(wm,G_,"esm2017"),Zn("fire-js","")}wF("");var Qn=function(){return Qn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qn.apply(this,arguments)};function Xl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _F(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function PC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EF=PC,NC=new Ql("auth","Firebase",PC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new yv("@firebase/auth");function xF(t,...e){yd.logLevel<=Te.WARN&&yd.warn(`Auth (${Mi}): ${t}`,...e)}function Su(t,...e){yd.logLevel<=Te.ERROR&&yd.error(`Auth (${Mi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t,...e){throw xv(t,...e)}function Mn(t,...e){return xv(t,...e)}function Ev(t,e,n){const r=Object.assign(Object.assign({},EF()),{[e]:n});return new Ql("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return Ev(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&sr(t,"argument-error"),Ev(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NC.create(t,...e)}function de(t,e,...n){if(!t)throw xv(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Su(e),new Error(e)}function jr(t,e){t||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SF(){return Z_()==="http:"||Z_()==="https:"}function Z_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SF()||eV()||"connection"in navigator)?navigator.onLine:!0}function IF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=Xj()||tV()}get(){return CF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new Jl(3e4,6e4);function Sv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ji(t,e,n,r,s={}){return OC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Yl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return Zj()||(u.referrerPolicy="no-referrer"),kC.fetch()(DC(t,t.config.apiHost,n,a),u)})}async function OC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bF),e);try{const s=new PF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Jc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ev(t,h,u);sr(t,h)}}catch(s){if(s instanceof cr)throw s;sr(t,"network-request-failed",{message:String(s)})}}async function AF(t,e,n,r,s={}){const i=await ji(t,e,n,r,s);return"mfaPendingCredential"in i&&sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}function DC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Tv(t.config,s):`${t.config.apiScheme}://${s}`}class PF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mn(this.auth,"network-request-failed")),RF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Mn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function LC(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kF(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),s=Cv(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:sl(zf(s.auth_time)),issuedAtTime:sl(zf(s.iat)),expirationTime:sl(zf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function zf(t){return Number(t)*1e3}function Cv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Su("JWT malformed, contained fewer than 3 sections"),null;try{const s=wC(n);return s?JSON.parse(s):(Su("Failed to decode base64 JWT payload"),null)}catch(s){return Su("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function eE(t){const e=Cv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof cr&&OF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Uo(t,LC(n,{idToken:r}));de(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?MC(i.providerUserInfo):[],a=MF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Tm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function LF(t){const e=Xe(t);await wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function MC(t){return t.map(e=>{var{providerId:n}=e,r=Xl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e){const n=await OC(t,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=DC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VF(t,e){return ji(t,"POST","/v2/accounts:revokeToken",Sv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=eE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await jF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new To;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Xl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Tm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Uo(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kF(this,e)}reload(){return LF(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xr(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Uo(this,NF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:P,isAnonymous:D,providerData:L,stsTokenManager:I}=n;de(S&&I,e,"internal-error");const C=To.fromJSON(this.name,I);de(typeof S=="string",e,"internal-error"),Jr(f,e.name),Jr(g,e.name),de(typeof P=="boolean",e,"internal-error"),de(typeof D=="boolean",e,"internal-error"),Jr(v,e.name),Jr(T,e.name),Jr(y,e.name),Jr(x,e.name),Jr(w,e.name),Jr(E,e.name);const A=new Sr({uid:S,auth:e,email:g,emailVerified:P,displayName:f,isAnonymous:D,photoURL:T,phoneNumber:v,tenantId:y,stsTokenManager:C,createdAt:w,lastLoginAt:E});return L&&Array.isArray(L)&&(A.providerData=L.map(N=>Object.assign({},N))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new To;s.updateFromServerResponse(n);const i=new Sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await wd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?MC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new To;a.updateFromIdToken(r);const l=new Sr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Tm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;function Cr(t){jr(t instanceof Function,"Expected a class definition");let e=tE.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jC.type="NONE";const nE=jC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Cu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Cu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(Cr(nE),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Cr(nE);const o=Cu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=Sr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new So(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new So(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($C(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zC(e))return"Blackberry";if(WC(e))return"Webos";if(FC(e))return"Safari";if((e.includes("chrome/")||UC(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function VC(t=Vt()){return/firefox\//i.test(t)}function FC(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UC(t=Vt()){return/crios\//i.test(t)}function $C(t=Vt()){return/iemobile/i.test(t)}function BC(t=Vt()){return/android/i.test(t)}function zC(t=Vt()){return/blackberry/i.test(t)}function WC(t=Vt()){return/webos/i.test(t)}function Iv(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FF(t=Vt()){var e;return Iv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UF(){return nV()&&document.documentMode===10}function HC(t=Vt()){return Iv(t)||BC(t)||WC(t)||zC(t)||/windows phone/i.test(t)||$C(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(t,e=[]){let n;switch(t){case"Browser":n=rE(Vt());break;case"Worker":n=`${rE(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BF(t,e={}){return ji(t,"GET","/v2/passwordPolicy",Sv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=6;class WF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sE(this),this.idTokenSubscription=new sE(this),this.beforeStateQueue=new $F(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LC(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xr(this.app))return Promise.reject(hi(this));const n=e?Xe(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xr(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xr(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BF(this),n=new WF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function gh(t){return Xe(t)}class sE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uV(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qF(t){bv=t}function KF(t){return bv.loadJS(t)}function GF(){return bv.gapiScript}function QF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t,e){const n=mh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(gd(i,e??{}))return s;sr(s,"already-initialized")}return n.initialize({options:e})}function XF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KC(t,e,n){const r=gh(t);de(r._canInitEmulator,r,"emulator-config-failed"),de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GC(e),{host:o,port:a}=JF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),ZF()}function GC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JF(t){const e=GC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:iE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:iE(o)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,n){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(t,e){return AF(t,"POST","/v1/accounts:signInWithIdp",Sv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="http://localhost";class Ii extends QC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Xl(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ii(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Co(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Co(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Co(e,n)}buildRequest(){const e={requestUri:e4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Zl{constructor(){super("facebook.com")}static credential(e){return Ii._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ii._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Zl{constructor(){super("github.com")}static credential(e){return Ii._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Zl{constructor(){super("twitter.com")}static credential(e,n){return Ii._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return as.credential(n,r)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Sr._fromIdTokenResponse(e,r,s),o=oE(r);return new $o({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=oE(r);return new $o({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function oE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends cr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new _d(e,n,r,s)}}function YC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,i,e,r):i})}async function t4(t,e,n=!1){const r=await Uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e,n=!1){const{auth:r}=t;if(xr(r.app))return Promise.reject(hi(r));const s="reauthenticate";try{const i=await Uo(t,YC(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=Cv(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),$o._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e,n=!1){if(xr(t.app))return Promise.reject(hi(t));const r="signIn",s=await YC(t,r,e),i=await $o._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(t,e){return ji(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xe(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Uo(r,s4(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function o4(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function a4(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function l4(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function c4(t){return Xe(t).signOut()}const Ed="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ed,"1"),this.storage.removeItem(Ed),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=1e3,d4=10;class JC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);UF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,d4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JC.type="LOCAL";const h4=JC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZC.type="SESSION";const eI=ZC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await f4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Av("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(){return window}function m4(t){er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof er().WorkerGlobalScope<"u"&&typeof er().importScripts=="function"}async function g4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function v4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y4(){return tI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebaseLocalStorageDb",w4=1,xd="firebaseLocalStorage",rI="fbase_key";class ec{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(t,e){return t.transaction([xd],e?"readwrite":"readonly").objectStore(xd)}function _4(){const t=indexedDB.deleteDatabase(nI);return new ec(t).toPromise()}function Sm(){const t=indexedDB.open(nI,w4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xd,{keyPath:rI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xd)?e(r):(r.close(),await _4(),e(await Sm()))})})}async function aE(t,e,n){const r=yh(t,!0).put({[rI]:e,value:n});return new ec(r).toPromise()}async function E4(t,e){const n=yh(t,!1).get(e),r=await new ec(n).toPromise();return r===void 0?null:r.value}function lE(t,e){const n=yh(t,!0).delete(e);return new ec(n).toPromise()}const x4=800,T4=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await g4(),!this.activeServiceWorker)return;this.sender=new p4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||v4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sm();return await aE(e,Ed,"1"),await lE(e,Ed),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>E4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yh(s,!1).getAll();return new ec(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const S4=sI;new Jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e){return e?Cr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv extends QC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C4(t){return r4(t.auth,new Pv(t),t.bypassAuthState)}function I4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),n4(n,new Pv(t),t.bypassAuthState)}async function b4(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),t4(n,new Pv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C4;case"linkViaPopup":case"linkViaRedirect":return b4;case"reauthViaPopup":case"reauthViaRedirect":return I4;default:sr(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=new Jl(2e3,1e4);async function A4(t,e,n){if(xr(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const r=gh(t);TF(t,e,Rv);const s=iI(r,n);return new li(r,"signInViaPopup",e,s).executeNotNull()}class li extends oI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,li.currentPopupAction&&li.currentPopupAction.cancel(),li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,R4.get())};e()}}li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="pendingRedirect",Iu=new Map;class N4 extends oI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Iu.get(this.auth._key());if(!e){try{const r=await k4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Iu.set(this.auth._key(),e)}return this.bypassAuthState||Iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k4(t,e){const n=L4(e),r=D4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function O4(t,e){Iu.set(t._key(),e)}function D4(t){return Cr(t._redirectPersistence)}function L4(t){return Cu(P4,t.config.apiKey,t.name)}async function M4(t,e,n=!1){if(xr(t.app))return Promise.reject(hi(t));const r=gh(t),s=iI(r,e),o=await new N4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=10*60*1e3;class V4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j4&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B4=/^https?/;async function z4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U4(t);for(const n of e)try{if(W4(n))return}catch{}sr(t,"unauthorized-domain")}function W4(t){const e=xm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!B4.test(n))return!1;if($4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new Jl(3e4,6e4);function uE(){const t=er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function q4(t){return new Promise((e,n)=>{var r,s,i;function o(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(Mn(t,"network-request-failed"))},timeout:H4.get()})}if(!((s=(r=er().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=er().gapi)===null||i===void 0)&&i.load)o();else{const a=QF("iframefcb");return er()[a]=()=>{gapi.load?o():n(Mn(t,"network-request-failed"))},KF(`${GF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bu=null,e})}let bu=null;function K4(t){return bu=bu||q4(t),bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Jl(5e3,15e3),Q4="__/auth/iframe",Y4="emulator/auth/iframe",X4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z4(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tv(e,Y4):`https://${t.config.authDomain}/${Q4}`,r={apiKey:e.apiKey,appName:t.name,v:Mi},s=J4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Yl(r).slice(1)}`}async function eU(t){const e=await K4(t),n=er().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:Z4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=er().setTimeout(()=>{i(o)},G4.get());function l(){er().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nU=500,rU=600,sU="_blank",iU="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oU(t,e,n,r=nU,s=rU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tU),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Vt().toLowerCase();n&&(a=UC(u)?sU:n),VC(u)&&(e=e||iU,l.scrollbars="yes");const h=Object.entries(l).reduce((g,[v,T])=>`${g}${v}=${T},`,"");if(FF(u)&&a!=="_self")return aU(e||"",a),new dE(null);const f=window.open(e||"",a,h);de(f,t,"popup-blocked");try{f.focus()}catch{}return new dE(f)}function aU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU="__/auth/handler",cU="emulator/auth/handler",uU=encodeURIComponent("fac");async function hE(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mi,eventId:s};if(e instanceof Rv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",cV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Zl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${uU}=${encodeURIComponent(l)}`:"";return`${dU(t)}?${Yl(a).slice(1)}${u}`}function dU({config:t}){return t.emulator?Tv(t,cU):`https://${t.authDomain}/${lU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="webStorageSupport";class hU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eI,this._completeRedirectFn=M4,this._overrideRedirectResult=O4}async _openPopup(e,n,r,s){var i;jr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await hE(e,n,r,xm(),s);return oU(e,o,Av())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await hE(e,n,r,xm(),s);return m4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(jr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eU(e),r=new V4(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wf,{type:Wf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Wf];o!==void 0&&n(!!o),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=z4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HC()||FC()||Iv()}}const fU=hU;var fE="@firebase/auth",pE="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gU(t){Ci(new ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qC(t)},u=new HF(r,s,i,l);return XF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ci(new ks("auth-internal",e=>{const n=gh(e.getProvider("auth").getImmediate());return(r=>new pU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(fE,pE,mU(t)),Zn(fE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=5*60,yU=TC("authIdTokenMaxAge")||vU;let mE=null;const wU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yU)return;const s=n==null?void 0:n.token;mE!==s&&(mE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _U(t=_v()){const e=mh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=YF(t,{popupRedirectResolver:fU,persistence:[S4,h4,eI]}),r=TC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=wU(i.toString());a4(n,o,()=>o(n.currentUser)),o4(n,a=>o(a))}}const s=_C("auth");return s&&KC(n,`http://${s}`),n}function EU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Mn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",EU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gU("Browser");var xU="firebase",TU="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(xU,TU,"app");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fi,lI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function A(){}A.prototype=C.prototype,I.D=C.prototype,I.prototype=new A,I.prototype.constructor=I,I.C=function(N,k,O){for(var b=Array(arguments.length-2),B=2;B<arguments.length;B++)b[B-2]=arguments[B];return C.prototype[k].apply(N,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,A){A||(A=0);var N=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)N[k]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(k=0;16>k;++k)N[k]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=I.g[0],A=I.g[1],k=I.g[2];var O=I.g[3],b=C+(O^A&(k^O))+N[0]+3614090360&4294967295;C=A+(b<<7&4294967295|b>>>25),b=O+(k^C&(A^k))+N[1]+3905402710&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(A^O&(C^A))+N[2]+606105819&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(C^k&(O^C))+N[3]+3250441966&4294967295,A=k+(b<<22&4294967295|b>>>10),b=C+(O^A&(k^O))+N[4]+4118548399&4294967295,C=A+(b<<7&4294967295|b>>>25),b=O+(k^C&(A^k))+N[5]+1200080426&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(A^O&(C^A))+N[6]+2821735955&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(C^k&(O^C))+N[7]+4249261313&4294967295,A=k+(b<<22&4294967295|b>>>10),b=C+(O^A&(k^O))+N[8]+1770035416&4294967295,C=A+(b<<7&4294967295|b>>>25),b=O+(k^C&(A^k))+N[9]+2336552879&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(A^O&(C^A))+N[10]+4294925233&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(C^k&(O^C))+N[11]+2304563134&4294967295,A=k+(b<<22&4294967295|b>>>10),b=C+(O^A&(k^O))+N[12]+1804603682&4294967295,C=A+(b<<7&4294967295|b>>>25),b=O+(k^C&(A^k))+N[13]+4254626195&4294967295,O=C+(b<<12&4294967295|b>>>20),b=k+(A^O&(C^A))+N[14]+2792965006&4294967295,k=O+(b<<17&4294967295|b>>>15),b=A+(C^k&(O^C))+N[15]+1236535329&4294967295,A=k+(b<<22&4294967295|b>>>10),b=C+(k^O&(A^k))+N[1]+4129170786&4294967295,C=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(C^A))+N[6]+3225465664&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^A&(O^C))+N[11]+643717713&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^C&(k^O))+N[0]+3921069994&4294967295,A=k+(b<<20&4294967295|b>>>12),b=C+(k^O&(A^k))+N[5]+3593408605&4294967295,C=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(C^A))+N[10]+38016083&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^A&(O^C))+N[15]+3634488961&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^C&(k^O))+N[4]+3889429448&4294967295,A=k+(b<<20&4294967295|b>>>12),b=C+(k^O&(A^k))+N[9]+568446438&4294967295,C=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(C^A))+N[14]+3275163606&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^A&(O^C))+N[3]+4107603335&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^C&(k^O))+N[8]+1163531501&4294967295,A=k+(b<<20&4294967295|b>>>12),b=C+(k^O&(A^k))+N[13]+2850285829&4294967295,C=A+(b<<5&4294967295|b>>>27),b=O+(A^k&(C^A))+N[2]+4243563512&4294967295,O=C+(b<<9&4294967295|b>>>23),b=k+(C^A&(O^C))+N[7]+1735328473&4294967295,k=O+(b<<14&4294967295|b>>>18),b=A+(O^C&(k^O))+N[12]+2368359562&4294967295,A=k+(b<<20&4294967295|b>>>12),b=C+(A^k^O)+N[5]+4294588738&4294967295,C=A+(b<<4&4294967295|b>>>28),b=O+(C^A^k)+N[8]+2272392833&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^A)+N[11]+1839030562&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^C)+N[14]+4259657740&4294967295,A=k+(b<<23&4294967295|b>>>9),b=C+(A^k^O)+N[1]+2763975236&4294967295,C=A+(b<<4&4294967295|b>>>28),b=O+(C^A^k)+N[4]+1272893353&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^A)+N[7]+4139469664&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^C)+N[10]+3200236656&4294967295,A=k+(b<<23&4294967295|b>>>9),b=C+(A^k^O)+N[13]+681279174&4294967295,C=A+(b<<4&4294967295|b>>>28),b=O+(C^A^k)+N[0]+3936430074&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^A)+N[3]+3572445317&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^C)+N[6]+76029189&4294967295,A=k+(b<<23&4294967295|b>>>9),b=C+(A^k^O)+N[9]+3654602809&4294967295,C=A+(b<<4&4294967295|b>>>28),b=O+(C^A^k)+N[12]+3873151461&4294967295,O=C+(b<<11&4294967295|b>>>21),b=k+(O^C^A)+N[15]+530742520&4294967295,k=O+(b<<16&4294967295|b>>>16),b=A+(k^O^C)+N[2]+3299628645&4294967295,A=k+(b<<23&4294967295|b>>>9),b=C+(k^(A|~O))+N[0]+4096336452&4294967295,C=A+(b<<6&4294967295|b>>>26),b=O+(A^(C|~k))+N[7]+1126891415&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~A))+N[14]+2878612391&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~C))+N[5]+4237533241&4294967295,A=k+(b<<21&4294967295|b>>>11),b=C+(k^(A|~O))+N[12]+1700485571&4294967295,C=A+(b<<6&4294967295|b>>>26),b=O+(A^(C|~k))+N[3]+2399980690&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~A))+N[10]+4293915773&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~C))+N[1]+2240044497&4294967295,A=k+(b<<21&4294967295|b>>>11),b=C+(k^(A|~O))+N[8]+1873313359&4294967295,C=A+(b<<6&4294967295|b>>>26),b=O+(A^(C|~k))+N[15]+4264355552&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~A))+N[6]+2734768916&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~C))+N[13]+1309151649&4294967295,A=k+(b<<21&4294967295|b>>>11),b=C+(k^(A|~O))+N[4]+4149444226&4294967295,C=A+(b<<6&4294967295|b>>>26),b=O+(A^(C|~k))+N[11]+3174756917&4294967295,O=C+(b<<10&4294967295|b>>>22),b=k+(C^(O|~A))+N[2]+718787259&4294967295,k=O+(b<<15&4294967295|b>>>17),b=A+(O^(k|~C))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+O&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var A=C-this.blockSize,N=this.B,k=this.h,O=0;O<C;){if(k==0)for(;O<=A;)s(this,I,O),O+=this.blockSize;if(typeof I=="string"){for(;O<C;)if(N[k++]=I.charCodeAt(O++),k==this.blockSize){s(this,N),k=0;break}}else for(;O<C;)if(N[k++]=I[O++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var A=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.u(I),I=Array(16),C=A=0;4>C;++C)for(var N=0;32>N;N+=8)I[A++]=this.g[C]>>>N&255;return I};function i(I,C){var A=a;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=C(I)}function o(I,C){this.h=C;for(var A=[],N=!0,k=I.length-1;0<=k;k--){var O=I[k]|0;N&&O==C||(A[k]=O,N=!1)}this.g=A}var a={};function l(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(u(-I));for(var C=[],A=1,N=0;I>=A;N++)C[N]=I/A|0,A*=4294967296;return new o(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return x(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(C,8)),N=f,k=0;k<I.length;k+=8){var O=Math.min(8,I.length-k),b=parseInt(I.substring(k,k+O),C);8>O?(O=u(Math.pow(C,O)),N=N.j(O).add(u(b))):(N=N.j(A),N=N.add(u(b)))}return N}var f=l(0),g=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-x(this).m();for(var I=0,C=1,A=0;A<this.g.length;A++){var N=this.i(A);I+=(0<=N?N:4294967296+N)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(y(this))return"-"+x(this).toString(I);for(var C=u(Math.pow(I,6)),A=this,N="";;){var k=P(A,C).g;A=w(A,k.j(C));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(I);if(A=k,T(A))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function y(I){return I.h==-1}t.l=function(I){return I=w(this,I),y(I)?-1:T(I)?0:1};function x(I){for(var C=I.g.length,A=[],N=0;N<C;N++)A[N]=~I.g[N];return new o(A,~I.h).add(g)}t.abs=function(){return y(this)?x(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),A=[],N=0,k=0;k<=C;k++){var O=N+(this.i(k)&65535)+(I.i(k)&65535),b=(O>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);N=b>>>16,O&=65535,b&=65535,A[k]=b<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function w(I,C){return I.add(x(C))}t.j=function(I){if(T(this)||T(I))return f;if(y(this))return y(I)?x(this).j(x(I)):x(x(this).j(I));if(y(I))return x(this.j(x(I)));if(0>this.l(v)&&0>I.l(v))return u(this.m()*I.m());for(var C=this.g.length+I.g.length,A=[],N=0;N<2*C;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<I.g.length;k++){var O=this.i(N)>>>16,b=this.i(N)&65535,B=I.i(k)>>>16,re=I.i(k)&65535;A[2*N+2*k]+=b*re,E(A,2*N+2*k),A[2*N+2*k+1]+=O*re,E(A,2*N+2*k+1),A[2*N+2*k+1]+=b*B,E(A,2*N+2*k+1),A[2*N+2*k+2]+=O*B,E(A,2*N+2*k+2)}for(N=0;N<C;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=C;N<2*C;N++)A[N]=0;return new o(A,0)};function E(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function S(I,C){this.g=I,this.h=C}function P(I,C){if(T(C))throw Error("division by zero");if(T(I))return new S(f,f);if(y(I))return C=P(x(I),C),new S(x(C.g),x(C.h));if(y(C))return C=P(I,x(C)),new S(x(C.g),C.h);if(30<I.g.length){if(y(I)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var A=g,N=C;0>=N.l(I);)A=D(A),N=D(N);var k=L(A,1),O=L(N,1);for(N=L(N,2),A=L(A,2);!T(N);){var b=O.add(N);0>=b.l(I)&&(k=k.add(A),O=b),N=L(N,1),A=L(A,1)}return C=w(I,k.j(C)),new S(k,C)}for(k=f;0<=I.l(C);){for(A=Math.max(1,Math.floor(I.m()/C.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=u(A),b=O.j(C);y(b)||0<b.l(I);)A-=N,O=u(A),b=O.j(C);T(O)&&(O=g),k=k.add(O),I=w(I,b)}return new S(k,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)&I.i(N);return new o(A,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)|I.i(N);return new o(A,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)^I.i(N);return new o(A,this.h^I.h)};function D(I){for(var C=I.g.length+1,A=[],N=0;N<C;N++)A[N]=I.i(N)<<1|I.i(N-1)>>>31;return new o(A,I.h)}function L(I,C){var A=C>>5;C%=32;for(var N=I.g.length-A,k=[],O=0;O<N;O++)k[O]=0<C?I.i(O+A)>>>C|I.i(O+A+1)<<32-C:I.i(O+A);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,fi=o}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cI,za,uI,Ru,Cm,dI,hI,fI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(c,p){if(p)e:{var _=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var M=c[R];if(!(M in _))break e;_=_[M]}c=c[c.length-1],R=_[c],p=p(R),p!=R&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function i(c,p){c instanceof String&&(c+="");var _=0,R=!1,M={next:function(){if(!R&&_<c.length){var j=_++;return{value:p(j,c[j]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(c){return c||function(){return i(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,_){return c.call.apply(c.bind,arguments)}function f(c,p,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),c.apply(p,M)}}return function(){return c.apply(p,arguments)}}function g(c,p,_){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function v(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function T(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,M,j){for(var K=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)K[Le-2]=arguments[Le];return p.prototype[M].apply(R,K)}}function y(c){const p=c.length;if(0<p){const _=Array(p);for(let R=0;R<p;R++)_[R]=c[R];return _}return[]}function x(c,p){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(l(R)){const M=c.length||0,j=R.length||0;c.length=M+j;for(let K=0;K<j;K++)c[M+K]=R[K]}else c.push(R)}}class w{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){return/^[\s\xa0]*$/.test(c)}function S(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function P(c){return P[" "](c),c}P[" "]=function(){};var D=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(c,p,_){for(const R in c)p.call(_,c[R],R,c)}function I(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function C(c){const p={};for(const _ in c)p[_]=c[_];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(_ in R)c[_]=R[_];for(let j=0;j<A.length;j++)_=A[j],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function k(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function O(c){a.setTimeout(()=>{throw c},0)}function b(){var c=U;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class B{constructor(){this.h=this.g=null}add(p,_){const R=re.get();R.set(p,_),this.h?this.h.next=R:this.g=R,this.h=R}}var re=new w(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,V=!1,U=new B,G=()=>{const c=a.Promise.resolve(void 0);ee=()=>{c.then(oe)}};var oe=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(_){O(_)}var p=re;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}V=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return c}();function F(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(D){e:{try{P(p.nodeName);var M=!0;break e}catch{}M=!1}M||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&F.aa.h.call(this)}}T(F,te);var ie={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),ge=0;function xe(c,p,_,R,M){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!R,this.ha=M,this.key=++ge,this.da=this.fa=!1}function fe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,p,_,R,M){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var K=it(c,p,R,M);return-1<K?(p=c[K],_||(p.fa=!1)):(p=new xe(p,this.src,j,!!R,M),p.fa=_,c.push(p)),p};function ye(c,p){var _=p.type;if(_ in c.g){var R=c.g[_],M=Array.prototype.indexOf.call(R,p,void 0),j;(j=0<=M)&&Array.prototype.splice.call(R,M,1),j&&(fe(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function it(c,p,_,R){for(var M=0;M<c.length;++M){var j=c[M];if(!j.da&&j.listener==p&&j.capture==!!_&&j.ha==R)return M}return-1}var Rt="closure_lm_"+(1e6*Math.random()|0),Tn={};function Sn(c,p,_,R,M){if(Array.isArray(p)){for(var j=0;j<p.length;j++)Sn(c,p[j],_,R,M);return null}return _=hc(_),c&&c[W]?c.K(p,_,u(R)?!!R.capture:!!R,M):ur(c,p,_,!1,R,M)}function ur(c,p,_,R,M,j){if(!p)throw Error("Invalid event type");var K=u(M)?!!M.capture:!!M,Le=Cn(c);if(Le||(c[Rt]=Le=new ae(c)),_=Le.add(p,_,R,K,j),_.proxy)return _;if(R=Ks(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)le||(M=K),M===void 0&&(M=!1),c.addEventListener(p.toString(),R,M);else if(c.attachEvent)c.attachEvent(zr(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ks(){function c(_){return p.call(c.src,c.listener,_)}const p=dc;return c}function dr(c,p,_,R,M){if(Array.isArray(p))for(var j=0;j<p.length;j++)dr(c,p[j],_,R,M);else R=u(R)?!!R.capture:!!R,_=hc(_),c&&c[W]?(c=c.i,p=String(p).toString(),p in c.g&&(j=c.g[p],_=it(j,_,R,M),-1<_&&(fe(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete c.g[p],c.h--)))):c&&(c=Cn(c))&&(p=c.g[p.toString()],c=-1,p&&(c=it(p,_,R,M)),(_=-1<c?p[c]:null)&&Ui(_))}function Ui(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[W])ye(p.i,c);else{var _=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(_,R,c.capture):p.detachEvent?p.detachEvent(zr(_),R):p.addListener&&p.removeListener&&p.removeListener(R),(_=Cn(p))?(ye(_,c),_.h==0&&(_.src=null,p[Rt]=null)):fe(c)}}}function zr(c){return c in Tn?Tn[c]:Tn[c]="on"+c}function dc(c,p){if(c.da)c=!0;else{p=new F(p,this);var _=c.listener,R=c.ha||c.src;c.fa&&Ui(c),c=_.call(R,p)}return c}function Cn(c){return c=c[Rt],c instanceof ae?c:null}var ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function hc(c){return typeof c=="function"?c:(c[ma]||(c[ma]=function(p){return c.handleEvent(p)}),c[ma])}function Pe(){Y.call(this),this.i=new ae(this),this.M=this,this.F=null}T(Pe,Y),Pe.prototype[W]=!0,Pe.prototype.removeEventListener=function(c,p,_,R){dr(this,c,p,_,R)};function Ge(c,p){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var M=p;p=new te(R,c),N(p,M)}if(M=!0,_)for(var j=_.length-1;0<=j;j--){var K=p.g=_[j];M=$i(K,R,!0,p)&&M}if(K=p.g=c,M=$i(K,R,!0,p)&&M,M=$i(K,R,!1,p)&&M,_)for(j=0;j<_.length;j++)K=p.g=_[j],M=$i(K,R,!1,p)&&M}Pe.prototype.N=function(){if(Pe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],R=0;R<_.length;R++)fe(_[R]);delete c.g[p],c.h--}}this.F=null},Pe.prototype.K=function(c,p,_,R){return this.i.add(String(c),p,!1,_,R)},Pe.prototype.L=function(c,p,_,R){return this.i.add(String(c),p,!0,_,R)};function $i(c,p,_,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var M=!0,j=0;j<p.length;++j){var K=p[j];if(K&&!K.da&&K.capture==_){var Le=K.listener,yt=K.ha||K.src;K.fa&&ye(c.i,K),M=Le.call(yt,R)!==!1&&M}}return M&&!R.defaultPrevented}function fc(c,p,_){if(typeof c=="function")_&&(c=g(c,_));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Gs(c){c.g=fc(()=>{c.g=null,c.i&&(c.i=!1,Gs(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class zh extends Y{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Gs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){Y.call(this),this.h=c,this.g={}}T(Wr,Y);var Bi=[];function hr(c){L(c.g,function(p,_){this.g.hasOwnProperty(_)&&Ui(p)},c),c.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),hr(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zi=a.JSON.stringify,Hr=a.JSON.parse,Wh=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ga(){}ga.prototype.h=null;function va(c){return c.h||(c.h=c.i())}function ya(){}var Qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ys(){te.call(this,"d")}T(Ys,te);function gn(){te.call(this,"c")}T(gn,te);var fr={},ce=null;function Ce(){return ce=ce||new Pe}fr.La="serverreachability";function De(c){te.call(this,fr.La,c)}T(De,te);function gt(c){const p=Ce();Ge(p,new De(p))}fr.STAT_EVENT="statevent";function qt(c,p){te.call(this,fr.STAT_EVENT,c),this.stat=p}T(qt,te);function Be(c){const p=Ce();Ge(p,new qt(p,c))}fr.Ma="timingevent";function zn(c,p){te.call(this,fr.Ma,c),this.size=p}T(zn,te);function vt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Kt(){this.g=!0}Kt.prototype.xa=function(){this.g=!1};function EP(c,p,_,R,M,j){c.info(function(){if(c.g)if(j)for(var K="",Le=j.split("&"),yt=0;yt<Le.length;yt++){var be=Le[yt].split("=");if(1<be.length){var At=be[0];be=be[1];var Pt=At.split("_");K=2<=Pt.length&&Pt[1]=="type"?K+(At+"="+be+"&"):K+(At+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+p+`
`+_+`
`+K})}function xP(c,p,_,R,M,j,K){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+p+`
`+_+`
`+j+" "+K})}function Wi(c,p,_,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+SP(c,_)+(R?" "+R:"")})}function TP(c,p){c.info(function(){return"TIMEOUT: "+p})}Kt.prototype.info=function(){};function SP(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return zi(_)}catch{return p}}var pc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},c0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hh;function mc(){}T(mc,ga),mc.prototype.g=function(){return new XMLHttpRequest},mc.prototype.i=function(){return{}},Hh=new mc;function qr(c,p,_,R){this.j=c,this.i=p,this.l=_,this.R=R||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new u0}function u0(){this.i=null,this.g="",this.h=!1}var d0={},qh={};function Kh(c,p,_){c.L=1,c.v=wc(pr(p)),c.m=_,c.P=!0,h0(c,null)}function h0(c,p){c.F=Date.now(),gc(c),c.A=pr(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),I0(_.i,"t",R),c.C=0,_=c.j.J,c.h=new u0,c.g=W0(c.j,_?p:null,!c.m),0<c.O&&(c.M=new zh(g(c.Y,c,c.g),c.O)),p=c.U,_=c.g,R=c.ca;var M="readystatechange";Array.isArray(M)||(M&&(Bi[0]=M.toString()),M=Bi);for(var j=0;j<M.length;j++){var K=Sn(_,M[j],R||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),gt(),EP(c.i,c.u,c.A,c.l,c.R,c.m)}qr.prototype.ca=function(c){c=c.target;const p=this.M;p&&mr(c)==3?p.j():this.Y(c)},qr.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=mr(this.g);var p=this.g.Ba();const Ki=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||O0(this.g)))){this.J||Pt!=4||p==7||(p==8||0>=Ki?gt(3):gt(2)),Gh(this);var _=this.g.Z();this.X=_;t:if(f0(this)){var R=O0(this.g);c="";var M=R.length,j=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xs(this),wa(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<M;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(j&&p==M-1)});R.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=_==200,xP(this.i,this.u,this.A,this.l,this.R,Pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,yt=this.g;if((Le=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Le)){var be=Le;break t}}be=null}if(_=be)Wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qh(this,_);else{this.o=!1,this.s=3,Be(12),Xs(this),wa(this);break e}}if(this.P){_=!0;let In;for(;!this.J&&this.C<K.length;)if(In=CP(this,K),In==qh){Pt==4&&(this.s=4,Be(14),_=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(In==d0){this.s=4,Be(15),Wi(this.i,this.l,K,"[Invalid Chunk]"),_=!1;break}else Wi(this.i,this.l,In,null),Qh(this,In);if(f0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||K.length!=0||this.h.h||(this.s=1,Be(16),_=!1),this.o=this.o&&_,!_)Wi(this.i,this.l,K,"[Invalid Chunked Response]"),Xs(this),wa(this);else if(0<K.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),tf(At),At.M=!0,Be(11))}}else Wi(this.i,this.l,K,null),Qh(this,K);Pt==4&&Xs(this),this.o&&!this.J&&(Pt==4?U0(this.j,this):(this.o=!1,gc(this)))}else BP(this.g),_==400&&0<K.indexOf("Unknown SID")?(this.s=3,Be(12)):(this.s=0,Be(13)),Xs(this),wa(this)}}}catch{}finally{}};function f0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function CP(c,p){var _=c.C,R=p.indexOf(`
`,_);return R==-1?qh:(_=Number(p.substring(_,R)),isNaN(_)?d0:(R+=1,R+_>p.length?qh:(p=p.slice(R,R+_),c.C=R+_,p)))}qr.prototype.cancel=function(){this.J=!0,Xs(this)};function gc(c){c.S=Date.now()+c.I,p0(c,c.I)}function p0(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(g(c.ba,c),p)}function Gh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}qr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(TP(this.i,this.A),this.L!=2&&(gt(),Be(17)),Xs(this),this.s=2,wa(this)):p0(this,this.S-c)};function wa(c){c.j.G==0||c.J||U0(c.j,c)}function Xs(c){Gh(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,hr(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Qh(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Yh(_.h,c))){if(!c.K&&Yh(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Cc(_),Tc(_);else break e;ef(_),Be(18)}}else _.za=M[1],0<_.za-_.T&&37500>M[2]&&_.F&&_.v==0&&!_.C&&(_.C=vt(g(_.Za,_),6e3));if(1>=v0(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zs(_,11)}else if((c.K||_.g==c)&&Cc(_),!E(p))for(M=_.Da.g.parse(p),p=0;p<M.length;p++){let be=M[p];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const At=be[3];At!=null&&(_.la=At,_.j.info("VER="+_.la));const Pt=be[4];Pt!=null&&(_.Aa=Pt,_.j.info("SVER="+_.Aa));const Ki=be[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(R=1.5*Ki,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const In=c.g;if(In){const bc=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var j=R.h;j.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Xh(j,j.h),j.h=null))}if(R.D){const nf=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;nf&&(R.ya=nf,je(R.I,R.D,nf))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var K=c;if(R.qa=z0(R,R.J?R.ia:null,R.W),K.K){y0(R.h,K);var Le=K,yt=R.L;yt&&(Le.I=yt),Le.B&&(Gh(Le),gc(Le)),R.g=K}else V0(R);0<_.i.length&&Sc(_)}else be[0]!="stop"&&be[0]!="close"||Zs(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Zs(_,7):Zh(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}gt(4)}catch{}}var IP=class{constructor(c,p){this.g=c,this.map=p}};function m0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function g0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function v0(c){return c.h?1:c.g?c.g.size:0}function Yh(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Xh(c,p){c.g?c.g.add(p):c.h=p}function y0(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}m0.prototype.cancel=function(){if(this.i=w0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function w0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return y(c.i)}function bP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],_=c.length,R=0;R<_;R++)p.push(c[R]);return p}p=[],_=0;for(R in c)p[_++]=c[R];return p}function RP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const R in c)p[_++]=R;return p}}}function _0(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=RP(c),R=bP(c),M=R.length,j=0;j<M;j++)p.call(void 0,R[j],_&&_[j],c)}var E0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AP(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),M=null;if(0<=R){var j=c[_].substring(0,R);M=c[_].substring(R+1)}else j=c[_];p(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Js(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Js){this.h=c.h,vc(this,c.j),this.o=c.o,this.g=c.g,yc(this,c.s),this.l=c.l;var p=c.i,_=new xa;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),x0(this,_),this.m=c.m}else c&&(p=String(c).match(E0))?(this.h=!1,vc(this,p[1]||"",!0),this.o=_a(p[2]||""),this.g=_a(p[3]||"",!0),yc(this,p[4]),this.l=_a(p[5]||"",!0),x0(this,p[6]||"",!0),this.m=_a(p[7]||"")):(this.h=!1,this.i=new xa(null,this.h))}Js.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Ea(p,T0,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Ea(p,T0,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ea(_,_.charAt(0)=="/"?kP:NP,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ea(_,DP)),c.join("")};function pr(c){return new Js(c)}function vc(c,p,_){c.j=_?_a(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function yc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function x0(c,p,_){p instanceof xa?(c.i=p,LP(c.i,c.h)):(_||(p=Ea(p,OP)),c.i=new xa(p,c.h))}function je(c,p,_){c.i.set(p,_)}function wc(c){return je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _a(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ea(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,PP),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function PP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var T0=/[#\/\?@]/g,NP=/[#\?:]/g,kP=/[#\?]/g,OP=/[#\?@]/g,DP=/#/g;function xa(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Kr(c){c.g||(c.g=new Map,c.h=0,c.i&&AP(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=xa.prototype,t.add=function(c,p){Kr(this),this.i=null,c=Hi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function S0(c,p){Kr(c),p=Hi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function C0(c,p){return Kr(c),p=Hi(c,p),c.g.has(p)}t.forEach=function(c,p){Kr(this),this.g.forEach(function(_,R){_.forEach(function(M){c.call(p,M,R,this)},this)},this)},t.na=function(){Kr(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let R=0;R<p.length;R++){const M=c[R];for(let j=0;j<M.length;j++)_.push(p[R])}return _},t.V=function(c){Kr(this);let p=[];if(typeof c=="string")C0(this,c)&&(p=p.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},t.set=function(c,p){return Kr(this),this.i=null,c=Hi(this,c),C0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function I0(c,p,_){S0(c,p),0<_.length&&(c.i=null,c.g.set(Hi(c,p),y(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var R=p[_];const j=encodeURIComponent(String(R)),K=this.V(R);for(R=0;R<K.length;R++){var M=j;K[R]!==""&&(M+="="+encodeURIComponent(String(K[R]))),c.push(M)}}return this.i=c.join("&")};function Hi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function LP(c,p){p&&!c.j&&(Kr(c),c.i=null,c.g.forEach(function(_,R){var M=R.toLowerCase();R!=M&&(S0(this,R),I0(this,M,_))},c)),c.j=p}function MP(c,p){const _=new Kt;if(a.Image){const R=new Image;R.onload=v(Gr,_,"TestLoadImage: loaded",!0,p,R),R.onerror=v(Gr,_,"TestLoadImage: error",!1,p,R),R.onabort=v(Gr,_,"TestLoadImage: abort",!1,p,R),R.ontimeout=v(Gr,_,"TestLoadImage: timeout",!1,p,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function jP(c,p){const _=new Kt,R=new AbortController,M=setTimeout(()=>{R.abort(),Gr(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(j=>{clearTimeout(M),j.ok?Gr(_,"TestPingServer: ok",!0,p):Gr(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(M),Gr(_,"TestPingServer: error",!1,p)})}function Gr(c,p,_,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(_)}catch{}}function VP(){this.g=new Wh}function FP(c,p,_){const R=_||"";try{_0(c,function(M,j){let K=M;u(M)&&(K=zi(M)),p.push(R+j+"="+encodeURIComponent(K))})}catch(M){throw p.push(R+"type="+encodeURIComponent("_badmap")),M}}function _c(c){this.l=c.Ub||null,this.j=c.eb||!1}T(_c,ga),_c.prototype.g=function(){return new Ec(this.l,this.j)},_c.prototype.i=function(c){return function(){return c}}({});function Ec(c,p){Pe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ec,Pe),t=Ec.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Sa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ta(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;b0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function b0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Ta(this):Sa(this),this.readyState==3&&b0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ta(this))},t.Qa=function(c){this.g&&(this.response=c,Ta(this))},t.ga=function(){this.g&&Ta(this)};function Ta(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sa(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function Sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function R0(c){let p="";return L(c,function(_,R){p+=R,p+=":",p+=_,p+=`\r
`}),p}function Jh(c,p,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=R0(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):je(c,p,_))}function Qe(c){Pe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Qe,Pe);var UP=/^https?$/i,$P=["POST","PUT"];t=Qe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hh.g(),this.v=this.o?va(this.o):va(Hh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(j){A0(this,j);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)_.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())_.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($P,p,void 0))||R||M||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of _)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{k0(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){A0(this,j)}};function A0(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,P0(c),xc(c)}function P0(c){c.A||(c.A=!0,Ge(c,"complete"),Ge(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ge(this,"complete"),Ge(this,"abort"),xc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xc(this,!0)),Qe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?N0(this):this.bb())},t.bb=function(){N0(this)};function N0(c){if(c.h&&typeof o<"u"&&(!c.v[1]||mr(c)!=4||c.Z()!=2)){if(c.u&&mr(c)==4)fc(c.Ea,0,c);else if(Ge(c,"readystatechange"),mr(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var R;if(R=K===0){var M=String(c.D).match(E0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),R=!UP.test(M?M.toLowerCase():"")}_=R}if(_)Ge(c,"complete"),Ge(c,"success");else{c.m=6;try{var j=2<mr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",P0(c)}}finally{xc(c)}}}}function xc(c,p){if(c.g){k0(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ge(c,"ready");try{_.onreadystatechange=R}catch{}}}function k0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function mr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Hr(p)}};function O0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BP(c){const p={};c=(c.g&&2<=mr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(E(c[R]))continue;var _=k(c[R]);const M=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=p[M]||[];p[M]=j,j.push(_)}I(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function D0(c){this.Aa=0,this.i=[],this.j=new Kt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,c),this.cb=Ca("retryDelaySeedMs",1e4,c),this.Wa=Ca("forwardChannelMaxRetries",2,c),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new m0(c&&c.concurrentRequestLimit),this.Da=new VP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=D0.prototype,t.la=8,t.G=1,t.connect=function(c,p,_,R){Be(0),this.W=c,this.H=p||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=z0(this,null,this.W),Sc(this)};function Zh(c){if(L0(c),c.G==3){var p=c.U++,_=pr(c.I);if(je(_,"SID",c.K),je(_,"RID",p),je(_,"TYPE","terminate"),Ia(c,_),p=new qr(c,c.j,p),p.L=2,p.v=wc(pr(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.v,_=!0),_||(p.g=W0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),gc(p)}B0(c)}function Tc(c){c.g&&(tf(c),c.g.cancel(),c.g=null)}function L0(c){Tc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Cc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Sc(c){if(!g0(c.h)&&!c.s){c.s=!0;var p=c.Ga;ee||G(),V||(ee(),V=!0),U.add(p,c),c.B=0}}function zP(c,p){return v0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(g(c.Ga,c,p),$0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const M=new qr(this,this.j,c);let j=this.o;if(this.S&&(j?(j=C(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=j0(this,M,p),_=pr(this.I),je(_,"RID",c),je(_,"CVER",22),this.D&&je(_,"X-HTTP-Session-Id",this.D),Ia(this,_),j&&(this.O?p="headers="+encodeURIComponent(String(R0(j)))+"&"+p:this.m&&Jh(_,this.m,j)),Xh(this.h,M),this.Ua&&je(_,"TYPE","init"),this.P?(je(_,"$req",p),je(_,"SID","null"),M.T=!0,Kh(M,_,null)):Kh(M,_,p),this.G=2}}else this.G==3&&(c?M0(this,c):this.i.length==0||g0(this.h)||M0(this))};function M0(c,p){var _;p?_=p.l:_=c.U++;const R=pr(c.I);je(R,"SID",c.K),je(R,"RID",_),je(R,"AID",c.T),Ia(c,R),c.m&&c.o&&Jh(R,c.m,c.o),_=new qr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=j0(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xh(c.h,_),Kh(_,R,p)}function Ia(c,p){c.H&&L(c.H,function(_,R){je(p,R,_)}),c.l&&_0({},function(_,R){je(p,R,_)})}function j0(c,p,_){_=Math.min(c.i.length,_);var R=c.l?g(c.l.Na,c.l,c):null;e:{var M=c.i;let j=-1;for(;;){const K=["count="+_];j==-1?0<_?(j=M[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Le=!0;for(let yt=0;yt<_;yt++){let be=M[yt].g;const At=M[yt].map;if(be-=j,0>be)j=Math.max(0,M[yt].g-100),Le=!1;else try{FP(At,K,"req"+be+"_")}catch{R&&R(At)}}if(Le){R=K.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,R}function V0(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ee||G(),V||(ee(),V=!0),U.add(p,c),c.v=0}}function ef(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(g(c.Fa,c),$0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,F0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Be(10),Tc(this),F0(this))};function tf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function F0(c){c.g=new qr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=pr(c.qa);je(p,"RID","rpc"),je(p,"SID",c.K),je(p,"AID",c.T),je(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&je(p,"TO",c.ja),je(p,"TYPE","xmlhttp"),Ia(c,p),c.m&&c.o&&Jh(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=wc(pr(p)),_.m=null,_.P=!0,h0(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Tc(this),ef(this),Be(19))};function Cc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function U0(c,p){var _=null;if(c.g==p){Cc(c),tf(c),c.g=null;var R=2}else if(Yh(c.h,p))_=p.D,y0(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var M=c.B;R=Ce(),Ge(R,new zn(R,_)),Sc(c)}else V0(c);else if(M=p.s,M==3||M==0&&0<p.X||!(R==1&&zP(c,p)||R==2&&ef(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),M){case 1:Zs(c,5);break;case 4:Zs(c,10);break;case 3:Zs(c,6);break;default:Zs(c,2)}}}function $0(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Zs(c,p){if(c.j.info("Error code "+p),p==2){var _=g(c.fb,c),R=c.Xa;const M=!R;R=new Js(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||vc(R,"https"),wc(R),M?MP(R.toString(),_):jP(R.toString(),_)}else Be(2);c.G=0,c.l&&c.l.sa(p),B0(c),L0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function B0(c){if(c.G=0,c.ka=[],c.l){const p=w0(c.h);(p.length!=0||c.i.length!=0)&&(x(c.ka,p),x(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function z0(c,p,_){var R=_ instanceof Js?pr(_):new Js(_);if(R.g!="")p&&(R.g=p+"."+R.g),yc(R,R.s);else{var M=a.location;R=M.protocol,p=p?p+"."+M.hostname:M.hostname,M=+M.port;var j=new Js(null);R&&vc(j,R),p&&(j.g=p),M&&yc(j,M),_&&(j.l=_),R=j}return _=c.D,p=c.ya,_&&p&&je(R,_,p),je(R,"VER",c.la),Ia(c,R),R}function W0(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Qe(new _c({eb:_})):new Qe(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function H0(){}t=H0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ic(){}Ic.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){Pe.call(this),this.g=new D0(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!E(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new qi(this)}T(tn,Pe),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Zh(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zi(c),c=_);p.i.push(new IP(p.Ya++,c)),p.G==3&&Sc(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,tn.aa.N.call(this)};function q0(c){Ys.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(q0,Ys);function K0(){gn.call(this),this.status=1}T(K0,gn);function qi(c){this.g=c}T(qi,H0),qi.prototype.ua=function(){Ge(this.g,"a")},qi.prototype.ta=function(c){Ge(this.g,new q0(c))},qi.prototype.sa=function(c){Ge(this.g,new K0)},qi.prototype.ra=function(){Ge(this.g,"b")},Ic.prototype.createWebChannel=Ic.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,fI=function(){return new Ic},hI=function(){return Ce()},dI=fr,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,Ru=pc,c0.COMPLETE="complete",uI=c0,ya.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",Pe.prototype.listen=Pe.prototype.K,za=ya,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,cI=Qe}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});const vE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new yv("@firebase/firestore");function ja(){return bi.logLevel}function Z(t,...e){if(bi.logLevel<=Te.DEBUG){const n=e.map(Nv);bi.debug(`Firestore (${la}): ${t}`,...n)}}function Vr(t,...e){if(bi.logLevel<=Te.ERROR){const n=e.map(Nv);bi.error(`Firestore (${la}): ${t}`,...n)}}function Bo(t,...e){if(bi.logLevel<=Te.WARN){const n=e.map(Nv);bi.warn(`Firestore (${la}): ${t}`,...n)}}function Nv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: `+t;throw Vr(e),new Error(e)}function ke(t,e){t||he()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class CU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class IU{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Rr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Rr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Dt(e)}}class bU{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class RU{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bU(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PU{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new AU(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=NU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function zo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ht(0,0))}static max(){return new pe(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends kl{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const kU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends kl{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return kU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Ue.fromString(e))}static fromName(e){return new se(Ue.fromString(e).popFirst(5))}static empty(){return new se(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Ue(e.slice()))}}function OU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Os(s,se.empty(),e)}function DU(t){return new Os(t.readTime,t.key,-1)}class Os{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Os(pe.min(),se.empty(),-1)}static max(){return new Os(pe.max(),se.empty(),-1)}}function LU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==MU)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function VU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kv.oe=-1;function wh(t){return t==null}function Td(t){return t===0&&1/t==-1/0}function FU(t){return typeof t=="number"&&Number.isInteger(t)&&!Td(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Vi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eu(this.root,e,this.comparator,!0)}}class eu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??_t.RED,this.left=s??_t.EMPTY,this.right=i??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new _t(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return _t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,s,i){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new cn([])}unionWith(e){let n=new Tt(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new vI("Invalid base64 string: "+i):i}}(e);return new It(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const UU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(ke(!!t),typeof t=="string"){let e=0;const n=UU.exec(t);if(ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Dv(t){const e=t.mapValue.fields.__previous_value__;return Ov(e)?Dv(e):e}function Ol(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Dl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ov(t)?4:zU(t)?9007199254740991:BU(t)?10:11:he()}function ir(t,e){if(t===e)return!0;const n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ol(t).isEqual(Ol(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ds(s.timestampValue),a=Ds(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ri(s.bytesValue).isEqual(Ri(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return tt(s.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(s.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return tt(s.integerValue)===tt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=tt(s.doubleValue),a=tt(i.doubleValue);return o===a?Td(o)===Td(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zo(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(yE(o)!==yE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ir(o[l],a[l])))return!1;return!0}(t,e);default:return he()}}function Ll(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function Wo(t,e){if(t===e)return 0;const n=Ai(t),r=Ai(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=tt(i.integerValue||i.doubleValue),l=tt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _E(t.timestampValue,e.timestampValue);case 4:return _E(Ol(t),Ol(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ri(i),l=Ri(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Re(a[u],l[u]);if(h!==0)return h}return Re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Re(tt(i.latitude),tt(o.latitude));return a!==0?a:Re(tt(i.longitude),tt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return EE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const f=i.fields||{},g=o.fields||{},v=(a=f.value)===null||a===void 0?void 0:a.arrayValue,T=(l=g.value)===null||l===void 0?void 0:l.arrayValue,y=Re(((u=v==null?void 0:v.values)===null||u===void 0?void 0:u.length)||0,((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0);return y!==0?y:EE(v,T)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===tu.mapValue&&o===tu.mapValue)return 0;if(i===tu.mapValue)return 1;if(o===tu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const g=Re(l[f],h[f]);if(g!==0)return g;const v=Wo(a[l[f]],u[h[f]]);if(v!==0)return v}return Re(l.length,h.length)}(t.mapValue,e.mapValue);default:throw he()}}function _E(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ds(t),r=Ds(e),s=Re(n.seconds,r.seconds);return s!==0?s:Re(n.nanos,r.nanos)}function EE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Wo(n[s],r[s]);if(i)return i}return Re(n.length,r.length)}function Ho(t){return Im(t)}function Im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ds(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Im(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Im(n.fields[o])}`;return s+"}"}(t.mapValue):he()}function xE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bm(t){return!!t&&"integerValue"in t}function Lv(t){return!!t&&"arrayValue"in t}function TE(t){return!!t&&"nullValue"in t}function SE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Au(t){return!!t&&"mapValue"in t}function BU(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Vi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=il(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Au(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Vi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Yt(il(this.value))}}function yI(t){const e=[];return Vi(t.fields,(n,r)=>{const s=new Et([n]);if(Au(r)){const i=yI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,pe.min(),pe.min(),pe.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,pe.min(),pe.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,pe.min(),pe.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function CE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Wo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function IE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n="asc"){this.field=e,this.dir=n}}function WU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{}class lt extends wI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qU(e,n,r):n==="array-contains"?new QU(e,r):n==="in"?new YU(e,r):n==="not-in"?new XU(e,r):n==="array-contains-any"?new JU(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KU(e,r):new GU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wo(n,this.value)):n!==null&&Ai(this.value)===Ai(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends wI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $n(e,n)}matches(e){return _I(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _I(t){return t.op==="and"}function EI(t){return HU(t)&&_I(t)}function HU(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function Rm(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Ho(t.value);if(EI(t))return t.filters.map(e=>Rm(e)).join(",");{const e=t.filters.map(n=>Rm(n)).join(",");return`${t.op}(${e})`}}function xI(t,e){return t instanceof lt?function(r,s){return s instanceof lt&&r.op===s.op&&r.field.isEqual(s.field)&&ir(r.value,s.value)}(t,e):t instanceof $n?function(r,s){return s instanceof $n&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&xI(o,s.filters[a]),!0):!1}(t,e):void he()}function TI(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`}(t):t instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(TI).join(" ,")+"}"}(t):"Filter"}class qU extends lt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class KU extends lt{constructor(e,n){super(e,"in",n),this.keys=SI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class GU extends lt{constructor(e,n){super(e,"not-in",n),this.keys=SI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class QU extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lv(n)&&Ll(n.arrayValue,this.value)}}class YU extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class XU extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ll(this.value.arrayValue,n)}}class JU extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function bE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new ZU(t,e,n,r,s,i,o)}function Mv(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ho(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ho(r)).join(",")),e.ue=n}return e.ue}function jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!IE(t.startAt,e.startAt)&&IE(t.endAt,e.endAt)}function Am(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function e5(t,e,n,r,s,i,o,a){return new rc(t,e,n,r,s,i,o,a)}function Vv(t){return new rc(t)}function RE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function CI(t){return t.collectionGroup!==null}function ol(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Et.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Cd(i,r))}),n.has(Et.keyField().canonicalString())||e.ce.push(new Cd(Et.keyField(),r))}return e.ce}function tr(t){const e=me(t);return e.le||(e.le=t5(e,ol(t))),e.le}function t5(t,e){if(t.limitType==="F")return bE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cd(s.field,i)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return bE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pm(t,e){const n=t.filters.concat([e]);return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nm(t,e,n){return new rc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _h(t,e){return jv(tr(t),tr(e))&&t.limitType===e.limitType}function II(t){return`${Mv(tr(t))}|lt:${t.limitType}`}function Ji(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>TI(s)).join(", ")}]`),wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ho(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ho(s)).join(",")),`Target(${r})`}(tr(t))}; limitType=${t.limitType})`}function Eh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ol(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=CE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ol(r),s)||r.endAt&&!function(o,a,l){const u=CE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ol(r),s))}(t,e)}function n5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bI(t){return(e,n)=>{let r=!1;for(const s of ol(t)){const i=r5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function r5(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Wo(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Vi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return gI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=new Ke(se.comparator);function Fr(){return s5}const RI=new Ke(se.comparator);function Wa(...t){let e=RI;for(const n of t)e=e.insert(n.key,n);return e}function AI(t){let e=RI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ci(){return al()}function PI(){return al()}function al(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const i5=new Ke(se.comparator),o5=new Tt(se.comparator);function Ee(...t){let e=o5;for(const n of t)e=e.add(n);return e}const a5=new Tt(Re);function l5(){return a5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Td(e)?"-0":e}}function NI(t){return{integerValue:""+t}}function c5(t,e){return FU(e)?NI(e):Fv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function u5(t,e,n){return t instanceof Id?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ov(i)&&(i=Dv(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ml?OI(t,e):t instanceof jl?DI(t,e):function(s,i){const o=kI(s,i),a=AE(o)+AE(s.Pe);return bm(o)&&bm(s.Pe)?NI(a):Fv(s.serializer,a)}(t,e)}function d5(t,e,n){return t instanceof Ml?OI(t,e):t instanceof jl?DI(t,e):n}function kI(t,e){return t instanceof bd?function(r){return bm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Id extends xh{}class Ml extends xh{constructor(e){super(),this.elements=e}}function OI(t,e){const n=LI(e);for(const r of t.elements)n.some(s=>ir(s,r))||n.push(r);return{arrayValue:{values:n}}}class jl extends xh{constructor(e){super(),this.elements=e}}function DI(t,e){let n=LI(e);for(const r of t.elements)n=n.filter(s=>!ir(s,r));return{arrayValue:{values:n}}}class bd extends xh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function AE(t){return tt(t.integerValue||t.doubleValue)}function LI(t){return Lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h5(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ml&&s instanceof Ml||r instanceof jl&&s instanceof jl?zo(r.elements,s.elements,ir):r instanceof bd&&s instanceof bd?ir(r.Pe,s.Pe):r instanceof Id&&s instanceof Id}(t.transform,e.transform)}class f5{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Th{}function MI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uv(t.key,jn.none()):new sc(t.key,t.data,jn.none());{const n=t.data,r=Yt.empty();let s=new Tt(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new zs(t.key,r,new cn(s.toArray()),jn.none())}}function p5(t,e,n){t instanceof sc?function(s,i,o){const a=s.value.clone(),l=NE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(s,i,o){if(!Pu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=NE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(jI(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ll(t,e,n,r){return t instanceof sc?function(i,o,a,l){if(!Pu(i.precondition,o))return a;const u=i.value.clone(),h=kE(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(i,o,a,l){if(!Pu(i.precondition,o))return a;const u=kE(i.fieldTransforms,l,o),h=o.data;return h.setAll(jI(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Pu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function m5(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=kI(r.transform,s||null);i!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,i))}return n||null}function PE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zo(r,s,(i,o)=>h5(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sc extends Th{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zs extends Th{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NE(t,e,n){const r=new Map;ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,d5(o,a,n[s]))}return r}function kE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,u5(i,o,e))}return r}class Uv extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g5 extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&p5(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=MI(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(n,r)=>PE(n,r))&&zo(this.baseMutations,e.baseMutations,(n,r)=>PE(n,r))}}class $v{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ke(e.mutations.length===r.length);let s=function(){return i5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new $v(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y5=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Se;function _5(t){switch(t){default:return he();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function VI(t){if(t===void 0)return Vr("GRPC error has no .code"),$.UNKNOWN;switch(t){case ot.OK:return $.OK;case ot.CANCELLED:return $.CANCELLED;case ot.UNKNOWN:return $.UNKNOWN;case ot.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ot.INTERNAL:return $.INTERNAL;case ot.UNAVAILABLE:return $.UNAVAILABLE;case ot.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ot.NOT_FOUND:return $.NOT_FOUND;case ot.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ot.ABORTED:return $.ABORTED;case ot.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ot.DATA_LOSS:return $.DATA_LOSS;default:return he()}}(Se=ot||(ot={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=new fi([4294967295,4294967295],0);function OE(t){const e=E5().encode(t),n=new lI;return n.update(e),new Uint8Array(n.digest())}function DE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new fi([n,r],0),new fi([s,i],0)]}class Bv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ha(`Invalid padding: ${n}`);if(r<0)throw new Ha(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ha(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ha(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fi.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(fi.fromNumber(r)));return s.compare(x5)===1&&(s=new fi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=OE(e),[r,s]=DE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=OE(e),[r,s]=DE(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ha extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sh(pe.min(),s,new Ke(Re),Fr(),Ee())}}class ic{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ic(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class FI{constructor(e,n){this.targetId=e,this.me=n}}class UI{constructor(e,n,r=It.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class LE{constructor(){this.fe=0,this.ge=jE(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he()}}),new ic(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class T5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fr(),this.qe=ME(),this.Qe=new Ke(Re)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Am(i))if(r===0){const o=new se(i.path);this.Ue(n,o,Mt.newNoDocument(o,pe.min()))}else ke(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ri(r).toUint8Array()}catch(l){if(l instanceof vI)return Bo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Bv(o,s,i)}catch(l){return Bo(l instanceof Ha?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Am(a.target)){const l=new se(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ee();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Sh(e,n,this.Qe,this.ke,r);return this.ke=Fr(),this.qe=ME(),this.Qe=new Ke(Re),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new LE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Tt(Re),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new LE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ME(){return new Ke(se.comparator)}function jE(){return new Ke(se.comparator)}const S5={asc:"ASCENDING",desc:"DESCENDING"},C5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I5={and:"AND",or:"OR"};class b5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(t,e){return t.useProto3Json||wh(e)?e:{value:e}}function Rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $I(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R5(t,e){return Rd(t,e.toTimestamp())}function nr(t){return ke(!!t),pe.fromTimestamp(function(n){const r=Ds(n);return new ht(r.seconds,r.nanos)}(t))}function zv(t,e){return Om(t,e).canonicalString()}function Om(t,e){const n=function(s){return new Ue(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BI(t){const e=Ue.fromString(t);return ke(KI(e)),e}function Dm(t,e){return zv(t.databaseId,e.path)}function Hf(t,e){const n=BI(e);if(n.get(1)!==t.databaseId.projectId)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(WI(n))}function zI(t,e){return zv(t.databaseId,e)}function A5(t){const e=BI(t);return e.length===4?Ue.emptyPath():WI(e)}function Lm(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WI(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function VE(t,e,n){return{name:Dm(t,e),fields:n.value.mapValue.fields}}function P5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(ke(h===void 0||typeof h=="string"),It.fromBase64String(h||"")):(ke(h===void 0||h instanceof Buffer||h instanceof Uint8Array),It.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?$.UNKNOWN:VI(u.code);return new J(h,u.message||"")}(o);n=new UI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hf(t,r.document.name),i=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):pe.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Nu(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hf(t,r.document),i=r.readTime?nr(r.readTime):pe.min(),o=Mt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Nu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hf(t,r.document),i=r.removedTargetIds||[];n=new Nu([],i,s,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new w5(s,i),a=r.targetId;n=new FI(a,o)}}return n}function N5(t,e){let n;if(e instanceof sc)n={update:VE(t,e.key,e.value)};else if(e instanceof Uv)n={delete:Dm(t,e.key)};else if(e instanceof zs)n={update:VE(t,e.key,e.data),updateMask:U5(e.fieldMask)};else{if(!(e instanceof g5))return he();n={verify:Dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Id)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:R5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.precondition)),n}function k5(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?nr(s.updateTime):nr(i);return o.isEqual(pe.min())&&(o=nr(i)),new f5(o,s.transformResults||[])}(n,e))):[]}function O5(t,e){return{documents:[zI(t,e.path)]}}function D5(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zI(t,s);const i=function(u){if(u.length!==0)return qI($n.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:Zi(g.field),direction:j5(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=km(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function L5(t){let e=A5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ke(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const g=HI(f);return g instanceof $n&&EI(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(T){return new Cd(eo(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,wh(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(f){const g=!!f.before,v=f.values||[];return new Sd(v,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const g=!f.before,v=f.values||[];return new Sd(v,g)}(n.endAt)),e5(e,s,o,i,a,"F",l,u)}function M5(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=eo(n.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=eo(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=eo(n.unaryFilter.field);return lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(eo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(r=>HI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function j5(t){return S5[t]}function V5(t){return C5[t]}function F5(t){return I5[t]}function Zi(t){return{fieldPath:t.canonicalString()}}function eo(t){return Et.fromServerFormat(t.fieldPath)}function qI(t){return t instanceof lt?function(n){if(n.op==="=="){if(SE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NAN"}};if(TE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NAN"}};if(TE(n.value))return{unaryFilter:{field:Zi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zi(n.field),op:V5(n.op),value:n.value}}}(t):t instanceof $n?function(n){const r=n.getFilters().map(s=>qI(s));return r.length===1?r[0]:{compositeFilter:{op:F5(n.op),filters:r}}}(t):he()}function U5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=It.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this.ct=e}}function B5(t){const e=L5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.un=new W5}addToCollectionParentIndex(e,n){return this.un.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Os.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class W5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(Ue.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new qo(0)}static kn(){return new qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(){this.changes=new ca(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ll(r.mutation,s,cn.empty(),ht.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const s=ci();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Wa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Fr();const o=al(),a=function(){return al()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof zs)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),ll(h.mutation,u,h.mutation.getFieldMask(),ht.now())):o.set(u.key,cn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new q5(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=al();let s=new Ke((o,a)=>o-a),i=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||cn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||Ee()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=PI();h.forEach(g=>{if(!i.has(g)){const v=MI(n.get(g),r.get(g));v!==null&&f.set(g,v),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(ci());let a=-1,l=i;return o.next(u=>z.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?z.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,Ee())).next(h=>({batchId:a,changes:AI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=Wa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Wa();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,l=>{const u=function(f,g){return new rc(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Mt.newInvalidDocument(h)))});let a=Wa();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&ll(h.mutation,u,cn.empty(),ht.now()),Eh(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return z.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:nr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:B5(s.bundledQuery),readTime:nr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.overlays=new Ke(se.comparator),this.Ir=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ci();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=ci(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ke((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ci(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ci(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return z.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new y5(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ee(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(){this.Tr=new Tt(ft.Er),this.dr=new Tt(ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ft(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ft(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new se(new Ue([])),r=new ft(n,e),s=new ft(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new se(new Ue([])),r=new ft(n,e),s=new ft(n,e+1);let i=Ee();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ft(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ft{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return se.comparator(e.key,n.key)||Re(e.wr,n.wr)}static Ar(e,n){return Re(e.wr,n.wr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Tt(ft.Er)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new v5(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new ft(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ft(n,0),s=new ft(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Re);return n.forEach(s=>{const i=new ft(s,0),o=new ft(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),z.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new ft(new se(i),0);let a=new Tt(Re);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),z.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return z.forEach(n.mutations,s=>{const i=new ft(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ft(n,0),s=this.br.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.Mr=e,this.docs=function(){return new Ke(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Mt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Fr();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||LU(DU(h),r)<=0||(s.has(h.key)||Eh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he()}Or(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Z5(this)}getSize(e){return z.resolve(this.size)}}class Z5 extends H5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.persistence=e,this.Nr=new ca(n=>Mv(n),jv),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wv,this.targetCount=0,this.kr=qo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),z.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Kn(n),z.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kv(0),this.Kr=!1,this.Kr=!0,this.$r=new Y5,this.referenceDelegate=e(this),this.Ur=new e3(this),this.indexManager=new z5,this.remoteDocumentCache=function(s){return new J5(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $5(n),this.Gr=new G5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new X5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new n3(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return z.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class n3 extends jU{constructor(e){super(),this.currentSequenceNumber=e}}class Hv{constructor(e){this.persistence=e,this.Jr=new Wv,this.Yr=null}static Zr(e){return new Hv(e)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Xr,r=>{const s=se.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return z.or([()=>z.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ee(),s=Ee();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new qv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rV()?8:VU(Vt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new r3;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(ja()<=Te.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Ji(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),z.resolve()):(ja()<=Te.DEBUG&&Z("QueryEngine","Query:",Ji(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(ja()<=Te.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Ji(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):z.resolve())}Yi(e,n){if(RE(n))return z.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Nm(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ee(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Nm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return RE(n)||s.isEqual(pe.min())?z.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?z.resolve(null):(ja()<=Te.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ji(n)),this.rs(e,o,n,OU(s,-1)).next(a=>a))})}ts(e,n){let r=new Tt(bI(e));return n.forEach((s,i)=>{Eh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return ja()<=Te.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Ji(n)),this.Ji.getDocumentsMatchingQuery(e,n,Os.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ke(Re),this._s=new ca(i=>Mv(i),jv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function o3(t,e,n,r){return new i3(t,e,n,r)}async function GI(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ee();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function a3(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,g=f.keys();let v=z.resolve();return g.forEach(T=>{v=v.next(()=>h.getEntry(l,T)).next(y=>{const x=u.docVersions.get(T);ke(x!==null),y.version.compareTo(x)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function QI(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function l3(t,e){const n=me(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const g=s.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(It.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),s=s.insert(f,v),function(y,x,w){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(g,v,h)&&a.push(n.Ur.updateTargetData(i,v))});let l=Fr(),u=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(c3(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(pe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function c3(t,e,n){let r=Ee(),s=Ee();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Fr();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function u3(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function d3(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new hs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Mm(t,e,n){const r=me(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nc(o))throw o;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function FE(t,e,n){const r=me(t);let s=pe.min(),i=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=me(l),g=f._s.get(h);return g!==void 0?z.resolve(f.os.get(g)):f.Ur.getTargetData(u,h)}(r,o,tr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Ee())).next(a=>(h3(r,n5(e),a),{documents:a,Ts:i})))}function h3(t,e,n){let r=t.us.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class UE{constructor(){this.activeTargetIds=l5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f3{constructor(){this.so=new UE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new UE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=null;function qf(){return nu===null?nu=function(){return 268435456+Math.round(2147483648*Math.random())}():nu++,"0x"+nu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class v3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=qf(),l=this.xo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(h=>(Z("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Bo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=m3[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=qf();return new Promise((o,a)=>{const l=new cI;l.setWithCredentials(!0),l.listenOnce(uI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ru.NO_ERROR:const h=l.getResponseJson();Z(Ot,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Ru.TIMEOUT:Z(Ot,`RPC '${e}' ${i} timed out`),a(new J($.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:const f=l.getStatus();if(Z(Ot,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const T=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(v.status);a(new J(T,v.message))}else a(new J($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J($.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{Z(Ot,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);Z(Ot,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=qf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fI(),a=hI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");Z(Ot,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let g=!1,v=!1;const T=new g3({Io:x=>{v?Z(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(g||(Z(Ot,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),Z(Ot,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},To:()=>f.close()}),y=(x,w,E)=>{x.listen(w,S=>{try{E(S)}catch(P){setTimeout(()=>{throw P},0)}})};return y(f,za.EventType.OPEN,()=>{v||(Z(Ot,`RPC '${e}' stream ${s} transport opened.`),T.yo())}),y(f,za.EventType.CLOSE,()=>{v||(v=!0,Z(Ot,`RPC '${e}' stream ${s} transport closed`),T.So())}),y(f,za.EventType.ERROR,x=>{v||(v=!0,Bo(Ot,`RPC '${e}' stream ${s} transport errored:`,x),T.So(new J($.UNAVAILABLE,"The operation could not be completed")))}),y(f,za.EventType.MESSAGE,x=>{var w;if(!v){const E=x.data[0];ke(!!E);const S=E,P=S.error||((w=S[0])===null||w===void 0?void 0:w.error);if(P){Z(Ot,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let L=function(A){const N=ot[A];if(N!==void 0)return VI(N)}(D),I=P.message;L===void 0&&(L=$.INTERNAL,I="Unknown error status: "+D+" with message "+P.message),v=!0,T.So(new J(L,I)),f.close()}else Z(Ot,`RPC '${e}' stream ${s} received:`,E),T.bo(E)}}),y(a,dI.STAT_EVENT,x=>{x.stat===Cm.PROXY?Z(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Cm.NOPROXY&&Z(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return new b5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new J($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y3 extends XI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=P5(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?nr(o.readTime):pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Lm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Am(l)?{documents:O5(i,l)}:{query:D5(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$I(i,o.resumeToken);const u=km(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=Rd(i,o.snapshotVersion.toTimestamp());const u=km(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=M5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Lm(this.serializer),n.removeTarget=e,this.a_(n)}}class w3 extends XI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=k5(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Lm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>N5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Om(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J($.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Om(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class E3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vr(n),this.D_=!1):Z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Fi(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=me(l);u.L_.add(4),await oc(u),u.q_.set("Unknown"),u.L_.delete(4),await Ih(u)}(this))})}),this.q_=new E3(r,s)}}async function Ih(t){if(Fi(t))for(const e of t.B_)await e(!0)}async function oc(t){for(const e of t.B_)await e(!1)}function JI(t,e){const n=me(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Yv(n)?Qv(n):ua(n).r_()&&Gv(n,e))}function Kv(t,e){const n=me(t),r=ua(n);n.N_.delete(e),r.r_()&&ZI(n,e),n.N_.size===0&&(r.r_()?r.o_():Fi(n)&&n.q_.set("Unknown"))}function Gv(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ua(t).A_(e)}function ZI(t,e){t.Q_.xe(e),ua(t).R_(e)}function Qv(t){t.Q_=new T5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.q_.v_()}function Yv(t){return Fi(t)&&!ua(t).n_()&&t.N_.size>0}function Fi(t){return me(t).L_.size===0}function eb(t){t.Q_=void 0}async function T3(t){t.q_.set("Online")}async function S3(t){t.N_.forEach((e,n)=>{Gv(t,e)})}async function C3(t,e){eb(t),Yv(t)?(t.q_.M_(e),Qv(t)):t.q_.set("Unknown")}async function I3(t,e,n){if(t.q_.set("Online"),e instanceof UI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ad(t,r)}else if(e instanceof Nu?t.Q_.Ke(e):e instanceof FI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(pe.min()))try{const r=await QI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),ZI(i,l);const f=new hs(h.target,l,u,h.sequenceNumber);Gv(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await Ad(t,r)}}async function Ad(t,e,n){if(!nc(e))throw e;t.L_.add(1),await oc(t),t.q_.set("Offline"),n||(n=()=>QI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ih(t)})}function tb(t,e){return e().catch(n=>Ad(t,n,e))}async function bh(t){const e=me(t),n=Ls(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b3(e);)try{const s=await u3(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,R3(e,s)}catch(s){await Ad(e,s)}nb(e)&&rb(e)}function b3(t){return Fi(t)&&t.O_.length<10}function R3(t,e){t.O_.push(e);const n=Ls(t);n.r_()&&n.V_&&n.m_(e.mutations)}function nb(t){return Fi(t)&&!Ls(t).n_()&&t.O_.length>0}function rb(t){Ls(t).start()}async function A3(t){Ls(t).p_()}async function P3(t){const e=Ls(t);for(const n of t.O_)e.m_(n.mutations)}async function N3(t,e,n){const r=t.O_.shift(),s=$v.from(r,e,n);await tb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bh(t)}async function k3(t,e){e&&Ls(t).V_&&await async function(r,s){if(function(o){return _5(o)&&o!==$.ABORTED}(s.code)){const i=r.O_.shift();Ls(r).s_(),await tb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bh(r)}}(t,e),nb(t)&&rb(t)}async function BE(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Fi(n);n.L_.add(3),await oc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ih(n)}async function O3(t,e){const n=me(t);e?(n.L_.delete(2),await Ih(n)):e||(n.L_.add(2),await oc(n),n.q_.set("Unknown"))}function ua(t){return t.K_||(t.K_=function(n,r,s){const i=me(n);return i.w_(),new y3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:T3.bind(null,t),Ro:S3.bind(null,t),mo:C3.bind(null,t),d_:I3.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Yv(t)?Qv(t):t.q_.set("Unknown")):(await t.K_.stop(),eb(t))})),t.K_}function Ls(t){return t.U_||(t.U_=function(n,r,s){const i=me(n);return i.w_(),new w3(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:A3.bind(null,t),mo:k3.bind(null,t),f_:P3.bind(null,t),g_:N3.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await bh(t)):(await t.U_.stop(),t.O_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Xv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jv(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),nc(t))return new J($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=Wa(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.W_=new Ke(se.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):he():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ko(e,n,Io.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class L3{constructor(){this.queries=WE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=WE(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new J($.ABORTED,"Firestore shutting down"))}}function WE(){return new ca(t=>II(t),_h)}async function sb(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new D3,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Jv(o,`Initialization of query '${Ji(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Zv(n)}async function ib(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M3(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Zv(n)}function j3(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Zv(t){t.Y_.forEach(e=>{e.next()})}var jm,HE;(HE=jm||(jm={})).ea="default",HE.Cache="cache";class ob{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.key=e}}class lb{constructor(e){this.key=e}}class V3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=bI(e),this.Ra=new Io(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new zE,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const g=s.get(h),v=Eh(this.query,f)?f:null,T=!!g&&this.mutatedKeys.has(g.key),y=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let x=!1;g&&v?g.data.isEqual(v.data)?T!==y&&(r.track({type:3,doc:v}),x=!0):this.ga(g,v)||(r.track({type:2,doc:v}),x=!0,(l&&this.Aa(v,l)>0||u&&this.Aa(v,u)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),x=!0):g&&!v&&(r.track({type:1,doc:g}),x=!0,(l||u)&&(a=!0)),x&&(v?(o=o.add(v),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(v,T){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return y(v)-y(T)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ko(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new lb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ab(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class F3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U3{constructor(e){this.key=e,this.va=!1}}class $3{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ca(a=>II(a),_h),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(se.comparator),this.Na=new Map,this.La=new Wv,this.Ba={},this.ka=new Map,this.qa=qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function B3(t,e,n=!0){const r=pb(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await cb(r,e,n,!0),s}async function z3(t,e){const n=pb(t);await cb(n,e,!0,!1)}async function cb(t,e,n,r){const s=await d3(t.localStore,tr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await W3(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&JI(t.remoteStore,s),a}async function W3(t,e,n,r,s){t.Ka=(f,g,v)=>async function(y,x,w,E){let S=x.view.ma(w);S.ns&&(S=await FE(y.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,S)));const P=E&&E.targetChanges.get(x.targetId),D=E&&E.targetMismatches.get(x.targetId)!=null,L=x.view.applyChanges(S,y.isPrimaryClient,P,D);return KE(y,x.targetId,L.wa),L.snapshot}(t,f,g,v);const i=await FE(t.localStore,e,!0),o=new V3(e,i.Ts),a=o.ma(i.documents),l=ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);KE(t,n,u.wa);const h=new F3(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function H3(t,e,n){const r=me(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!_h(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Mm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Kv(r.remoteStore,s.targetId),Vm(r,s.targetId)}).catch(tc)):(Vm(r,s.targetId),await Mm(r.localStore,s.targetId,!0))}async function q3(t,e){const n=me(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kv(n.remoteStore,r.targetId))}async function K3(t,e,n){const r=e$(t);try{const s=await function(o,a){const l=me(o),u=ht.now(),h=a.reduce((v,T)=>v.add(T.key),Ee());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=Fr(),y=Ee();return l.cs.getEntries(v,h).next(x=>{T=x,T.forEach((w,E)=>{E.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,T)).next(x=>{f=x;const w=[];for(const E of a){const S=m5(E,f.get(E.key).overlayedDocument);S!=null&&w.push(new zs(E.key,S,yI(S.value.mapValue),jn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,w,a)}).next(x=>{g=x;const w=x.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(v,x.batchId,w)})}).then(()=>({batchId:g.batchId,changes:AI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Ke(Re)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await ac(r,s.changes),await bh(r.remoteStore)}catch(s){const i=Jv(s,"Failed to persist write");n.reject(i)}}async function ub(t,e){const n=me(t);try{const r=await l3(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ke(o.va):s.removedDocuments.size>0&&(ke(o.va),o.va=!1))}),await ac(n,r,e)}catch(r){await tc(r)}}function qE(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const g of f.j_)g.Z_(a)&&(u=!0)}),u&&Zv(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G3(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ke(se.comparator);o=o.insert(i,Mt.newNoDocument(i,pe.min()));const a=Ee().add(i),l=new Sh(pe.min(),new Map,new Ke(Re),o,a);await ub(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),ey(r)}else await Mm(r.localStore,e,!1).then(()=>Vm(r,e,n)).catch(tc)}async function Q3(t,e){const n=me(t),r=e.batch.batchId;try{const s=await a3(n.localStore,e);hb(n,r,null),db(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ac(n,s)}catch(s){await tc(s)}}async function Y3(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ke(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);hb(r,e,n),db(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ac(r,s)}catch(s){await tc(s)}}function db(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function hb(t,e,n){const r=me(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||fb(t,r)})}function fb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Kv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ey(t))}function KE(t,e,n){for(const r of n)r instanceof ab?(t.La.addReference(r.key,e),X3(t,r)):r instanceof lb?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||fb(t,r.key)):he()}function X3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.xa.add(r),ey(t))}function ey(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new se(Ue.fromString(e)),r=t.qa.next();t.Na.set(r,new U3(n)),t.Oa=t.Oa.insert(n,r),JI(t.remoteStore,new hs(tr(Vv(n.path)),r,"TargetPurposeLimboResolution",kv.oe))}}async function ac(t,e,n){const r=me(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=qv.Wi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,g=>z.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(f,g.targetId,v)).next(()=>z.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(f,g.targetId,v)))))}catch(f){if(!nc(f))throw f;Z("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const v=h.os.get(g),T=v.snapshotVersion,y=v.withLastLimboFreeSnapshotVersion(T);h.os=h.os.insert(g,y)}}}(r.localStore,i))}async function J3(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await GI(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new J($.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ac(n,r.hs)}}function Z3(t,e){const n=me(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let s=Ee();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function pb(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G3.bind(null,e),e.Ca.d_=M3.bind(null,e.eventManager),e.Ca.$a=j3.bind(null,e.eventManager),e}function e$(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y3.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return o3(this.persistence,new s3,e.initialUser,this.serializer)}Ga(e){return new t3(Hv.Zr,this.serializer)}Wa(e){return new f3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J3.bind(null,this.syncEngine),await O3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L3}()}createDatastore(e){const n=Ch(e.databaseInfo.databaseId),r=function(i){return new v3(i)}(e.databaseInfo);return function(i,o,a,l){return new _3(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new x3(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qE(this.syncEngine,n,0),function(){return $E.D()?new $E:new p3}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new $3(s,i,o,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);Z("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await oc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=mI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Gf(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await GI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function GE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n$(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>BE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>BE(e.remoteStore,s)),t._onlineComponents=e}async function n$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Bo("Error using user provided cache. Falling back to memory cache: "+n),await Gf(t,new Pd)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await Gf(t,new Pd);return t._offlineComponents}async function gb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await GE(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await GE(t,new Fm))),t._onlineComponents}function r$(t){return gb(t).then(e=>e.syncEngine)}async function vb(t){const e=await gb(t),n=e.eventManager;return n.onListen=B3.bind(null,e.syncEngine),n.onUnlisten=H3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q3.bind(null,e.syncEngine),n}function s$(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new mb({next:g=>{h.Za(),o.enqueueAndForget(()=>ib(i,f));const v=g.docs.has(a);!v&&g.fromCache?u.reject(new J($.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?u.reject(new J($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new ob(Vv(a.path),h,{includeMetadataChanges:!0,_a:!0});return sb(i,f)}(await vb(t),t.asyncQueue,e,n,r)),r.promise}function i$(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new mb({next:g=>{h.Za(),o.enqueueAndForget(()=>ib(i,f)),g.fromCache&&l.source==="server"?u.reject(new J($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new ob(a,h,{includeMetadataChanges:!0,_a:!0});return sb(i,f)}(await vb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e,n){if(!n)throw new J($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o$(t,e,n,r){if(e===!0&&r===!0)throw new J($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YE(t){if(!se.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XE(t){if(se.isDocumentKey(t))throw new J($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function or(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rh(t);throw new J($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ah{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new SU;switch(r.type){case"firstParty":return new RU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=QE.get(n);r&&(Z("ComponentProvider","Removing Datastore"),QE.delete(n),r.terminate())}(this),Promise.resolve()}}function _b(t,e,n,r={}){var s;const i=(t=or(t,Ah))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dt.MOCK_USER;else{a=SC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dt(u)}t._authCredentials=new CU(new pI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class Cs extends da{constructor(e,n,r){super(e,n,Vv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new se(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function a$(t,e,...n){if(t=Xe(t),wb("collection","path",e),t instanceof Ah){const r=Ue.fromString(e,...n);return XE(r),new Cs(t,null,r)}{if(!(t instanceof zt||t instanceof Cs))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return XE(r),new Cs(t.firestore,null,r)}}function Nd(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=mI.newId()),wb("doc","path",e),t instanceof Ah){const r=Ue.fromString(e,...n);return YE(r),new zt(t,null,new se(r))}{if(!(t instanceof zt||t instanceof Cs))throw new J($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return YE(r),new zt(t.firestore,t instanceof Cs?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new YI(this,"async_queue_retry"),this.Vu=()=>{const r=Kf();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Rr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nc(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Vr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Xv.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ha extends Ah{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ZE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function l$(t,e){const n=typeof t=="object"?t:_v(),r=typeof t=="string"?t:"(default)",s=mh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=EC("firestore");i&&_b(s,...i)}return s}function ty(t){if(t._terminated)throw new J($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||c$(t),t._firestoreClient}function c$(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new $U(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,yb(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new t$(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(It.fromBase64String(e))}catch(n){throw new J($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Go(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=/^__.*__$/;class d${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new sc(e,this.data,n,this.fieldTransforms)}}class Eb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class iy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new iy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return kd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xb(this.Cu)&&u$.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class h${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ch(e)}Qu(e,n,r,s=!1){return new iy({Cu:e,methodName:n,qu:r,path:Et.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oy(t){const e=t._freezeSettings(),n=Ch(t._databaseId);return new h$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function f$(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);ay("Data must be an object, but it was:",o,r);const a=Tb(r,o);let l,u;if(i.merge)l=new cn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=Um(e,f,n);if(!o.contains(g))throw new J($.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Cb(h,g)||h.push(g)}l=new cn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new d$(new Yt(a),l,u)}class Nh extends ny{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function p$(t,e,n,r){const s=t.Qu(1,e,n);ay("Data must be an object, but it was:",s,r);const i=[],o=Yt.empty();Vi(r,(l,u)=>{const h=ly(e,l,n);u=Xe(u);const f=s.Nu(h);if(u instanceof Nh)i.push(h);else{const g=lc(u,f);g!=null&&(i.push(h),o.set(h,g))}});const a=new cn(i);return new Eb(o,a,s.fieldTransforms)}function m$(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Um(e,r,n)],l=[s];if(i.length%2!=0)throw new J($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(Um(e,i[g])),l.push(i[g+1]);const u=[],h=Yt.empty();for(let g=a.length-1;g>=0;--g)if(!Cb(u,a[g])){const v=a[g];let T=l[g];T=Xe(T);const y=o.Nu(v);if(T instanceof Nh)u.push(v);else{const x=lc(T,y);x!=null&&(u.push(v),h.set(v,x))}}const f=new cn(u);return new Eb(h,f,o.fieldTransforms)}function g$(t,e,n,r=!1){return lc(n,t.Qu(r?4:3,e))}function lc(t,e){if(Sb(t=Xe(t)))return ay("Unsupported field value:",e,t),Tb(t,e);if(t instanceof ny)return function(r,s){if(!xb(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=lc(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return c5(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ht.fromDate(r);return{timestampValue:Rd(s.serializer,i)}}if(r instanceof ht){const i=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rd(s.serializer,i)}}if(r instanceof ry)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Go)return{bytesValue:$I(s.serializer,r._byteString)};if(r instanceof zt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Fv(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Rh(r)}`)}(t,e)}function Tb(t,e){const n={};return gI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vi(t,(r,s)=>{const i=lc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Sb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof ry||t instanceof Go||t instanceof zt||t instanceof ny||t instanceof sy)}function ay(t,e,n){if(!Sb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Rh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Um(t,e,n){if((e=Xe(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return ly(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const v$=new RegExp("[~\\*/\\[\\]]");function ly(t,e,n){if(e.search(v$)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ph(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J($.INVALID_ARGUMENT,a+t+l)}function Cb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y$ extends Ib{data(){return super.data()}}function cy(t,e){return typeof e=="string"?ly(t,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uy{}class _$ extends uy{}function E$(t,e,...n){let r=[];e instanceof uy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof dy).length,a=i.filter(l=>l instanceof kh).length;if(o>1||o>0&&a>0)throw new J($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class kh extends _${constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kh(e,n,r)}_apply(e){const n=this._parse(e);return bb(e._query,n),new da(e.firestore,e.converter,Pm(e._query,n))}_parse(e){const n=oy(e.firestore);return function(i,o,a,l,u,h,f){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){tx(f,h);const v=[];for(const T of f)v.push(ex(l,i,T));g={arrayValue:{values:v}}}else g=ex(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||tx(f,h),g=g$(a,o,f,h==="in"||h==="not-in");return lt.create(u,h,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function x$(t,e,n){const r=e,s=cy("where",t);return kh._create(s,r,n)}class dy extends uy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)bb(o,l),o=Pm(o,l)}(e._query,n),new da(e.firestore,e.converter,Pm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ex(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new J($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CI(e)&&n.indexOf("/")!==-1)throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!se.isDocumentKey(r))throw new J($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xE(t,new se(r))}if(n instanceof zt)return xE(t,n._key);throw new J($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rh(n)}.`)}function tx(t,e){if(!Array.isArray(t)||t.length===0)throw new J($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class T${convertValue(e,n="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Vi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>tt(o.doubleValue));return new sy(i)}convertGeoPoint(e){return new ry(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ol(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);ke(KI(r));const s=new Dl(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||Vr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rb extends Ib{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(cy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ku extends Rb{data(e={}){return super.data(e)}}class C${constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new qa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ku(this._firestore,this._userDataWriter,r.key,r,new qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:I$(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t){t=or(t,zt);const e=or(t.firestore,ha);return s$(ty(e),t._key).then(n=>N$(e,t,n))}class Ab extends T${constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function R$(t){t=or(t,da);const e=or(t.firestore,ha),n=ty(e),r=new Ab(e);return w$(t._query),i$(n,t._query).then(s=>new C$(e,r,t,s))}function nx(t,e,n){t=or(t,zt);const r=or(t.firestore,ha),s=S$(t.converter,e,n);return hy(r,[f$(oy(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,jn.none())])}function A$(t,e,n,...r){t=or(t,zt);const s=or(t.firestore,ha),i=oy(s);let o;return o=typeof(e=Xe(e))=="string"||e instanceof Ph?m$(i,"updateDoc",t._key,e,n,r):p$(i,"updateDoc",t._key,e),hy(s,[o.toMutation(t._key,jn.exists(!0))])}function P$(t){return hy(or(t.firestore,ha),[new Uv(t._key,jn.none())])}function hy(t,e){return function(r,s){const i=new Rr;return r.asyncQueue.enqueueAndForget(async()=>K3(await r$(r),s,i)),i.promise}(ty(t),e)}function N$(t,e,n){const r=n.docs.get(e._key),s=new Ab(t);return new Rb(t,s,e._key,r,new qa(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){la=s})(Mi),Ci(new ks("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ha(new IU(r.getProvider("auth-internal")),new PU(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Zn(vE,"4.7.3",e),Zn(vE,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firebasestorage.googleapis.com",Nb="storageBucket",k$=2*60*1e3,O$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze extends cr{constructor(e,n,r=0){super(Qf(e),`Firebase Storage: ${n} (${Qf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function Qf(t){return"storage/"+t}function fy(){const t="An unknown error occurred, please check the error payload for server response.";return new Ze(Je.UNKNOWN,t)}function D$(t){return new Ze(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function L$(t){return new Ze(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ze(Je.UNAUTHENTICATED,t)}function j$(){return new Ze(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function V$(t){return new Ze(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function F$(){return new Ze(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U$(){return new Ze(Je.CANCELED,"User canceled the upload/download.")}function $$(t){return new Ze(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function B$(t){return new Ze(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function z$(){return new Ze(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nb+"' property when initializing the app?")}function W$(){return new Ze(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function H$(){return new Ze(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q$(t){return new Ze(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $m(t){return new Ze(Je.INVALID_ARGUMENT,t)}function kb(){return new Ze(Je.APP_DELETED,"The Firebase app was deleted.")}function K$(t){return new Ze(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cl(t,e){return new Ze(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Va(t){throw new Ze(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=un.makeFromUrl(e,n)}catch{return new un(e,"")}if(r.path==="")return r;throw B$(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${g}`,"i"),T={bucket:1,path:3},y=n===Pb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",w=new RegExp(`^https?://${y}/${s}/${x}`,"i"),S=[{regex:a,indices:l,postModify:i},{regex:v,indices:T,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<S.length;P++){const D=S[P],L=D.regex.exec(e);if(L){const I=L[D.indices.bucket];let C=L[D.indices.path];C||(C=""),r=new un(I,C),D.postModify(r);break}}if(r==null)throw $$(e);return r}}class G${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function h(...x){u||(u=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(v,l())},x)}function g(){i&&clearTimeout(i)}function v(x,...w){if(u){g();return}if(x){g(),h.call(null,x,...w);return}if(l()||o){g(),h.call(null,x,...w);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,f(S)}let T=!1;function y(x){T||(T=!0,g(),!u&&(s!==null?(x||(a=2),clearTimeout(s),f(0)):x||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function Y$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){return t!==void 0}function J$(t){return typeof t=="object"&&!Array.isArray(t)}function py(t){return typeof t=="string"||t instanceof String}function rx(t){return my()&&t instanceof Blob}function my(){return typeof Blob<"u"}function sx(t,e,n,r){if(r<e)throw $m(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $m(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ob(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var pi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pi||(pi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e,n,r,s,i,o,a,l,u,h,f,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,T)=>{this.resolve_=v,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ru(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===pi.NO_ERROR,l=i.getStatus();if(!a||Z$(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===pi.ABORT;r(!1,new ru(!1,null,h));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ru(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());X$(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=fy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?kb():U$();o(l)}else{const l=F$();o(l)}};this.canceled_?n(!1,new ru(!1,null,!0)):this.backoffId_=Q$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ru{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function t9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function n9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function r9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function i9(t,e,n,r,s,i,o=!0){const a=Ob(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return r9(u,e),t9(u,n),n9(u,i),s9(u,r),new e9(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function a9(...t){const e=o9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(my())return new Blob(t);throw new Ze(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function l9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){if(typeof atob>"u")throw q$("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yf{constructor(e,n){this.data=e,this.contentType=n||null}}function u9(t,e){switch(t){case Yn.RAW:return new Yf(Db(e));case Yn.BASE64:case Yn.BASE64URL:return new Yf(Lb(t,e));case Yn.DATA_URL:return new Yf(h9(e),f9(e))}throw fy()}function Db(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function d9(t){let e;try{e=decodeURIComponent(t)}catch{throw cl(Yn.DATA_URL,"Malformed data URL.")}return Db(e)}function Lb(t,e){switch(t){case Yn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw cl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Yn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw cl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=c9(e)}catch(s){throw s.message.includes("polyfill")?s:cl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Mb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw cl(Yn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=p9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function h9(t){const e=new Mb(t);return e.base64?Lb(Yn.BASE64,e.rest):d9(e.rest)}function f9(t){return new Mb(t).contentType}function p9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){let r=0,s="";rx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(rx(this.data_)){const r=this.data_,s=l9(r,e,n);return s===null?null:new ls(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ls(r,!0)}}static getBlob(...e){if(my()){const n=e.map(r=>r instanceof ls?r.data_:r);return new ls(a9.apply(null,n))}else{const n=e.map(o=>py(o)?u9(Yn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new ls(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){let e;try{e=JSON.parse(t)}catch{return null}return J$(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function g9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Vb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e){return e}class Ft{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||v9}}let su=null;function y9(t){return!py(t)||t.length<2?t:Vb(t)}function Fb(){if(su)return su;const t=[];t.push(new Ft("bucket")),t.push(new Ft("generation")),t.push(new Ft("metageneration")),t.push(new Ft("name","fullPath",!0));function e(i,o){return y9(o)}const n=new Ft("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ft("size");return s.xform=r,t.push(s),t.push(new Ft("timeCreated")),t.push(new Ft("updated")),t.push(new Ft("md5Hash",null,!0)),t.push(new Ft("cacheControl",null,!0)),t.push(new Ft("contentDisposition",null,!0)),t.push(new Ft("contentEncoding",null,!0)),t.push(new Ft("contentLanguage",null,!0)),t.push(new Ft("contentType",null,!0)),t.push(new Ft("metadata","customMetadata",!0)),su=t,su}function w9(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new un(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function _9(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return w9(r,t),r}function Ub(t,e,n){const r=jb(e);return r===null?null:_9(t,r,n)}function E9(t,e,n,r){const s=jb(e);if(s===null||!py(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const h=t.bucket,f=t.fullPath,g="/b/"+o(h)+"/o/"+o(f),v=gy(g,n,r),T=Ob({alt:"media",token:u});return v+T})[0]}function x9(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class $b{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){if(!t)throw fy()}function T9(t,e){function n(r,s){const i=Ub(t,s,e);return Bb(i!==null),i}return n}function S9(t,e){function n(r,s){const i=Ub(t,s,e);return Bb(i!==null),E9(i,s,t.host,t._protocol)}return n}function zb(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=j$():s=M$():n.getStatus()===402?s=L$(t.bucket):n.getStatus()===403?s=V$(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function C9(t){const e=zb(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=D$(t.path)),i.serverResponse=s.serverResponse,i}return n}function I9(t,e,n){const r=e.fullServerUrl(),s=gy(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new $b(s,i,S9(t,n),o);return a.errorHandler=C9(e),a}function b9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function R9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=b9(null,e)),r}function A9(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let P=0;P<2;P++)S=S+Math.random().toString().slice(2);return S}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=R9(e,r,s),h=x9(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,g=`\r
--`+l+"--",v=ls.getBlob(f,r,g);if(v===null)throw W$();const T={name:u.fullPath},y=gy(i,t.host,t._protocol),x="POST",w=t.maxUploadRetryTime,E=new $b(y,x,T9(t,n),w);return E.urlParams=T,E.headers=o,E.body=v.uploadData(),E.errorHandler=zb(e),E}class P9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Va("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Va("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Va("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Va("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Va("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class N9 extends P9{initXhr(){this.xhr_.responseType="text"}}function Wb(){return new N9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this._service=e,n instanceof un?this._location=n:this._location=un.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Pi(e,n)}get root(){const e=new un(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vb(this._location.path)}get storage(){return this._service}get parent(){const e=m9(this._location.path);if(e===null)return null;const n=new un(this._location.bucket,e);return new Pi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw K$(e)}}function k9(t,e,n){t._throwIfRoot("uploadBytes");const r=A9(t.storage,t._location,Fb(),new ls(e,!0),n);return t.storage.makeRequestWithTokens(r,Wb).then(s=>({metadata:s,ref:t}))}function O9(t){t._throwIfRoot("getDownloadURL");const e=I9(t.storage,t._location,Fb());return t.storage.makeRequestWithTokens(e,Wb).then(n=>{if(n===null)throw H$();return n})}function D9(t,e){const n=g9(t._location.path,e),r=new un(t._location.bucket,n);return new Pi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t){return/^[A-Za-z]+:\/\//.test(t)}function M9(t,e){return new Pi(t,e)}function Hb(t,e){if(t instanceof vy){const n=t;if(n._bucket==null)throw z$();const r=new Pi(n,n._bucket);return e!=null?Hb(r,e):r}else return e!==void 0?D9(t,e):t}function j9(t,e){if(e&&L9(e)){if(t instanceof vy)return M9(t,e);throw $m("To use ref(service, url), the first argument must be a Storage instance.")}else return Hb(t,e)}function ix(t,e){const n=e==null?void 0:e[Nb];return n==null?null:un.makeFromBucketSpec(n,t)}function V9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:SC(s,t.app.options.projectId))}class vy{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Pb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k$,this._maxUploadRetryTime=O$,this._requests=new Set,s!=null?this._bucket=un.makeFromBucketSpec(s,this._host):this._bucket=ix(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=un.makeFromBucketSpec(this._url,e):this._bucket=ix(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pi(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new G$(kb());{const o=i9(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const ox="@firebase/storage",ax="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="storage";function F9(t,e,n){return t=Xe(t),k9(t,e,n)}function U9(t){return t=Xe(t),O9(t)}function $9(t,e){return t=Xe(t),j9(t,e)}function B9(t=_v(),e){t=Xe(t);const r=mh(t,qb).getImmediate({identifier:e}),s=EC("storage");return s&&Kb(r,...s),r}function Kb(t,e,n,r={}){V9(t,e,n,r)}function z9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new vy(n,r,s,e,Mi)}function W9(){Ci(new ks(qb,z9,"PUBLIC").setMultipleInstances(!0)),Zn(ox,ax,""),Zn(ox,ax,"esm2017")}W9();const H9={apiKey:"AIzaSyBPRQoxz7J4sWs8gb29Ug6JNt7bfTEkz9E",authDomain:"organizador-de-leituras.firebaseapp.com",projectId:"organizador-de-leituras",storageBucket:"organizador-de-leituras.firebasestorage.app",messagingSenderId:"884675539442",appId:"1:884675539442:web:da474ba773ad4e35433b6b",measurementId:"G-VEYZN56VWZ"},yy=bC(H9),Ou=_U(yy),q9=new wr,Qo=l$(yy),Gb=B9(yy),K9=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes("192.168.")||window.location.hostname.includes("10.0.")||window.location.hostname.includes("172.16.")||window.location.hostname.includes("::1");if(K9)try{KC(Ou,"http://localhost:9099"),_b(Qo,"localhost",8080),Kb(Gb,"localhost",9199),console.log("Connected to Firebase Emulators")}catch(t){console.warn("Failed to connect to Firebase Emulators:",t)}const Qb=m.createContext(void 0);function fa(){const t=m.useContext(Qb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function G9({children:t}){const[e,n]=m.useState(null),[r,s]=m.useState(!0);m.useEffect(()=>l4(Ou,async h=>{n(h),s(!1)}),[]);const l={currentUser:e,loading:r,signInWithGoogle:async()=>{try{const h=(await A4(Ou,q9)).user,f=Nd(Qo,"users",h.uid);(await b$(f)).exists()||await nx(f,{email:h.email,displayName:h.displayName||"Usuário",photoURL:h.photoURL,createdAt:new Date}),et({title:"Login bem sucedido",description:"Você foi conectado com sucesso!"})}catch(u){console.error("Error signing in with Google",u);let h="Ocorreu um erro ao tentar fazer login com o Google.";u.code==="auth/unauthorized-domain"?h="Este domínio não está autorizado para autenticação. Se estiver em desenvolvimento local, configure os emuladores do Firebase ou adicione o domínio ao console do Firebase.":u.code==="auth/popup-closed-by-user"?h="O popup de login foi fechado antes da autenticação ser concluída.":u.code==="auth/cancelled-popup-request"?h="A operação de login foi cancelada.":u.code==="auth/popup-blocked"&&(h="O popup de login foi bloqueado pelo navegador."),et({title:"Erro ao fazer login",description:h,variant:"destructive"})}},logout:async()=>{try{await c4(Ou),et({title:"Logout bem sucedido",description:"Você foi desconectado com sucesso!"})}catch(u){console.error("Error signing out",u),et({title:"Erro ao fazer logout",description:"Ocorreu um erro ao tentar fazer logout.",variant:"destructive"})}},updateUserProfile:async(u,h)=>{if(e)try{let f=e.photoURL;if(h){const v=$9(Gb,`profile_pictures/${e.uid}`);await F9(v,h),f=await U9(v)}await i4(e,{displayName:u,photoURL:f});const g=Nd(Qo,"users",e.uid);await nx(g,{displayName:u,photoURL:f},{merge:!0}),et({title:"Perfil atualizado",description:"Seu perfil foi atualizado com sucesso!"})}catch(f){console.error("Error updating profile",f),et({title:"Erro ao atualizar perfil",description:"Ocorreu um erro ao tentar atualizar seu perfil.",variant:"destructive"})}}};return d.jsx(Qb.Provider,{value:l,children:t})}const wy=th("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ae=m.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Or:"button";return d.jsx(o,{className:ne(wy({variant:e,size:n,className:t})),ref:i,...s})});Ae.displayName="Button";var _y="Avatar",[Q9,Xz]=$r(_y),[Y9,Yb]=Q9(_y),Xb=m.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=m.useState("idle");return d.jsx(Y9,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(we.span,{...r,ref:e})})});Xb.displayName=_y;var Jb="AvatarImage",Zb=m.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=Yb(Jb,n),a=X9(r,i.referrerPolicy),l=Ct(u=>{s(u),o.onImageLoadingStatusChange(u)});return st(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?d.jsx(we.img,{...i,ref:e,src:r}):null});Zb.displayName=Jb;var eR="AvatarFallback",tR=m.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=Yb(eR,n),[o,a]=m.useState(r===void 0);return m.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?d.jsx(we.span,{...s,ref:e}):null});tR.displayName=eR;function X9(t,e){const[n,r]=m.useState("idle");return st(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=a=>()=>{s&&r(a)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var nR=Xb,rR=Zb,sR=tR;const Ey=m.forwardRef(({className:t,...e},n)=>d.jsx(nR,{ref:n,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ey.displayName=nR.displayName;const xy=m.forwardRef(({className:t,...e},n)=>d.jsx(rR,{ref:n,className:ne("aspect-square h-full w-full",t),...e}));xy.displayName=rR.displayName;const Ty=m.forwardRef(({className:t,...e},n)=>d.jsx(sR,{ref:n,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ty.displayName=sR.displayName;var Xf=0;function Sy(){m.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??lx()),document.body.insertAdjacentElement("beforeend",t[1]??lx()),Xf++,()=>{Xf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xf--}},[])}function lx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jf="focusScope.autoFocusOnMount",Zf="focusScope.autoFocusOnUnmount",cx={bubbles:!1,cancelable:!0},J9="FocusScope",Oh=m.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=m.useState(null),u=Ct(s),h=Ct(i),f=m.useRef(null),g=Oe(e,y=>l(y)),v=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(S){if(v.paused||!a)return;const P=S.target;a.contains(P)?f.current=P:Zr(f.current,{select:!0})},x=function(S){if(v.paused||!a)return;const P=S.relatedTarget;P!==null&&(a.contains(P)||Zr(f.current,{select:!0}))},w=function(S){if(document.activeElement===document.body)for(const D of S)D.removedNodes.length>0&&Zr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",x);const E=new MutationObserver(w);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",x),E.disconnect()}}},[r,a,v.paused]),m.useEffect(()=>{if(a){dx.add(v);const y=document.activeElement;if(!a.contains(y)){const w=new CustomEvent(Jf,cx);a.addEventListener(Jf,u),a.dispatchEvent(w),w.defaultPrevented||(Z9(sB(iR(a)),{select:!0}),document.activeElement===y&&Zr(a))}return()=>{a.removeEventListener(Jf,u),setTimeout(()=>{const w=new CustomEvent(Zf,cx);a.addEventListener(Zf,h),a.dispatchEvent(w),w.defaultPrevented||Zr(y??document.body,{select:!0}),a.removeEventListener(Zf,h),dx.remove(v)},0)}}},[a,u,h,v]);const T=m.useCallback(y=>{if(!n&&!r||v.paused)return;const x=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(x&&w){const E=y.currentTarget,[S,P]=eB(E);S&&P?!y.shiftKey&&w===P?(y.preventDefault(),n&&Zr(S,{select:!0})):y.shiftKey&&w===S&&(y.preventDefault(),n&&Zr(P,{select:!0})):w===E&&y.preventDefault()}},[n,r,v.paused]);return d.jsx(we.div,{tabIndex:-1,...o,ref:g,onKeyDown:T})});Oh.displayName=J9;function Z9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Zr(r,{select:e}),document.activeElement!==n)return}function eB(t){const e=iR(t),n=ux(e,t),r=ux(e.reverse(),t);return[n,r]}function iR(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ux(t,e){for(const n of t)if(!tB(n,{upTo:e}))return n}function tB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function nB(t){return t instanceof HTMLInputElement&&"select"in t}function Zr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&nB(t)&&e&&t.select()}}var dx=rB();function rB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=hx(t,e),t.unshift(e)},remove(e){var n;t=hx(t,e),(n=t[0])==null||n.resume()}}}function hx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function sB(t){return t.filter(e=>e.tagName!=="A")}var iB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qi=new WeakMap,iu=new WeakMap,ou={},ep=0,oR=function(t){return t&&(t.host||oR(t.parentNode))},oB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=oR(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aB=function(t,e,n,r){var s=oB(e,Array.isArray(t)?t:[t]);ou[n]||(ou[n]=new WeakMap);var i=ou[n],o=[],a=new Set,l=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))h(g);else try{var v=g.getAttribute(r),T=v!==null&&v!=="false",y=(Qi.get(g)||0)+1,x=(i.get(g)||0)+1;Qi.set(g,y),i.set(g,x),o.push(g),y===1&&T&&iu.set(g,!0),x===1&&g.setAttribute(n,"true"),T||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return h(e),a.clear(),ep++,function(){o.forEach(function(f){var g=Qi.get(f)-1,v=i.get(f)-1;Qi.set(f,g),i.set(f,v),g||(iu.has(f)||f.removeAttribute(r),iu.delete(f)),v||f.removeAttribute(n)}),ep--,ep||(Qi=new WeakMap,Qi=new WeakMap,iu=new WeakMap,ou={})}},Cy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=iB(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),aB(r,s,n,"aria-hidden")):function(){return null}},Du="right-scroll-bar-position",Lu="width-before-scroll-bar",lB="with-scroll-bars-hidden",cB="--removed-body-scroll-bar-size";function tp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function uB(t,e){var n=m.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var dB=typeof window<"u"?m.useLayoutEffect:m.useEffect,fx=new WeakMap;function hB(t,e){var n=uB(null,function(r){return t.forEach(function(s){return tp(s,r)})});return dB(function(){var r=fx.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||tp(a,null)}),i.forEach(function(a){s.has(a)||tp(a,o)})}fx.set(n,t)},[t]),n}function fB(t){return t}function pB(t,e){e===void 0&&(e=fB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return s}function mB(t){t===void 0&&(t={});var e=pB(null);return e.options=Qn({async:!0,ssr:!1},t),e}var aR=function(t){var e=t.sideCar,n=Xl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Qn({},n))};aR.isSideCarExport=!0;function gB(t,e){return t.useMedium(e),aR}var lR=mB(),np=function(){},Dh=m.forwardRef(function(t,e){var n=m.useRef(null),r=m.useState({onScrollCapture:np,onWheelCapture:np,onTouchMoveCapture:np}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,f=t.shards,g=t.sideCar,v=t.noIsolation,T=t.inert,y=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,E=t.gapMode,S=Xl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,D=hB([n,e]),L=Qn(Qn({},S),s);return m.createElement(m.Fragment,null,h&&m.createElement(P,{sideCar:lR,removeScrollBar:u,shards:f,noIsolation:v,inert:T,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:E}),o?m.cloneElement(m.Children.only(a),Qn(Qn({},L),{ref:D})):m.createElement(w,Qn({},L,{className:l,ref:D}),a))});Dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dh.classNames={fullWidth:Lu,zeroRight:Du};var vB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vB();return e&&t.setAttribute("nonce",e),t}function wB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function _B(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var EB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=yB())&&(wB(e,n),_B(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},xB=function(){var t=EB();return function(e,n){m.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cR=function(){var t=xB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},TB={left:0,top:0,right:0,gap:0},rp=function(t){return parseInt(t||"",10)||0},SB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[rp(n),rp(r),rp(s)]},CB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TB;var e=SB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},IB=cR(),bo="data-scroll-locked",bB=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(bo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Du,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Du," .").concat(Du,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lu," .").concat(Lu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bo,`] {
    `).concat(cB,": ").concat(a,`px;
  }
`)},px=function(){var t=parseInt(document.body.getAttribute(bo)||"0",10);return isFinite(t)?t:0},RB=function(){m.useEffect(function(){return document.body.setAttribute(bo,(px()+1).toString()),function(){var t=px()-1;t<=0?document.body.removeAttribute(bo):document.body.setAttribute(bo,t.toString())}},[])},AB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;RB();var i=m.useMemo(function(){return CB(s)},[s]);return m.createElement(IB,{styles:bB(i,!e,s,n?"":"!important")})},Bm=!1;if(typeof window<"u")try{var au=Object.defineProperty({},"passive",{get:function(){return Bm=!0,!0}});window.addEventListener("test",au,au),window.removeEventListener("test",au,au)}catch{Bm=!1}var Yi=Bm?{passive:!1}:!1,PB=function(t){return t.tagName==="TEXTAREA"},uR=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!PB(t)&&n[e]==="visible")},NB=function(t){return uR(t,"overflowY")},kB=function(t){return uR(t,"overflowX")},mx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=dR(t,r);if(s){var i=hR(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},DB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},dR=function(t,e){return t==="v"?NB(e):kB(e)},hR=function(t,e){return t==="v"?OB(e):DB(e)},LB=function(t,e){return t==="h"&&e==="rtl"?-1:1},MB=function(t,e,n,r,s){var i=LB(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),u=!1,h=o>0,f=0,g=0;do{var v=hR(t,a),T=v[0],y=v[1],x=v[2],w=y-x-i*T;(T||w)&&dR(t,a)&&(f+=w,g+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(g)<1||!s))&&(u=!0),u},lu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},gx=function(t){return[t.deltaX,t.deltaY]},vx=function(t){return t&&"current"in t?t.current:t},jB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},VB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FB=0,Xi=[];function UB(t){var e=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(FB++)[0],i=m.useState(cR)[0],o=m.useRef(t);m.useEffect(function(){o.current=t},[t]),m.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=_F([t.lockRef.current],(t.shards||[]).map(vx),!0).filter(Boolean);return y.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=m.useCallback(function(y,x){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var w=lu(y),E=n.current,S="deltaX"in y?y.deltaX:E[0]-w[0],P="deltaY"in y?y.deltaY:E[1]-w[1],D,L=y.target,I=Math.abs(S)>Math.abs(P)?"h":"v";if("touches"in y&&I==="h"&&L.type==="range")return!1;var C=mx(I,L);if(!C)return!0;if(C?D=I:(D=I==="v"?"h":"v",C=mx(I,L)),!C)return!1;if(!r.current&&"changedTouches"in y&&(S||P)&&(r.current=D),!D)return!0;var A=r.current||D;return MB(A,x,y,A==="h"?S:P,!0)},[]),l=m.useCallback(function(y){var x=y;if(!(!Xi.length||Xi[Xi.length-1]!==i)){var w="deltaY"in x?gx(x):lu(x),E=e.current.filter(function(D){return D.name===x.type&&(D.target===x.target||x.target===D.shadowParent)&&jB(D.delta,w)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var S=(o.current.shards||[]).map(vx).filter(Boolean).filter(function(D){return D.contains(x.target)}),P=S.length>0?a(x,S[0]):!o.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),u=m.useCallback(function(y,x,w,E){var S={name:y,delta:x,target:w,should:E,shadowParent:$B(w)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(P){return P!==S})},1)},[]),h=m.useCallback(function(y){n.current=lu(y),r.current=void 0},[]),f=m.useCallback(function(y){u(y.type,gx(y),y.target,a(y,t.lockRef.current))},[]),g=m.useCallback(function(y){u(y.type,lu(y),y.target,a(y,t.lockRef.current))},[]);m.useEffect(function(){return Xi.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Yi),document.addEventListener("touchmove",l,Yi),document.addEventListener("touchstart",h,Yi),function(){Xi=Xi.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Yi),document.removeEventListener("touchmove",l,Yi),document.removeEventListener("touchstart",h,Yi)}},[]);var v=t.removeScrollBar,T=t.inert;return m.createElement(m.Fragment,null,T?m.createElement(i,{styles:VB(s)}):null,v?m.createElement(AB,{gapMode:t.gapMode}):null)}function $B(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const BB=gB(lR,UB);var Lh=m.forwardRef(function(t,e){return m.createElement(Dh,Qn({},t,{ref:e,sideCar:BB}))});Lh.classNames=Dh.classNames;var Iy="Popover",[fR,Jz]=$r(Iy,[ia]),cc=ia(),[zB,Ws]=fR(Iy),pR=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=cc(e),l=m.useRef(null),[u,h]=m.useState(!1),[f=!1,g]=xi({prop:r,defaultProp:s,onChange:i});return d.jsx(KS,{...a,children:d.jsx(zB,{scope:e,contentId:br(),triggerRef:l,open:f,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(v=>!v),[g]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>h(!0),[]),onCustomAnchorRemove:m.useCallback(()=>h(!1),[]),modal:o,children:n})})};pR.displayName=Iy;var mR="PopoverAnchor",WB=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ws(mR,n),i=cc(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return m.useEffect(()=>(o(),()=>a()),[o,a]),d.jsx(ih,{...i,...r,ref:e})});WB.displayName=mR;var gR="PopoverTrigger",vR=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ws(gR,n),i=cc(n),o=Oe(e,s.triggerRef),a=d.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":xR(s.open),...r,ref:o,onClick:ue(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:d.jsx(ih,{asChild:!0,...i,children:a})});vR.displayName=gR;var by="PopoverPortal",[HB,qB]=fR(by,{forceMount:void 0}),yR=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Ws(by,e);return d.jsx(HB,{scope:e,forceMount:n,children:d.jsx(Us,{present:n||i.open,children:d.jsx(oh,{asChild:!0,container:s,children:r})})})};yR.displayName=by;var Yo="PopoverContent",wR=m.forwardRef((t,e)=>{const n=qB(Yo,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Ws(Yo,t.__scopePopover);return d.jsx(Us,{present:r||i.open,children:i.modal?d.jsx(KB,{...s,ref:e}):d.jsx(GB,{...s,ref:e})})});wR.displayName=Yo;var KB=m.forwardRef((t,e)=>{const n=Ws(Yo,t.__scopePopover),r=m.useRef(null),s=Oe(e,r),i=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return Cy(o)},[]),d.jsx(Lh,{as:Or,allowPinchZoom:!0,children:d.jsx(_R,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ue(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),GB=m.forwardRef((t,e)=>{const n=Ws(Yo,t.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(_R,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),_R=m.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:h,...f}=t,g=Ws(Yo,n),v=cc(n);return Sy(),d.jsx(Oh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Kl,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:d.jsx(ov,{"data-state":xR(g.open),role:"dialog",id:g.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ER="PopoverClose",QB=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ws(ER,n);return d.jsx(we.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>s.onOpenChange(!1))})});QB.displayName=ER;var YB="PopoverArrow",XB=m.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=cc(n);return d.jsx(av,{...s,...r,ref:e})});XB.displayName=YB;function xR(t){return t?"open":"closed"}var JB=pR,ZB=vR,e6=yR,TR=wR;const SR=JB,CR=ZB,Ry=m.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>d.jsx(e6,{children:d.jsx(TR,{ref:s,align:e,sideOffset:n,className:ne("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ry.displayName=TR.displayName;const t6=()=>{var o;const{currentUser:t,logout:e}=fa(),n=Li(),{toast:r}=O1(),s=async()=>{try{await e()}catch{r({title:"Erro ao fazer logout",description:"Ocorreu um erro ao tentar sair.",variant:"destructive"})}},i=a=>n.pathname===a?"bg-secondary text-white":"";return d.jsx("header",{className:"bg-card border-b border-border",children:d.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[d.jsxs(qn,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary",children:[d.jsx(Es,{size:28}),d.jsx("span",{children:"Organizador de Leituras"})]}),t?d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("nav",{className:"hidden md:flex items-center gap-2",children:[d.jsx(qn,{to:"/",className:`px-3 py-2 rounded-md hover:bg-secondary transition-colors ${i("/")}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(uO,{size:18}),d.jsx("span",{children:"Início"})]})}),d.jsx(qn,{to:"/add-book",className:`px-3 py-2 rounded-md hover:bg-secondary transition-colors ${i("/add-book")}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ti,{size:18}),d.jsx("span",{children:"Adicionar Livro"})]})}),d.jsx(qn,{to:"/collection",className:`px-3 py-2 rounded-md hover:bg-secondary transition-colors ${i("/collection")}`,children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Es,{size:18}),d.jsx("span",{children:"Minha Coleção"})]})})]}),d.jsxs(SR,{children:[d.jsx(CR,{asChild:!0,children:d.jsx(Ae,{variant:"ghost",className:"rounded-full p-0 h-10 w-10",children:d.jsxs(Ey,{children:[d.jsx(xy,{src:t.photoURL||void 0,alt:t.displayName||"Usuário"}),d.jsx(Ty,{children:(((o=t.displayName)==null?void 0:o.charAt(0))||"U").toUpperCase()})]})})}),d.jsx(Ry,{className:"w-56 mr-4",align:"end",children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[d.jsx("p",{className:"text-sm font-medium",children:t.displayName||"Usuário"}),d.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.email})]}),d.jsx(qn,{to:"/profile",children:d.jsxs(Ae,{variant:"outline",className:"w-full justify-start",children:[d.jsx(pO,{className:"mr-2 h-4 w-4"}),d.jsx("span",{children:"Perfil"})]})}),d.jsx(Ae,{variant:"outline",className:"w-full justify-start",onClick:s,children:d.jsx("span",{children:"Sair"})})]})})]})]}):d.jsx(Ae,{variant:"default",asChild:!0,children:d.jsx(qn,{to:"/login",children:"Entrar"})})]})})};async function Ay(t){try{const e=E$(a$(Qo,"books"),x$("userId","==",t));return(await R$(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error fetching books:",e),e}}async function zm(t,e){try{const n=Object.entries(e).reduce((s,[i,o])=>(o!==void 0&&(s[i]=o),s),{}),r=Nd(Qo,"books",t);await A$(r,n)}catch(n){throw console.error("Error updating book:",n),n}}async function IR(t){try{const e=Nd(Qo,"books",t);await P$(e)}catch(e){throw console.error("Error deleting book:",e),e}}function yx(t,[e,n]){return Math.min(n,Math.max(e,t))}function n6(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:g,children:v,...T}=f,y=(g==null?void 0:g[t][l])||a,x=m.useMemo(()=>T,Object.values(T));return d.jsx(y.Provider,{value:x,children:v})}function h(f,g){const v=(g==null?void 0:g[t][l])||a,T=m.useContext(v);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,r6(s,...e)]}function r6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function bR(t){const e=t+"CollectionProvider",[n,r]=n6(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:T,children:y}=v,x=H.useRef(null),w=H.useRef(new Map).current;return d.jsx(s,{scope:T,itemMap:w,collectionRef:x,children:y})};o.displayName=e;const a=t+"CollectionSlot",l=H.forwardRef((v,T)=>{const{scope:y,children:x}=v,w=i(a,y),E=Oe(T,w.collectionRef);return d.jsx(Or,{ref:E,children:x})});l.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",f=H.forwardRef((v,T)=>{const{scope:y,children:x,...w}=v,E=H.useRef(null),S=Oe(T,E),P=i(u,y);return H.useEffect(()=>(P.itemMap.set(E,{ref:E,...w}),()=>void P.itemMap.delete(E))),d.jsx(Or,{[h]:"",ref:S,children:x})});f.displayName=u;function g(v){const T=i(t+"CollectionConsumer",v);return H.useCallback(()=>{const x=T.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(T.itemMap.values()).sort((P,D)=>w.indexOf(P.ref.current)-w.indexOf(D.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},g,r]}var s6=m.createContext(void 0);function Py(t){const e=m.useContext(s6);return t||e||"ltr"}function i6(t){const e=m.useRef({value:t,previous:t});return m.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var o6=[" ","Enter","ArrowUp","ArrowDown"],a6=[" ","Enter"],uc="Select",[Mh,jh,l6]=bR(uc),[pa,Zz]=$r(uc,[l6,ia]),Vh=ia(),[c6,Hs]=pa(uc),[u6,d6]=pa(uc),RR=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:u,name:h,autoComplete:f,disabled:g,required:v,form:T}=t,y=Vh(e),[x,w]=m.useState(null),[E,S]=m.useState(null),[P,D]=m.useState(!1),L=Py(u),[I=!1,C]=xi({prop:r,defaultProp:s,onChange:i}),[A,N]=xi({prop:o,defaultProp:a,onChange:l}),k=m.useRef(null),O=x?T||!!x.closest("form"):!0,[b,B]=m.useState(new Set),re=Array.from(b).map(Q=>Q.props.value).join(";");return d.jsx(KS,{...y,children:d.jsxs(c6,{required:v,scope:e,trigger:x,onTriggerChange:w,valueNode:E,onValueNodeChange:S,valueNodeHasChildren:P,onValueNodeHasChildrenChange:D,contentId:br(),value:A,onValueChange:N,open:I,onOpenChange:C,dir:L,triggerPointerDownPosRef:k,disabled:g,children:[d.jsx(Mh.Provider,{scope:e,children:d.jsx(u6,{scope:t.__scopeSelect,onNativeOptionAdd:m.useCallback(Q=>{B(ee=>new Set(ee).add(Q))},[]),onNativeOptionRemove:m.useCallback(Q=>{B(ee=>{const V=new Set(ee);return V.delete(Q),V})},[]),children:n})}),O?d.jsxs(ZR,{"aria-hidden":!0,required:v,tabIndex:-1,name:h,autoComplete:f,value:A,onChange:Q=>N(Q.target.value),disabled:g,form:T,children:[A===void 0?d.jsx("option",{value:""}):null,Array.from(b)]},re):null]})})};RR.displayName=uc;var AR="SelectTrigger",PR=m.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Vh(n),o=Hs(AR,n),a=o.disabled||r,l=Oe(e,o.onTriggerChange),u=jh(n),h=m.useRef("touch"),[f,g,v]=eA(y=>{const x=u().filter(S=>!S.disabled),w=x.find(S=>S.value===o.value),E=tA(x,y,w);E!==void 0&&o.onValueChange(E.value)}),T=y=>{a||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return d.jsx(ih,{asChild:!0,...i,children:d.jsx(we.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":JR(o.value)?"":void 0,...s,ref:l,onClick:ue(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&T(y)}),onPointerDown:ue(s.onPointerDown,y=>{h.current=y.pointerType;const x=y.target;x.hasPointerCapture(y.pointerId)&&x.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(T(y),y.preventDefault())}),onKeyDown:ue(s.onKeyDown,y=>{const x=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(x&&y.key===" ")&&o6.includes(y.key)&&(T(),y.preventDefault())})})})});PR.displayName=AR;var NR="SelectValue",kR=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Hs(NR,n),{onValueNodeHasChildrenChange:u}=l,h=i!==void 0,f=Oe(e,l.onValueNodeChange);return st(()=>{u(h)},[u,h]),d.jsx(we.span,{...a,ref:f,style:{pointerEvents:"none"},children:JR(l.value)?d.jsx(d.Fragment,{children:o}):i})});kR.displayName=NR;var h6="SelectIcon",OR=m.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return d.jsx(we.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});OR.displayName=h6;var f6="SelectPortal",DR=t=>d.jsx(oh,{asChild:!0,...t});DR.displayName=f6;var Ni="SelectContent",LR=m.forwardRef((t,e)=>{const n=Hs(Ni,t.__scopeSelect),[r,s]=m.useState();if(st(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Fs.createPortal(d.jsx(MR,{scope:t.__scopeSelect,children:d.jsx(Mh.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),i):null}return d.jsx(jR,{...t,ref:e})});LR.displayName=Ni;var An=10,[MR,qs]=pa(Ni),p6="SelectContentImpl",jR=m.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:T,hideWhenDetached:y,avoidCollisions:x,...w}=t,E=Hs(Ni,n),[S,P]=m.useState(null),[D,L]=m.useState(null),I=Oe(e,W=>P(W)),[C,A]=m.useState(null),[N,k]=m.useState(null),O=jh(n),[b,B]=m.useState(!1),re=m.useRef(!1);m.useEffect(()=>{if(S)return Cy(S)},[S]),Sy();const Q=m.useCallback(W=>{const[ge,...xe]=O().map(ye=>ye.ref.current),[fe]=xe.slice(-1),ae=document.activeElement;for(const ye of W)if(ye===ae||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===ge&&D&&(D.scrollTop=0),ye===fe&&D&&(D.scrollTop=D.scrollHeight),ye==null||ye.focus(),document.activeElement!==ae))return},[O,D]),ee=m.useCallback(()=>Q([C,S]),[Q,C,S]);m.useEffect(()=>{b&&ee()},[b,ee]);const{onOpenChange:V,triggerPointerDownPosRef:U}=E;m.useEffect(()=>{if(S){let W={x:0,y:0};const ge=fe=>{var ae,ye;W={x:Math.abs(Math.round(fe.pageX)-(((ae=U.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((ye=U.current)==null?void 0:ye.y)??0))}},xe=fe=>{W.x<=10&&W.y<=10?fe.preventDefault():S.contains(fe.target)||V(!1),document.removeEventListener("pointermove",ge),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",xe,{capture:!0})}}},[S,V,U]),m.useEffect(()=>{const W=()=>V(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[V]);const[G,oe]=eA(W=>{const ge=O().filter(ae=>!ae.disabled),xe=ge.find(ae=>ae.ref.current===document.activeElement),fe=tA(ge,W,xe);fe&&setTimeout(()=>fe.ref.current.focus())}),Y=m.useCallback((W,ge,xe)=>{const fe=!re.current&&!xe;(E.value!==void 0&&E.value===ge||fe)&&(A(W),fe&&(re.current=!0))},[E.value]),te=m.useCallback(()=>S==null?void 0:S.focus(),[S]),le=m.useCallback((W,ge,xe)=>{const fe=!re.current&&!xe;(E.value!==void 0&&E.value===ge||fe)&&k(W)},[E.value]),F=r==="popper"?Wm:VR,ie=F===Wm?{side:a,sideOffset:l,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:T,hideWhenDetached:y,avoidCollisions:x}:{};return d.jsx(MR,{scope:n,content:S,viewport:D,onViewportChange:L,itemRefCallback:Y,selectedItem:C,onItemLeave:te,itemTextRefCallback:le,focusSelectedItem:ee,selectedItemText:N,position:r,isPositioned:b,searchRef:G,children:d.jsx(Lh,{as:Or,allowPinchZoom:!0,children:d.jsx(Oh,{asChild:!0,trapped:E.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:ue(s,W=>{var ge;(ge=E.trigger)==null||ge.focus({preventScroll:!0}),W.preventDefault()}),children:d.jsx(Kl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:d.jsx(F,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:W=>W.preventDefault(),...w,...ie,onPlaced:()=>B(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ue(w.onKeyDown,W=>{const ge=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!ge&&W.key.length===1&&oe(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let fe=O().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(W.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ae=W.target,ye=fe.indexOf(ae);fe=fe.slice(ye+1)}setTimeout(()=>Q(fe)),W.preventDefault()}})})})})})})});jR.displayName=p6;var m6="SelectItemAlignedPosition",VR=m.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Hs(Ni,n),o=qs(Ni,n),[a,l]=m.useState(null),[u,h]=m.useState(null),f=Oe(e,I=>h(I)),g=jh(n),v=m.useRef(!1),T=m.useRef(!0),{viewport:y,selectedItem:x,selectedItemText:w,focusSelectedItem:E}=o,S=m.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&x&&w){const I=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),N=w.getBoundingClientRect();if(i.dir!=="rtl"){const ae=N.left-C.left,ye=A.left-ae,it=I.left-ye,Rt=I.width+it,Tn=Math.max(Rt,C.width),Sn=window.innerWidth-An,ur=yx(ye,[An,Math.max(An,Sn-Tn)]);a.style.minWidth=Rt+"px",a.style.left=ur+"px"}else{const ae=C.right-N.right,ye=window.innerWidth-A.right-ae,it=window.innerWidth-I.right-ye,Rt=I.width+it,Tn=Math.max(Rt,C.width),Sn=window.innerWidth-An,ur=yx(ye,[An,Math.max(An,Sn-Tn)]);a.style.minWidth=Rt+"px",a.style.right=ur+"px"}const k=g(),O=window.innerHeight-An*2,b=y.scrollHeight,B=window.getComputedStyle(u),re=parseInt(B.borderTopWidth,10),Q=parseInt(B.paddingTop,10),ee=parseInt(B.borderBottomWidth,10),V=parseInt(B.paddingBottom,10),U=re+Q+b+V+ee,G=Math.min(x.offsetHeight*5,U),oe=window.getComputedStyle(y),Y=parseInt(oe.paddingTop,10),te=parseInt(oe.paddingBottom,10),le=I.top+I.height/2-An,F=O-le,ie=x.offsetHeight/2,W=x.offsetTop+ie,ge=re+Q+W,xe=U-ge;if(ge<=le){const ae=k.length>0&&x===k[k.length-1].ref.current;a.style.bottom="0px";const ye=u.clientHeight-y.offsetTop-y.offsetHeight,it=Math.max(F,ie+(ae?te:0)+ye+ee),Rt=ge+it;a.style.height=Rt+"px"}else{const ae=k.length>0&&x===k[0].ref.current;a.style.top="0px";const it=Math.max(le,re+y.offsetTop+(ae?Y:0)+ie)+xe;a.style.height=it+"px",y.scrollTop=ge-le+y.offsetTop}a.style.margin=`${An}px 0`,a.style.minHeight=G+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>v.current=!0)}},[g,i.trigger,i.valueNode,a,u,y,x,w,i.dir,r]);st(()=>S(),[S]);const[P,D]=m.useState();st(()=>{u&&D(window.getComputedStyle(u).zIndex)},[u]);const L=m.useCallback(I=>{I&&T.current===!0&&(S(),E==null||E(),T.current=!1)},[S,E]);return d.jsx(v6,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:L,children:d.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:d.jsx(we.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});VR.displayName=m6;var g6="SelectPopperPosition",Wm=m.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=An,...i}=t,o=Vh(n);return d.jsx(ov,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wm.displayName=g6;var[v6,Ny]=pa(Ni,{}),Hm="SelectViewport",FR=m.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=qs(Hm,n),o=Ny(Hm,n),a=Oe(e,i.onViewportChange),l=m.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Mh.Slot,{scope:n,children:d.jsx(we.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&f){const v=Math.abs(l.current-h.scrollTop);if(v>0){const T=window.innerHeight-An*2,y=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(y,x);if(w<T){const E=w+v,S=Math.min(T,E),P=E-S;f.style.height=S+"px",f.style.bottom==="0px"&&(h.scrollTop=P>0?P:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});FR.displayName=Hm;var UR="SelectGroup",[y6,w6]=pa(UR),_6=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=br();return d.jsx(y6,{scope:n,id:s,children:d.jsx(we.div,{role:"group","aria-labelledby":s,...r,ref:e})})});_6.displayName=UR;var $R="SelectLabel",BR=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=w6($R,n);return d.jsx(we.div,{id:s.id,...r,ref:e})});BR.displayName=$R;var Od="SelectItem",[E6,zR]=pa(Od),WR=m.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Hs(Od,n),l=qs(Od,n),u=a.value===r,[h,f]=m.useState(i??""),[g,v]=m.useState(!1),T=Oe(e,E=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,E,r,s)}),y=br(),x=m.useRef("touch"),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(E6,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(E=>{f(S=>S||((E==null?void 0:E.textContent)??"").trim())},[]),children:d.jsx(Mh.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:d.jsx(we.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:ue(o.onFocus,()=>v(!0)),onBlur:ue(o.onBlur,()=>v(!1)),onClick:ue(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:ue(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:ue(o.onPointerDown,E=>{x.current=E.pointerType}),onPointerMove:ue(o.onPointerMove,E=>{var S;x.current=E.pointerType,s?(S=l.onItemLeave)==null||S.call(l):x.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,E=>{var S;E.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:ue(o.onKeyDown,E=>{var P;((P=l.searchRef)==null?void 0:P.current)!==""&&E.key===" "||(a6.includes(E.key)&&w(),E.key===" "&&E.preventDefault())})})})})});WR.displayName=Od;var Ka="SelectItemText",HR=m.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Hs(Ka,n),a=qs(Ka,n),l=zR(Ka,n),u=d6(Ka,n),[h,f]=m.useState(null),g=Oe(e,w=>f(w),l.onItemTextChange,w=>{var E;return(E=a.itemTextRefCallback)==null?void 0:E.call(a,w,l.value,l.disabled)}),v=h==null?void 0:h.textContent,T=m.useMemo(()=>d.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:x}=u;return st(()=>(y(T),()=>x(T)),[y,x,T]),d.jsxs(d.Fragment,{children:[d.jsx(we.span,{id:l.textId,...i,ref:g}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fs.createPortal(i.children,o.valueNode):null]})});HR.displayName=Ka;var qR="SelectItemIndicator",KR=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return zR(qR,n).isSelected?d.jsx(we.span,{"aria-hidden":!0,...r,ref:e}):null});KR.displayName=qR;var qm="SelectScrollUpButton",GR=m.forwardRef((t,e)=>{const n=qs(qm,t.__scopeSelect),r=Ny(qm,t.__scopeSelect),[s,i]=m.useState(!1),o=Oe(e,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;i(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(YR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});GR.displayName=qm;var Km="SelectScrollDownButton",QR=m.forwardRef((t,e)=>{const n=qs(Km,t.__scopeSelect),r=Ny(Km,t.__scopeSelect),[s,i]=m.useState(!1),o=Oe(e,r.onScrollButtonChange);return st(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<u;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?d.jsx(YR,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});QR.displayName=Km;var YR=m.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=qs("SelectScrollButton",n),o=m.useRef(null),a=jh(n),l=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),st(()=>{var h;const u=a().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),d.jsx(we.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ue(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{l()})})}),x6="SelectSeparator",XR=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return d.jsx(we.div,{"aria-hidden":!0,...r,ref:e})});XR.displayName=x6;var Gm="SelectArrow",T6=m.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Vh(n),i=Hs(Gm,n),o=qs(Gm,n);return i.open&&o.position==="popper"?d.jsx(av,{...s,...r,ref:e}):null});T6.displayName=Gm;function JR(t){return t===""||t===void 0}var ZR=m.forwardRef((t,e)=>{const{value:n,...r}=t,s=m.useRef(null),i=Oe(e,s),o=i6(n);return m.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const f=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(f)}},[o,n]),d.jsx(lv,{asChild:!0,children:d.jsx("select",{...r,ref:i,defaultValue:n})})});ZR.displayName="BubbleSelect";function eA(t){const e=Ct(t),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const a=n.current+o;e(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function tA(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=S6(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const l=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function S6(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var C6=RR,nA=PR,I6=kR,b6=OR,R6=DR,rA=LR,A6=FR,sA=BR,iA=WR,P6=HR,N6=KR,oA=GR,aA=QR,lA=XR;const Vl=C6,Fl=I6,Xo=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(nA,{ref:r,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,d.jsx(b6,{asChild:!0,children:d.jsx(dS,{className:"h-4 w-4 opacity-50"})})]}));Xo.displayName=nA.displayName;const cA=m.forwardRef(({className:t,...e},n)=>d.jsx(oA,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(fO,{className:"h-4 w-4"})}));cA.displayName=oA.displayName;const uA=m.forwardRef(({className:t,...e},n)=>d.jsx(aA,{ref:n,className:ne("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(dS,{className:"h-4 w-4"})}));uA.displayName=aA.displayName;const Jo=m.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>d.jsx(R6,{children:d.jsxs(rA,{ref:s,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[d.jsx(cA,{}),d.jsx(A6,{className:ne("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(uA,{})]})}));Jo.displayName=rA.displayName;const k6=m.forwardRef(({className:t,...e},n)=>d.jsx(sA,{ref:n,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));k6.displayName=sA.displayName;const ut=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(iA,{ref:r,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(N6,{children:d.jsx(hO,{className:"h-4 w-4"})})}),d.jsx(P6,{children:e})]}));ut.displayName=iA.displayName;const O6=m.forwardRef(({className:t,...e},n)=>d.jsx(lA,{ref:n,className:ne("-mx-1 my-1 h-px bg-muted",t),...e}));O6.displayName=lA.displayName;const Fh=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Fh.displayName="Card";const ky=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ne("flex flex-col space-y-1.5 p-6",t),...e}));ky.displayName="CardHeader";const Oy=m.forwardRef(({className:t,...e},n)=>d.jsx("h3",{ref:n,className:ne("text-2xl font-semibold leading-none tracking-tight",t),...e}));Oy.displayName="CardTitle";const Dy=m.forwardRef(({className:t,...e},n)=>d.jsx("p",{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));Dy.displayName="CardDescription";const Uh=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ne("p-6 pt-0",t),...e}));Uh.displayName="CardContent";const Ly=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:ne("flex items-center p-6 pt-0",t),...e}));Ly.displayName="CardFooter";const mi=({rating:t,size:e=24,editable:n=!1,onChange:r})=>{const s=Math.floor(t),i=t%1>=.5,o=()=>{const a=[];for(let l=0;l<5;l++)l<s?a.push(d.jsx(u_,{size:e,fill:"currentColor",className:n?"cursor-pointer":"",onClick:()=>n&&r&&r(l+1)},`star-${l}`)):l===s&&i?a.push(d.jsx(mO,{size:e,fill:"currentColor",className:n?"cursor-pointer":"",onClick:()=>n&&r&&r(l+.5)},`star-half-${l}`)):a.push(d.jsx(u_,{size:e,className:`${n?"cursor-pointer":""} text-gray-400`,onClick:()=>n&&r&&r(l+1)},`star-empty-${l}`));return a};return d.jsx("div",{className:"star-rating",children:o()})},D6=th("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function L6({className:t,variant:e,...n}){return d.jsx("div",{className:ne(D6({variant:e}),t),...n})}const Ul=({status:t})=>{const e=()=>{switch(t){case"Lido":return"bg-green-500 hover:bg-green-600";case"Não Lido":return"bg-amber-500 hover:bg-amber-600";case"Lendo":return"bg-blue-500 hover:bg-blue-600";default:return"bg-gray-500 hover:bg-gray-600"}};return d.jsx(L6,{className:`${e()} text-white`,children:t})},M6=()=>{const{currentUser:t,loading:e}=fa(),[n,r]=m.useState([]),[s,i]=m.useState([]),[o,a]=m.useState(!0),[l,u]=m.useState("Todos");m.useEffect(()=>{t?h():a(!1)},[t]),m.useEffect(()=>{n.length>0&&f()},[n,l]);const h=async()=>{if(t){a(!0);try{const g=await Ay(t.uid);r(g),i(g)}catch(g){console.error("Error loading books:",g),et({title:"Erro ao carregar livros",description:"Não foi possível carregar sua coleção de livros. Tente novamente.",variant:"destructive"})}finally{a(!1)}}},f=()=>{i(l==="Todos"?n:n.filter(g=>g.status===l))};return e?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Meu Organizador de Leituras"}),d.jsxs("p",{className:"text-muted-foreground",children:["Bem-vindo de volta, ",t.displayName||"Leitor"]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(Vl,{value:l,onValueChange:u,children:[d.jsx(Xo,{className:"w-40",children:d.jsx(Fl,{placeholder:"Status"})}),d.jsxs(Jo,{children:[d.jsx(ut,{value:"Todos",children:"Todos"}),d.jsx(ut,{value:"Lido",children:"Lido"}),d.jsx(ut,{value:"Não Lido",children:"Não Lido"}),d.jsx(ut,{value:"Lendo",children:"Lendo"})]})]}),d.jsx(Ae,{asChild:!0,children:d.jsxs(qn,{to:"/add-book",children:[d.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})})]})]}),o?d.jsx("div",{className:"flex justify-center items-center py-20",children:d.jsx(Qg,{className:"h-8 w-8 animate-spin text-purple-500"})}):s.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx(Es,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-medium mb-2",children:"Nenhum livro encontrado"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:n.length===0?"Sua coleção está vazia. Adicione seu primeiro livro!":"Nenhum livro corresponde ao filtro selecionado."}),n.length===0&&d.jsx(Ae,{asChild:!0,children:d.jsxs(qn,{to:"/add-book",children:[d.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})})]}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(g=>d.jsx(qn,{to:"/collection",children:d.jsx(Fh,{className:"h-full hover:border-primary transition-colors overflow-hidden",children:d.jsxs(Uh,{className:"p-0 flex",children:[d.jsx("div",{className:"h-auto w-24 overflow-hidden",children:d.jsx("img",{src:g.coverUrl||"/placeholder.svg",alt:g.title,className:"h-full w-full object-cover",style:{minHeight:"180px"},onError:v=>{v.target.src="/placeholder.svg"}})}),d.jsx("div",{className:"flex-1 p-4",children:d.jsxs("div",{className:"flex flex-col h-full justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium mb-1 line-clamp-2",children:g.title}),d.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:g.author})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{children:d.jsx(Ul,{status:g.status})}),g.rating!==void 0&&d.jsx("div",{className:"flex items-center",children:d.jsx(mi,{rating:g.rating,size:16})})]})]})})]})})},g.id))})]}):d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 to-purple-800",children:d.jsx("div",{className:"container mx-auto px-4 py-20",children:d.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[d.jsx(Es,{className:"mx-auto h-24 w-24 text-purple-300 mb-6"}),d.jsx("h1",{className:"text-5xl font-bold mb-6 text-white",children:"Organizador de Leituras"}),d.jsx("p",{className:"text-xl mb-8 text-purple-100",children:"Organize sua coleção de livros, acompanhe suas leituras e mantenha anotações em um só lugar."}),d.jsx("div",{className:"space-y-4",children:d.jsx(Ae,{size:"lg",className:"w-full sm:w-auto",asChild:!0,children:d.jsx(qn,{to:"/login",children:"Começar agora"})})}),d.jsxs("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"bg-card/80 backdrop-blur p-6 rounded-lg",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-4 mx-auto",children:d.jsx(Es,{className:"h-6 w-6 text-purple-300"})}),d.jsx("h3",{className:"text-xl font-medium mb-2",children:"Catalogação"}),d.jsx("p",{className:"text-muted-foreground",children:"Organize seus livros com informações completas e pesquisáveis."})]}),d.jsxs("div",{className:"bg-card/80 backdrop-blur p-6 rounded-lg",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-4 mx-auto",children:d.jsx("svg",{className:"h-6 w-6 text-purple-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),d.jsx("h3",{className:"text-xl font-medium mb-2",children:"Acompanhamento"}),d.jsx("p",{className:"text-muted-foreground",children:"Marque livros como lidos, não lidos ou em andamento."})]}),d.jsxs("div",{className:"bg-card/80 backdrop-blur p-6 rounded-lg",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-500/20 flex items-center justify-center mb-4 mx-auto",children:d.jsx("svg",{className:"h-6 w-6 text-purple-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),d.jsx("h3",{className:"text-xl font-medium mb-2",children:"Anotações"}),d.jsx("p",{className:"text-muted-foreground",children:"Mantenha suas impressões e pensamentos sobre cada livro."})]})]})]})})})},j6=()=>{const{currentUser:t,signInWithGoogle:e,loading:n}=fa();return n?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsx(fh,{to:"/"}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-purple-900 to-purple-800",children:d.jsxs(Fh,{className:"w-full max-w-md border-purple-300/20 bg-card/95 backdrop-blur",children:[d.jsxs(ky,{className:"text-center",children:[d.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-purple-600",children:d.jsx(Es,{size:30,className:"text-white"})}),d.jsx(Oy,{className:"text-2xl",children:"Bem-vindo ao Organizador de Leituras"}),d.jsx(Dy,{children:"Faça login para acessar sua biblioteca e organizar seus livros."})]}),d.jsx(Uh,{children:d.jsx("div",{className:"mt-4 flex flex-col gap-4",children:d.jsxs(Ae,{onClick:e,className:"w-full",variant:"outline",children:[d.jsxs("svg",{viewBox:"0 0 24 24",className:"h-5 w-5 mr-2","aria-hidden":"true",children:[d.jsx("path",{d:"M12.0003 4.75C13.7703 4.75 15.3553 5.36002 16.6053 6.54998L20.0303 3.125C17.9502 1.19 15.2353 0 12.0003 0C7.31028 0 3.25527 2.69 1.28027 6.60998L5.27028 9.70498C6.21525 6.86002 8.87028 4.75 12.0003 4.75Z",fill:"#EA4335"}),d.jsx("path",{d:"M23.49 12.275C23.49 11.49 23.415 10.73 23.3 10H12V14.51H18.47C18.18 15.99 17.34 17.25 16.08 18.1L19.945 21.1C22.2 19.01 23.49 15.92 23.49 12.275Z",fill:"#4285F4"}),d.jsx("path",{d:"M5.26498 14.2949C5.02498 13.5699 4.88501 12.7999 4.88501 11.9999C4.88501 11.1999 5.01998 10.4299 5.26498 9.7049L1.275 6.60986C0.46 8.22986 0 10.0599 0 11.9999C0 13.9399 0.46 15.7699 1.28 17.3899L5.26498 14.2949Z",fill:"#FBBC05"}),d.jsx("path",{d:"M12.0004 24C15.2404 24 17.9654 22.935 19.9454 21.095L16.0804 18.095C15.0054 18.82 13.6204 19.245 12.0004 19.245C8.8704 19.245 6.21537 17.135 5.2654 14.29L1.2754 17.385C3.2504 21.31 7.3104 24 12.0004 24Z",fill:"#34A853"})]}),"Continuar com Google"]})})}),d.jsx(Ly,{className:"flex flex-col text-center text-sm text-muted-foreground",children:d.jsx("p",{children:"Ao fazer login, você concorda com os termos de uso."})})]})})},Kn=m.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Kn.displayName="Input";var V6="Label",dA=m.forwardRef((t,e)=>d.jsx(we.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dA.displayName=V6;var hA=dA;const F6=th("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dd=m.forwardRef(({className:t,...e},n)=>d.jsx(hA,{ref:n,className:ne(F6(),t),...e}));Dd.displayName=hA.displayName;const U6=()=>{const{currentUser:t,updateUserProfile:e,loading:n}=fa(),[r,s]=m.useState((t==null?void 0:t.displayName)||""),[i,o]=m.useState(null),[a,l]=m.useState(null),[u,h]=m.useState(!1),f=m.useRef(null);if(n)return d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})});if(!t)return d.jsx(fh,{to:"/login"});const g=y=>{var w;const x=(w=y.target.files)==null?void 0:w[0];if(x){o(x);const E=new FileReader;E.onload=()=>{l(E.result)},E.readAsDataURL(x)}},v=()=>{var y;(y=f.current)==null||y.click()},T=async y=>{if(y.preventDefault(),!u){h(!0);try{await e(r,i),o(null)}finally{h(!1)}}};return d.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:d.jsxs(Fh,{children:[d.jsxs(ky,{children:[d.jsx(Oy,{children:"Seu Perfil"}),d.jsx(Dy,{children:"Atualize suas informações de perfil"})]}),d.jsxs("form",{onSubmit:T,children:[d.jsxs(Uh,{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[d.jsxs("div",{className:"relative cursor-pointer group",onClick:v,children:[d.jsxs(Ey,{className:"h-32 w-32 border-4 border-purple-300",children:[d.jsx(xy,{src:a||t.photoURL||void 0}),d.jsx(Ty,{className:"text-3xl",children:(r||t.displayName||"U").charAt(0).toUpperCase()})]}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(dO,{className:"text-white"})})]}),d.jsx("input",{type:"file",ref:f,accept:"image/*",onChange:g,className:"hidden"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Clique na imagem para mudar a foto"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Dd,{htmlFor:"nickname",children:"Nome de Exibição"}),d.jsx(Kn,{id:"nickname",value:r,onChange:y=>s(y.target.value),placeholder:"Como deseja ser chamado?"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Dd,{children:"E-mail"}),d.jsx(Kn,{value:t.email||"",disabled:!0,className:"bg-muted/50"}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"O e-mail não pode ser alterado"})]})]}),d.jsx(Ly,{children:d.jsx(Ae,{type:"submit",disabled:u,className:"w-full",children:u?"Salvando...":"Salvar Alterações"})})]})]})})},My=m.forwardRef(({className:t,...e},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:ne("w-full caption-bottom text-sm",t),...e})}));My.displayName="Table";const jy=m.forwardRef(({className:t,...e},n)=>d.jsx("thead",{ref:n,className:ne("[&_tr]:border-b",t),...e}));jy.displayName="TableHeader";const Vy=m.forwardRef(({className:t,...e},n)=>d.jsx("tbody",{ref:n,className:ne("[&_tr:last-child]:border-0",t),...e}));Vy.displayName="TableBody";const $6=m.forwardRef(({className:t,...e},n)=>d.jsx("tfoot",{ref:n,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));$6.displayName="TableFooter";const $l=m.forwardRef(({className:t,...e},n)=>d.jsx("tr",{ref:n,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));$l.displayName="TableRow";const sn=m.forwardRef(({className:t,...e},n)=>d.jsx("th",{ref:n,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));sn.displayName="TableHead";const on=m.forwardRef(({className:t,...e},n)=>d.jsx("td",{ref:n,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));on.displayName="TableCell";const B6=m.forwardRef(({className:t,...e},n)=>d.jsx("caption",{ref:n,className:ne("mt-4 text-sm text-muted-foreground",t),...e}));B6.displayName="TableCaption";var Fy="Dialog",[fA,pA]=$r(Fy),[z6,Bn]=fA(Fy),mA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=m.useRef(null),l=m.useRef(null),[u=!1,h]=xi({prop:r,defaultProp:s,onChange:i});return d.jsx(z6,{scope:e,triggerRef:a,contentRef:l,contentId:br(),titleId:br(),descriptionId:br(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};mA.displayName=Fy;var gA="DialogTrigger",vA=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bn(gA,n),i=Oe(e,s.triggerRef);return d.jsx(we.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":By(s.open),...r,ref:i,onClick:ue(t.onClick,s.onOpenToggle)})});vA.displayName=gA;var Uy="DialogPortal",[W6,yA]=fA(Uy,{forceMount:void 0}),wA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Bn(Uy,e);return d.jsx(W6,{scope:e,forceMount:n,children:m.Children.map(r,o=>d.jsx(Us,{present:n||i.open,children:d.jsx(oh,{asChild:!0,container:s,children:o})}))})};wA.displayName=Uy;var Ld="DialogOverlay",_A=m.forwardRef((t,e)=>{const n=yA(Ld,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Bn(Ld,t.__scopeDialog);return i.modal?d.jsx(Us,{present:r||i.open,children:d.jsx(H6,{...s,ref:e})}):null});_A.displayName=Ld;var H6=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bn(Ld,n);return d.jsx(Lh,{as:Or,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(we.div,{"data-state":By(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ki="DialogContent",EA=m.forwardRef((t,e)=>{const n=yA(ki,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Bn(ki,t.__scopeDialog);return d.jsx(Us,{present:r||i.open,children:i.modal?d.jsx(q6,{...s,ref:e}):d.jsx(K6,{...s,ref:e})})});EA.displayName=ki;var q6=m.forwardRef((t,e)=>{const n=Bn(ki,t.__scopeDialog),r=m.useRef(null),s=Oe(e,n.contentRef,r);return m.useEffect(()=>{const i=r.current;if(i)return Cy(i)},[]),d.jsx(xA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,i=>i.preventDefault())})}),K6=m.forwardRef((t,e)=>{const n=Bn(ki,t.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return d.jsx(xA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),xA=m.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Bn(ki,n),l=m.useRef(null),u=Oe(e,l);return Sy(),d.jsxs(d.Fragment,{children:[d.jsx(Oh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Kl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":By(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Q6,{titleId:a.titleId}),d.jsx(X6,{contentRef:l,descriptionId:a.descriptionId})]})]})}),$y="DialogTitle",TA=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bn($y,n);return d.jsx(we.h2,{id:s.titleId,...r,ref:e})});TA.displayName=$y;var SA="DialogDescription",CA=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bn(SA,n);return d.jsx(we.p,{id:s.descriptionId,...r,ref:e})});CA.displayName=SA;var IA="DialogClose",bA=m.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Bn(IA,n);return d.jsx(we.button,{type:"button",...r,ref:e,onClick:ue(t.onClick,()=>s.onOpenChange(!1))})});bA.displayName=IA;function By(t){return t?"open":"closed"}var RA="DialogTitleWarning",[G6,AA]=_2(RA,{contentName:ki,titleName:$y,docsSlug:"dialog"}),Q6=({titleId:t})=>{const e=AA(RA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Y6="DialogDescriptionWarning",X6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${AA(Y6).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},PA=mA,J6=vA,NA=wA,zy=_A,Wy=EA,Hy=TA,qy=CA,Ky=bA;const kA=PA,Z6=NA,OA=m.forwardRef(({className:t,...e},n)=>d.jsx(zy,{ref:n,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));OA.displayName=zy.displayName;const Gy=m.forwardRef(({className:t,children:e,...n},r)=>d.jsxs(Z6,{children:[d.jsx(OA,{}),d.jsxs(Wy,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,d.jsxs(Ky,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(mS,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gy.displayName=Wy.displayName;const Qy=({className:t,...e})=>d.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Qy.displayName="DialogHeader";const Yy=({className:t,...e})=>d.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Yy.displayName="DialogFooter";const Xy=m.forwardRef(({className:t,...e},n)=>d.jsx(Hy,{ref:n,className:ne("text-lg font-semibold leading-none tracking-tight",t),...e}));Xy.displayName=Hy.displayName;const Jy=m.forwardRef(({className:t,...e},n)=>d.jsx(qy,{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));Jy.displayName=qy.displayName;var DA="AlertDialog",[ez,e8]=$r(DA,[pA]),Br=pA(),LA=t=>{const{__scopeAlertDialog:e,...n}=t,r=Br(e);return d.jsx(PA,{...r,...n,modal:!0})};LA.displayName=DA;var tz="AlertDialogTrigger",nz=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Br(n);return d.jsx(J6,{...s,...r,ref:e})});nz.displayName=tz;var rz="AlertDialogPortal",MA=t=>{const{__scopeAlertDialog:e,...n}=t,r=Br(e);return d.jsx(NA,{...r,...n})};MA.displayName=rz;var sz="AlertDialogOverlay",jA=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Br(n);return d.jsx(zy,{...s,...r,ref:e})});jA.displayName=sz;var Ro="AlertDialogContent",[iz,oz]=ez(Ro),VA=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=Br(n),o=m.useRef(null),a=Oe(e,o),l=m.useRef(null);return d.jsx(G6,{contentName:Ro,titleName:FA,docsSlug:"alert-dialog",children:d.jsx(iz,{scope:n,cancelRef:l,children:d.jsxs(Wy,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ue(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[d.jsx(Xg,{children:r}),d.jsx(lz,{contentRef:o})]})})})});VA.displayName=Ro;var FA="AlertDialogTitle",UA=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Br(n);return d.jsx(Hy,{...s,...r,ref:e})});UA.displayName=FA;var $A="AlertDialogDescription",BA=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Br(n);return d.jsx(qy,{...s,...r,ref:e})});BA.displayName=$A;var az="AlertDialogAction",zA=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=Br(n);return d.jsx(Ky,{...s,...r,ref:e})});zA.displayName=az;var WA="AlertDialogCancel",HA=m.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=oz(WA,n),i=Br(n),o=Oe(e,s);return d.jsx(Ky,{...i,...r,ref:o})});HA.displayName=WA;var lz=({contentRef:t})=>{const e=`\`${Ro}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ro}\` by passing a \`${$A}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ro}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},cz=LA,uz=MA,qA=jA,KA=VA,GA=zA,QA=HA,YA=UA,XA=BA;const JA=cz,dz=uz,ZA=m.forwardRef(({className:t,...e},n)=>d.jsx(qA,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));ZA.displayName=qA.displayName;const Zy=m.forwardRef(({className:t,...e},n)=>d.jsxs(dz,{children:[d.jsx(ZA,{}),d.jsx(KA,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Zy.displayName=KA.displayName;const e0=({className:t,...e})=>d.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",t),...e});e0.displayName="AlertDialogHeader";const t0=({className:t,...e})=>d.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});t0.displayName="AlertDialogFooter";const n0=m.forwardRef(({className:t,...e},n)=>d.jsx(YA,{ref:n,className:ne("text-lg font-semibold",t),...e}));n0.displayName=YA.displayName;const r0=m.forwardRef(({className:t,...e},n)=>d.jsx(XA,{ref:n,className:ne("text-sm text-muted-foreground",t),...e}));r0.displayName=XA.displayName;const s0=m.forwardRef(({className:t,...e},n)=>d.jsx(GA,{ref:n,className:ne(wy(),t),...e}));s0.displayName=GA.displayName;const i0=m.forwardRef(({className:t,...e},n)=>d.jsx(QA,{ref:n,className:ne(wy({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));i0.displayName=QA.displayName;const Md=m.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Md.displayName="Textarea";function hz(t,e=[]){let n=[];function r(i,o){const a=m.createContext(o),l=n.length;n=[...n,o];function u(f){const{scope:g,children:v,...T}=f,y=(g==null?void 0:g[t][l])||a,x=m.useMemo(()=>T,Object.values(T));return d.jsx(y.Provider,{value:x,children:v})}function h(f,g){const v=(g==null?void 0:g[t][l])||a,T=m.useContext(v);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,h]}const s=()=>{const i=n.map(o=>m.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return m.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,fz(s,...e)]}function fz(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const f=l(i)[`__scope${u}`];return{...a,...f}},{});return m.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var sp="rovingFocusGroup.onEntryFocus",pz={bubbles:!1,cancelable:!0},$h="RovingFocusGroup",[Qm,eP,mz]=bR($h),[gz,tP]=hz($h,[mz]),[vz,yz]=gz($h),nP=m.forwardRef((t,e)=>d.jsx(Qm.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Qm.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(wz,{...t,ref:e})})}));nP.displayName=$h;var wz=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=t,g=m.useRef(null),v=Oe(e,g),T=Py(i),[y=null,x]=xi({prop:o,defaultProp:a,onChange:l}),[w,E]=m.useState(!1),S=Ct(u),P=eP(n),D=m.useRef(!1),[L,I]=m.useState(0);return m.useEffect(()=>{const C=g.current;if(C)return C.addEventListener(sp,S),()=>C.removeEventListener(sp,S)},[S]),d.jsx(vz,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(C=>x(C),[x]),onItemShiftTab:m.useCallback(()=>E(!0),[]),onFocusableItemAdd:m.useCallback(()=>I(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>I(C=>C-1),[]),children:d.jsx(we.div,{tabIndex:w||L===0?-1:0,"data-orientation":r,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{D.current=!0}),onFocus:ue(t.onFocus,C=>{const A=!D.current;if(C.target===C.currentTarget&&A&&!w){const N=new CustomEvent(sp,pz);if(C.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=P().filter(Q=>Q.focusable),O=k.find(Q=>Q.active),b=k.find(Q=>Q.id===y),re=[O,b,...k].filter(Boolean).map(Q=>Q.ref.current);iP(re,h)}}D.current=!1}),onBlur:ue(t.onBlur,()=>E(!1))})})}),rP="RovingFocusGroupItem",sP=m.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=br(),l=i||a,u=yz(rP,n),h=u.currentTabStopId===l,f=eP(n),{onFocusableItemAdd:g,onFocusableItemRemove:v}=u;return m.useEffect(()=>{if(r)return g(),()=>v()},[r,g,v]),d.jsx(Qm.ItemSlot,{scope:n,id:l,focusable:r,active:s,children:d.jsx(we.span,{tabIndex:h?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ue(t.onMouseDown,T=>{r?u.onItemFocus(l):T.preventDefault()}),onFocus:ue(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:ue(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){u.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const y=xz(T,u.orientation,u.dir);if(y!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let w=f().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const E=w.indexOf(T.currentTarget);w=u.loop?Tz(w,E+1):w.slice(E+1)}setTimeout(()=>iP(w))}})})})});sP.displayName=rP;var _z={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ez(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function xz(t,e,n){const r=Ez(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _z[r]}function iP(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Tz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Sz=nP,Cz=sP,o0="Tabs",[Iz,t8]=$r(o0,[tP]),oP=tP(),[bz,a0]=Iz(o0),aP=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...u}=t,h=Py(a),[f,g]=xi({prop:r,onChange:s,defaultProp:i});return d.jsx(bz,{scope:n,baseId:br(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:l,children:d.jsx(we.div,{dir:h,"data-orientation":o,...u,ref:e})})});aP.displayName=o0;var lP="TabsList",cP=m.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=a0(lP,n),o=oP(n);return d.jsx(Sz,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(we.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});cP.displayName=lP;var uP="TabsTrigger",dP=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=a0(uP,n),a=oP(n),l=pP(o.baseId,r),u=mP(o.baseId,r),h=r===o.value;return d.jsx(Cz,{asChild:!0,...a,focusable:!s,active:h,children:d.jsx(we.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:ue(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ue(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ue(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});dP.displayName=uP;var hP="TabsContent",fP=m.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=a0(hP,n),l=pP(a.baseId,r),u=mP(a.baseId,r),h=r===a.value,f=m.useRef(h);return m.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),d.jsx(Us,{present:s||h,children:({present:g})=>d.jsx(we.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});fP.displayName=hP;function pP(t,e){return`${t}-trigger-${e}`}function mP(t,e){return`${t}-content-${e}`}var Rz=aP,gP=cP,vP=dP,yP=fP;const wP=Rz,l0=m.forwardRef(({className:t,...e},n)=>d.jsx(gP,{ref:n,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));l0.displayName=gP.displayName;const Ao=m.forwardRef(({className:t,...e},n)=>d.jsx(vP,{ref:n,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Ao.displayName=vP.displayName;const Po=m.forwardRef(({className:t,...e},n)=>d.jsx(yP,{ref:n,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Po.displayName=yP.displayName;const Az=H.createContext(null),Pz=()=>H.useContext(Az),Nz=m.createContext({}),Bh=()=>{const t=m.useContext(Nz),e=m.useContext(_P),{getFieldState:n,formState:r}=Pz(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},_P=m.createContext({}),kz=m.forwardRef(({className:t,...e},n)=>{const r=m.useId();return d.jsx(_P.Provider,{value:{id:r},children:d.jsx("div",{ref:n,className:ne("space-y-2",t),...e})})});kz.displayName="FormItem";const to=m.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=Bh();return d.jsx(Dd,{ref:n,className:ne(r&&"text-destructive",t),htmlFor:s,...e})});to.displayName="FormLabel";const Oz=m.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Bh();return d.jsx(Or,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Oz.displayName="FormControl";const Dz=m.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=Bh();return d.jsx("p",{ref:n,id:r,className:ne("text-sm text-muted-foreground",t),...e})});Dz.displayName="FormDescription";const Lz=m.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=Bh(),o=s?String(s==null?void 0:s.message):e;return o?d.jsx("p",{ref:r,id:i,className:ne("text-sm font-medium text-destructive",t),...n,children:o}):null});Lz.displayName="FormMessage";const Mz=()=>{const{currentUser:t,loading:e}=fa(),n=hh(),[r,s]=m.useState([]),[i,o]=m.useState([]),[a,l]=m.useState(!0),[u,h]=m.useState(""),[f,g]=m.useState("Todos"),[v,T]=m.useState("status"),[y,x]=m.useState(null),[w,E]=m.useState(null),[S,P]=m.useState("Não Lido"),[D,L]=m.useState(0),[I,C]=m.useState(""),[A,N]=m.useState(!1),[k,O]=m.useState({title:"",author:"",pageCount:"",synopsis:"",genres:[],newGenre:"",language:""});m.useEffect(()=>{t&&b()},[t]),m.useEffect(()=>{r.length>0&&B()},[r,u,f,v]),m.useEffect(()=>{w&&(O({title:w.title||"",author:w.author||"",pageCount:w.pageCount?String(w.pageCount):"",synopsis:w.synopsis||"",genres:w.genres||[],newGenre:"",language:w.language||""}),N(w.favorite||!1))},[w]);const b=async()=>{if(t){l(!0);try{const F=await Ay(t.uid);s(F),o(F)}catch(F){console.error("Error loading books:",F),et({title:"Erro ao carregar livros",description:"Não foi possível carregar sua coleção de livros. Tente novamente.",variant:"destructive"})}finally{l(!1)}}},B=()=>{let F=[...r];if(u.trim()!==""){const ie=u.toLowerCase().trim();F=F.filter(W=>W.title.toLowerCase().includes(ie)||W.author.toLowerCase().includes(ie))}f!=="Todos"&&(F=F.filter(ie=>ie.status===f)),F=re(F,v),o(F)},re=(F,ie)=>{const W=[...F];switch(ie){case"status":return W.sort((ge,xe)=>{const fe={Lendo:1,"Não Lido":2,Lido:3},ae=fe[ge.status]||999,ye=fe[xe.status]||999;return ae===ye?ge.title.localeCompare(xe.title):ae-ye});case"rating":return W.sort((ge,xe)=>{const fe=ge.rating||0,ae=xe.rating||0;return fe===ae?ge.title.localeCompare(xe.title):ae-fe});case"title":return W.sort((ge,xe)=>ge.title.localeCompare(xe.title));case"favorite":return W.sort((ge,xe)=>{const fe=ge.favorite?1:0,ae=xe.favorite?1:0;return fe===ae?ge.title.localeCompare(xe.title):ae-fe});default:return W}},Q=F=>{x(F)},ee=async()=>{if(!(!y||!y.id))try{await IR(y.id),s(r.filter(F=>F.id!==y.id)),et({title:"Livro removido",description:`${y.title} foi removido da sua coleção.`})}catch(F){console.error("Error deleting book:",F),et({title:"Erro ao remover livro",description:"Não foi possível remover o livro. Tente novamente.",variant:"destructive"})}finally{x(null)}},V=F=>{E(F),P(F.status),L(F.rating||0),C(F.notes||""),N(F.favorite||!1)},U=F=>{F.key==="Enter"&&B()},G=async F=>{if(F.id)try{const ie=!F.favorite;await zm(F.id,{favorite:ie}),s(r.map(W=>W.id===F.id?{...W,favorite:ie}:W)),et({title:ie?"Adicionado aos favoritos":"Removido dos favoritos",description:`${F.title} foi ${ie?"adicionado aos":"removido dos"} favoritos.`})}catch(ie){console.error("Error updating favorite status:",ie),et({title:"Erro ao atualizar status de favorito",description:"Não foi possível atualizar o status de favorito. Tente novamente.",variant:"destructive"})}},oe=async()=>{if(!(!w||!w.id))try{const F=k.pageCount?parseInt(k.pageCount,10):void 0,ie={status:S,rating:D,notes:I,title:k.title||w.title,author:k.author||w.author,synopsis:k.synopsis,pageCount:F,genres:k.genres,language:k.language,favorite:A};await zm(w.id,ie),s(r.map(W=>W.id===w.id?{...W,...ie}:W)),et({title:"Livro atualizado",description:`As informações de ${k.title||w.title} foram atualizadas.`}),E(null)}catch(F){console.error("Error updating book:",F),et({title:"Erro ao atualizar livro",description:"Não foi possível atualizar as informações do livro. Tente novamente.",variant:"destructive"})}},Y=(F,ie)=>{O(W=>({...W,[F]:ie}))},te=()=>{k.newGenre.trim()!==""&&(k.genres.includes(k.newGenre.trim())?et({title:"Gênero já existe",description:"Este gênero já foi adicionado ao livro.",variant:"destructive"}):O(F=>({...F,genres:[...F.genres,F.newGenre.trim()],newGenre:""})))},le=F=>{O(ie=>({...ie,genres:ie.genres.filter(W=>W!==F)}))};return e?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Minha Coleção"}),d.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os seus livros em um só lugar"})]}),d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[d.jsx("div",{className:"w-full md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(fS,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(Kn,{placeholder:"Pesquisar livros...",value:u,onChange:F=>h(F.target.value),onKeyPress:U,className:"pl-8"})]})}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsxs(Vl,{value:f,onValueChange:g,children:[d.jsx(Xo,{className:"w-full md:w-40",children:d.jsx(Fl,{placeholder:"Status"})}),d.jsxs(Jo,{children:[d.jsx(ut,{value:"Todos",children:"Todos"}),d.jsx(ut,{value:"Lido",children:"Lido"}),d.jsx(ut,{value:"Não Lido",children:"Não Lido"}),d.jsx(ut,{value:"Lendo",children:"Lendo"})]})]}),d.jsxs(SR,{children:[d.jsx(CR,{asChild:!0,children:d.jsx(Ae,{variant:"outline",size:"icon",className:"h-10 w-10",children:d.jsx(cO,{className:"h-4 w-4"})})}),d.jsx(Ry,{className:"w-48",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Ordenar por"}),d.jsxs("div",{className:"grid gap-1.5",children:[d.jsx(Ae,{variant:v==="status"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("status"),children:"Status"}),d.jsx(Ae,{variant:v==="rating"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("rating"),children:"Nota"}),d.jsx(Ae,{variant:v==="title"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("title"),children:"Título"}),d.jsx(Ae,{variant:v==="favorite"?"default":"ghost",className:"justify-start",size:"sm",onClick:()=>T("favorite"),children:"Favoritos"})]})]})})]})]})]}),a?d.jsx("div",{className:"flex justify-center items-center py-20",children:d.jsx(Qg,{className:"h-8 w-8 animate-spin text-purple-500"})}):i.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx(Es,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-medium mb-2",children:"Nenhum livro encontrado"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Sua coleção está vazia. Adicione seu primeiro livro!":"Nenhum livro corresponde aos filtros selecionados."}),r.length===0&&d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}):d.jsx("div",{className:"rounded-lg border overflow-hidden",children:d.jsxs(My,{children:[d.jsx(jy,{children:d.jsxs($l,{children:[d.jsx(sn,{children:"Capa"}),d.jsx(sn,{children:"Título"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Autor"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Status"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Nota"}),d.jsx(sn,{children:"Ações"})]})}),d.jsx(Vy,{children:i.map(F=>d.jsxs($l,{className:F.favorite?"bg-secondary/30":"",children:[d.jsx(on,{children:d.jsx("div",{className:"h-16 w-12 overflow-hidden rounded-sm",children:d.jsx("img",{src:F.coverUrl||"/placeholder.svg",alt:F.title,className:"h-full w-full object-cover",onError:ie=>{ie.target.src="/placeholder.svg"}})})}),d.jsx(on,{className:"font-medium",children:d.jsxs("div",{className:"flex items-center gap-2",children:[F.favorite&&d.jsx(Kc,{className:"h-3.5 w-3.5 fill-current text-red-500"}),d.jsxs("div",{children:[d.jsx("p",{className:"line-clamp-1",children:F.title}),d.jsx("p",{className:"text-xs text-muted-foreground md:hidden",children:F.author})]})]})}),d.jsx(on,{className:"hidden md:table-cell",children:F.author}),d.jsx(on,{className:"hidden md:table-cell",children:d.jsx(Ul,{status:F.status})}),d.jsx(on,{className:"hidden md:table-cell",children:F.rating?d.jsx(mi,{rating:F.rating,size:16}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"Sem avaliação"})}),d.jsx(on,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>G(F),className:"h-8 w-8",title:F.favorite?"Remover dos favoritos":"Adicionar aos favoritos",children:d.jsx(Kc,{className:`h-4 w-4 ${F.favorite?"fill-current text-red-500":""}`})}),d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>V(F),className:"h-8 w-8",children:d.jsx(hS,{className:"h-4 w-4"})}),d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>Q(F),className:"h-8 w-8 text-destructive",children:d.jsx(pS,{className:"h-4 w-4"})})]})})]},F.id))})]})}),d.jsx(kA,{open:!!w,onOpenChange:F=>!F&&E(null),children:w&&d.jsxs(Gy,{className:"max-w-3xl",children:[d.jsxs(Qy,{children:[d.jsxs(Xy,{className:"flex items-center gap-2",children:[A&&d.jsx(Kc,{className:"h-4 w-4 fill-current text-red-500"}),w.title]}),d.jsx(Jy,{children:"Detalhes do livro"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 py-4",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"h-60 w-40 overflow-hidden rounded-md border mb-4",children:d.jsx("img",{src:w.coverUrl||"/placeholder.svg",alt:w.title,className:"h-full w-full object-cover",onError:F=>{F.target.src="/placeholder.svg"}})}),d.jsx("p",{className:"text-center font-medium",children:w.author}),w.pageCount&&d.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[w.pageCount," páginas"]}),w.language&&d.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-1",children:["Idioma: ",w.language]}),d.jsxs(Ae,{variant:A?"default":"outline",size:"sm",className:"mt-3 gap-2",onClick:()=>N(!A),children:[d.jsx(Kc,{className:`h-4 w-4 ${A?"fill-current":""}`}),A?"Favorito":"Adicionar aos Favoritos"]})]})}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs(wP,{defaultValue:"info",className:"w-full",children:[d.jsxs(l0,{className:"mb-4",children:[d.jsx(Ao,{value:"info",children:"Informações"}),d.jsx(Ao,{value:"edit",children:"Editar"}),d.jsx(Ao,{value:"details",children:"Informações Detalhadas"})]}),d.jsxs(Po,{value:"info",className:"space-y-4",children:[w.genres&&w.genres.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Gêneros"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:w.genres.map((F,ie)=>d.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs",children:F},ie))})]}),w.synopsis&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Sinopse"}),d.jsx("p",{className:"text-sm leading-relaxed max-h-40 overflow-y-auto",children:w.synopsis})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Status"}),d.jsx(Ul,{status:w.status})]}),w.rating!==void 0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(mi,{rating:w.rating,size:20}),d.jsx("span",{className:"ml-2",children:w.rating.toFixed(1)})]})]}),w.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Anotações"}),d.jsx("div",{className:"bg-muted p-3 rounded-md text-sm",children:d.jsx("p",{className:"whitespace-pre-wrap",children:w.notes})})]})]}),d.jsxs(Po,{value:"edit",className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Status de Leitura"}),d.jsxs(Vl,{value:S,onValueChange:F=>P(F),children:[d.jsx(Xo,{children:d.jsx(Fl,{placeholder:"Selecione o status"})}),d.jsxs(Jo,{children:[d.jsx(ut,{value:"Lido",children:"Lido"}),d.jsx(ut,{value:"Não Lido",children:"Não Lido"}),d.jsx(ut,{value:"Lendo",children:"Lendo"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(mi,{rating:D,editable:!0,onChange:L}),d.jsxs("span",{className:"ml-2",children:[D," / 5"]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Idioma"}),d.jsx(Kn,{value:k.language,onChange:F=>Y("language",F.target.value),placeholder:"Português, Inglês, Espanhol, etc."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Notas e Anotações"}),d.jsx(Md,{value:I,onChange:F=>C(F.target.value),placeholder:"Adicione suas anotações sobre este livro...",className:"min-h-32"})]})]}),d.jsx(Po,{value:"details",className:"space-y-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(to,{children:"Título"}),d.jsx(Kn,{value:k.title,onChange:F=>Y("title",F.target.value),placeholder:"Título do livro"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(to,{children:"Autor"}),d.jsx(Kn,{value:k.author,onChange:F=>Y("author",F.target.value),placeholder:"Autor do livro"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(to,{children:"Número de Páginas"}),d.jsx(Kn,{type:"number",value:k.pageCount,onChange:F=>Y("pageCount",F.target.value),placeholder:"Exemplo: 320"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(to,{children:"Sinopse"}),d.jsx(Md,{value:k.synopsis,onChange:F=>Y("synopsis",F.target.value),placeholder:"Sinopse do livro",className:"min-h-[100px]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(to,{children:"Gêneros"}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:k.genres.map((F,ie)=>d.jsxs("div",{className:"flex items-center bg-secondary rounded-md px-2 py-1",children:[d.jsx("span",{className:"text-xs",children:F}),d.jsx("button",{type:"button",onClick:()=>le(F),className:"ml-1 text-muted-foreground hover:text-destructive",children:"×"})]},ie))}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(Kn,{value:k.newGenre,onChange:F=>Y("newGenre",F.target.value),placeholder:"Adicionar gênero",className:"flex-1"}),d.jsx(Ae,{type:"button",onClick:te,size:"sm",children:"Adicionar"})]})]})]})})]})})]}),d.jsxs(Yy,{children:[d.jsx(Ae,{variant:"outline",onClick:()=>E(null),children:"Cancelar"}),d.jsx(Ae,{onClick:oe,children:"Salvar Alterações"})]})]})}),d.jsx(JA,{open:!!y,onOpenChange:F=>!F&&x(null),children:d.jsxs(Zy,{children:[d.jsxs(e0,{children:[d.jsx(n0,{children:"Tem certeza?"}),d.jsxs(r0,{children:["Esta ação não pode ser desfeita. O livro",d.jsx("span",{className:"font-medium mx-1",children:y==null?void 0:y.title}),"será removido permanentemente da sua coleção."]})]}),d.jsxs(t0,{children:[d.jsx(i0,{children:"Cancelar"}),d.jsx(s0,{onClick:ee,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})})]}):d.jsx(fh,{to:"/login"})},jz=()=>{const{currentUser:t,loading:e}=fa(),n=hh(),[r,s]=m.useState([]),[i,o]=m.useState([]),[a,l]=m.useState(!0),[u,h]=m.useState(""),[f,g]=m.useState("Todos"),[v,T]=m.useState(null),[y,x]=m.useState(null),[w,E]=m.useState("Não Lido"),[S,P]=m.useState(0),[D,L]=m.useState("");m.useEffect(()=>{t&&I()},[t]),m.useEffect(()=>{r.length>0&&C()},[r,u,f]);const I=async()=>{if(t){l(!0);try{const b=await Ay(t.uid);s(b),o(b)}catch(b){console.error("Error loading books:",b),et({title:"Erro ao carregar livros",description:"Não foi possível carregar sua coleção de livros. Tente novamente.",variant:"destructive"})}finally{l(!1)}}},C=()=>{let b=[...r];if(u.trim()!==""){const B=u.toLowerCase().trim();b=b.filter(re=>re.title.toLowerCase().includes(B)||re.author.toLowerCase().includes(B))}f!=="Todos"&&(b=b.filter(B=>B.status===f)),o(b)},A=b=>{T(b)},N=async()=>{if(!(!v||!v.id))try{await IR(v.id),s(r.filter(b=>b.id!==v.id)),et({title:"Livro removido",description:`${v.title} foi removido da sua coleção.`})}catch(b){console.error("Error deleting book:",b),et({title:"Erro ao remover livro",description:"Não foi possível remover o livro. Tente novamente.",variant:"destructive"})}finally{T(null)}},k=b=>{x(b),E(b.status),P(b.rating||0),L(b.notes||"")},O=async()=>{if(!(!y||!y.id))try{await zm(y.id,{status:w,rating:S,notes:D}),s(r.map(b=>b.id===y.id?{...b,status:w,rating:S,notes:D}:b)),et({title:"Livro atualizado",description:`As informações de ${y.title} foram atualizadas.`}),x(null)}catch(b){console.error("Error updating book:",b),et({title:"Erro ao atualizar livro",description:"Não foi possível atualizar as informações do livro. Tente novamente.",variant:"destructive"})}};return e?d.jsx("div",{className:"h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-pulse text-purple-500",children:"Carregando..."})}):t?d.jsxs("div",{className:"container mx-auto px-4 py-8",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold",children:"Minha Coleção"}),d.jsx("p",{className:"text-muted-foreground",children:"Gerencie todos os seus livros em um só lugar"})]}),d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-6 gap-4",children:[d.jsx("div",{className:"w-full md:w-64",children:d.jsxs("div",{className:"relative",children:[d.jsx(fS,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d.jsx(Kn,{placeholder:"Pesquisar livros...",value:u,onChange:b=>h(b.target.value),className:"pl-8"})]})}),d.jsxs(Vl,{value:f,onValueChange:g,children:[d.jsx(Xo,{className:"w-full md:w-40",children:d.jsx(Fl,{placeholder:"Status"})}),d.jsxs(Jo,{children:[d.jsx(ut,{value:"Todos",children:"Todos"}),d.jsx(ut,{value:"Lido",children:"Lido"}),d.jsx(ut,{value:"Não Lido",children:"Não Lido"}),d.jsx(ut,{value:"Lendo",children:"Lendo"})]})]})]}),a?d.jsx("div",{className:"flex justify-center items-center py-20",children:d.jsx(Qg,{className:"h-8 w-8 animate-spin text-purple-500"})}):i.length===0?d.jsxs("div",{className:"text-center py-20",children:[d.jsx(Es,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-medium mb-2",children:"Nenhum livro encontrado"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:r.length===0?"Sua coleção está vazia. Adicione seu primeiro livro!":"Nenhum livro corresponde aos filtros selecionados."}),r.length===0&&d.jsxs(Ae,{onClick:()=>n("/add-book"),children:[d.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Adicionar Livro"]})]}):d.jsx("div",{className:"rounded-lg border overflow-hidden",children:d.jsxs(My,{children:[d.jsx(jy,{children:d.jsxs($l,{children:[d.jsx(sn,{children:"Capa"}),d.jsx(sn,{children:"Título"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Autor"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Status"}),d.jsx(sn,{className:"hidden md:table-cell",children:"Nota"}),d.jsx(sn,{children:"Ações"})]})}),d.jsx(Vy,{children:i.map(b=>d.jsxs($l,{children:[d.jsx(on,{children:d.jsx("div",{className:"h-16 w-12 overflow-hidden rounded-sm",children:d.jsx("img",{src:b.coverUrl||"/placeholder.svg",alt:b.title,className:"h-full w-full object-cover",onError:B=>{B.target.src="/placeholder.svg"}})})}),d.jsx(on,{className:"font-medium",children:d.jsxs("div",{children:[d.jsx("p",{className:"line-clamp-1",children:b.title}),d.jsx("p",{className:"text-xs text-muted-foreground md:hidden",children:b.author})]})}),d.jsx(on,{className:"hidden md:table-cell",children:b.author}),d.jsx(on,{className:"hidden md:table-cell",children:d.jsx(Ul,{status:b.status})}),d.jsx(on,{className:"hidden md:table-cell",children:b.rating?d.jsx(mi,{rating:b.rating,size:16}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"Sem avaliação"})}),d.jsx(on,{children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>k(b),className:"h-8 w-8",children:d.jsx(hS,{className:"h-4 w-4"})}),d.jsx(Ae,{variant:"outline",size:"icon",onClick:()=>A(b),className:"h-8 w-8 text-destructive",children:d.jsx(pS,{className:"h-4 w-4"})})]})})]},b.id))})]})}),d.jsx(kA,{open:!!y,onOpenChange:b=>!b&&x(null),children:y&&d.jsxs(Gy,{className:"max-w-3xl",children:[d.jsxs(Qy,{children:[d.jsx(Xy,{children:y.title}),d.jsx(Jy,{children:"Detalhes do livro"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 py-4",children:[d.jsx("div",{className:"md:col-span-1",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx("div",{className:"h-60 w-40 overflow-hidden rounded-md border mb-4",children:d.jsx("img",{src:y.coverUrl||"/placeholder.svg",alt:y.title,className:"h-full w-full object-cover",onError:b=>{b.target.src="/placeholder.svg"}})}),d.jsx("p",{className:"text-center font-medium",children:y.author}),y.pageCount&&d.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[y.pageCount," páginas"]})]})}),d.jsx("div",{className:"md:col-span-2",children:d.jsxs(wP,{defaultValue:"info",className:"w-full",children:[d.jsxs(l0,{className:"mb-4",children:[d.jsx(Ao,{value:"info",children:"Informações"}),d.jsx(Ao,{value:"edit",children:"Editar"})]}),d.jsxs(Po,{value:"info",className:"space-y-4",children:[y.genres&&y.genres.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Gêneros"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:y.genres.map((b,B)=>d.jsx("span",{className:"px-2 py-1 bg-secondary rounded-md text-xs",children:b},B))})]}),y.synopsis&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Sinopse"}),d.jsx("p",{className:"text-sm leading-relaxed max-h-40 overflow-y-auto",children:y.synopsis})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Status"}),d.jsx(Ul,{status:y.status})]}),y.rating!==void 0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(mi,{rating:y.rating,size:20}),d.jsx("span",{className:"ml-2",children:y.rating.toFixed(1)})]})]}),y.notes&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Anotações"}),d.jsx("div",{className:"bg-muted p-3 rounded-md text-sm",children:d.jsx("p",{className:"whitespace-pre-wrap",children:y.notes})})]})]}),d.jsxs(Po,{value:"edit",className:"space-y-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Status de Leitura"}),d.jsxs(Vl,{value:w,onValueChange:b=>E(b),children:[d.jsx(Xo,{children:d.jsx(Fl,{placeholder:"Selecione o status"})}),d.jsxs(Jo,{children:[d.jsx(ut,{value:"Lido",children:"Lido"}),d.jsx(ut,{value:"Não Lido",children:"Não Lido"}),d.jsx(ut,{value:"Lendo",children:"Lendo"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Avaliação"}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(mi,{rating:S,editable:!0,onChange:P}),d.jsxs("span",{className:"ml-2",children:[S," / 5"]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-sm font-medium",children:"Notas e Anotações"}),d.jsx(Md,{value:D,onChange:b=>L(b.target.value),placeholder:"Adicione suas anotações sobre este livro...",className:"min-h-32"})]})]})]})})]}),d.jsxs(Yy,{children:[d.jsx(Ae,{variant:"outline",onClick:()=>x(null),children:"Cancelar"}),d.jsx(Ae,{onClick:O,children:"Salvar Alterações"})]})]})}),d.jsx(JA,{open:!!v,onOpenChange:b=>!b&&T(null),children:d.jsxs(Zy,{children:[d.jsxs(e0,{children:[d.jsx(n0,{children:"Tem certeza?"}),d.jsxs(r0,{children:["Esta ação não pode ser desfeita. O livro",d.jsx("span",{className:"font-medium mx-1",children:v==null?void 0:v.title}),"será removido permanentemente da sua coleção."]})]}),d.jsxs(t0,{children:[d.jsx(i0,{children:"Cancelar"}),d.jsx(s0,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remover"})]})]})})]}):d.jsx(fh,{to:"/login"})},Vz=()=>{const t=Li();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),d.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),d.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Fz=new UM,Uz=()=>d.jsx(zM,{client:Fz,children:d.jsx(EM,{children:d.jsx(G9,{children:d.jsxs(Fj,{basename:"/Organizador-Leituras/",children:[d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx(t6,{}),d.jsx("main",{className:"flex-1",children:d.jsxs(kj,{children:[d.jsx(ni,{path:"/",element:d.jsx(M6,{})}),d.jsx(ni,{path:"/login",element:d.jsx(j6,{})}),d.jsx(ni,{path:"/profile",element:d.jsx(U6,{})}),d.jsx(ni,{path:"/add-book",element:d.jsx(Mz,{})}),d.jsx(ni,{path:"/collection",element:d.jsx(jz,{})}),d.jsx(ni,{path:"*",element:d.jsx(Vz,{})})]})})]}),d.jsx(XO,{}),d.jsx(AD,{})]})})})});ip.createRoot(document.getElementById("root")).render(d.jsx(H.StrictMode,{children:d.jsx(Uz,{})}));
